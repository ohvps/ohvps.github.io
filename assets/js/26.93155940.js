(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{661:function(e,i,a){e.exports=a.p+"assets/img/DuzenliOdemeEmriRizasi.14bbb2ce.png"},662:function(e,i,a){e.exports=a.p+"assets/img/DuzenliOdemeEmriRizasininYetkilendirilmesi.067b9108.png"},663:function(e,i,a){e.exports=a.p+"assets/img/DuzenliOdemeEmriRizasininSorgulanmasi.ce2d84c5.png"},664:function(e,i,a){e.exports=a.p+"assets/img/DuzenliOdemeEmrininOlusturulmasi.7d4829e8.png"},665:function(e,i,a){e.exports=a.p+"assets/img/DuzenliOdemeEmriSorgulanmasi.9643cf26.png"},666:function(e,i,a){e.exports=a.p+"assets/img/DuzenliOdemeEmriPlani.3a7678fa.png"},667:function(e,i,a){e.exports=a.p+"assets/img/DuzenliOdemeEmriRizasiIptal.c8f43f89.png"},802:function(e,i,a){"use strict";a.r(i);var r=a(28),n=Object(r.a)({},(function(){var e=this,i=e._self._c;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("h1",{attrs:{id:"_8-duzenli-odeme-emri-baslatma-hizmeti"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_8-duzenli-odeme-emri-baslatma-hizmeti"}},[e._v("#")]),e._v(" 8.\tDüzenli Ödeme Emri Başlatma Hizmeti")]),e._v(" "),i("p",[e._v("Ödeme hizmeti kullanıcısının düzenli tekrar eden bir ödeme talimatı gerçekleştirmek istediği ödeme emirlerinde bu hizmeti kullanabilir. Ödemenin Havale / PÖS / FAST ödeme sistemlerinden hangisi ile gerçekleşeceğine, ödeme günü geldiğinde HHS karar verir.")]),e._v(" "),i("p",[e._v("Düzenli ödeme hizmetini online bankacılık sistemlerinde sunan HHS'lerin, ÖHVPS üzerinden bu hizmetleri sunması zorunludur. Mevcutta online kanallarından bu hizmeti sundukları müşteri segmentine (bireysel,kurumsal vb.), ÖHVPS üzerinden hizmet sunmaya devam etmeleri gerekmektedir. YÖS, bireysel müşteri özelinde düzenli ödeme hizmeti vermeyen HHS'ye düzenli ödeme talimatı rızası isteği yapması durumunda HHS tarafından "),i("strong",[e._v("TR.OHVPS.Business.IndividualCustomerNotSupported")]),e._v(" hatası , kurumsal müşteri özelinde düzenli ödeme talimatı rızası isteği yapıldığında HHS tarafından "),i("strong",[e._v("TR.OHVPS.Business.CorporateCustomerNotSupported")]),e._v(" hatası verilmelidir.")]),e._v(" "),i("p",[e._v("HHS'ler düzenli ödeme hizmetini sunuş bilgilerini HHS API aracılığı ile yayınlayacaklardır. YÖS, düzenli ödeme hizmeti başlatabileceği HHS'lerin listesini HHS API'de yer alan \"hizmetTipi\":\"03\" parametresi ile alabilir. YÖS, düzenli ödeme hizmeti sunmayan HHS'ye düzenli ödeme talimat rızası isteği yapması durumunda HHS tarafından "),i("strong",[e._v("TR.OHVPS.Business.RegularPaymentOrderNotSupported")]),e._v(" hatası iletilmelidir.")]),e._v(" "),i("p",[e._v("Düzenli ödeme talimatı güncelleme hizmeti YÖS üzerinden yapılamayacaktır. ÖHK aktif olan düzenli ödeme talimat rızasını iptal ederek, yeniden oluşturabilecektir.")]),e._v(" "),i("p",[e._v("HHS üzerinden ilgili güncelleme hizmeti sağlanabilir. Ödeme planında yapılan güncelleme sonucunda olay bildirim ile YÖS'e bildirim sağlanacaktır. HHS üzerinden güncelleme yapılırken son ödeme günü için ileri bir tarihe güncelleme adımı olmamalıdır. Sadece ilk oluşturulan düzenli ödeme emri içerisindeki son ödeme gününden öncesi olacak şekilde güncelleme yapılmasına izin verilmelidir.")]),e._v(" "),i("p",[e._v("Düzenli Ödeme Emri Başlatma Hizmeti 5 temel akışdan oluşur:")]),e._v(" "),i("ol",{attrs:{start:"0"}},[i("li",[i("strong",[e._v("Düzenli Ödeme Emri Rızası Başlatma İsteğinin tetiklenmesi:")]),e._v(" ÖHK ÖBHS mobil uygulama ya da websitesinden düzenli ödeme emri rızasını başlatır.")]),e._v(" "),i("li",[i("strong",[e._v("Düzenli Ödeme Emri Rıza Hazırlanması:")]),e._v(" ÖBHS, “Düzenli Ödeme Emri Rızası Başlatma” işlemi için izin oluşturulması isteğini HHS’ye iletir.")]),e._v(" "),i("li",[i("strong",[e._v("Düzenli Ödeme Emri Rızasının Yetkilendirilmesi:")]),e._v(" HHS, gerekli gördüğü durumlarda ÖHK’yı GKD ile doğrular ve düzenli ödeme emri rızasına erişim için erişim belirteci tanımlanmasını temin eder.")]),e._v(" "),i("li",[i("strong",[e._v("Düzenli Ödeme Emrinin Başlatılması:")]),e._v(" ÖBHS, “düzenli ödeme emri”ni HHS’ye iletir.")]),e._v(" "),i("li",[i("strong",[e._v("Düzenli Ödeme Emri Rıza Durumu, Düzenli Ödeme Emri Durumu, Düzenli Ödeme Emri Detayı Sorguları:")]),e._v(" ÖBHS, Düzenli Ödeme Emri Rıza Durumu, Düzenli Ödeme Emri Durumu, Düzenli Ödeme Emri Detayı bilgilerini isteğe bağlı olarak sorgulayabilir.")]),e._v(" "),i("li",[i("strong",[e._v("Düzenli Ödeme Planı Sorguları:")]),e._v(" ÖBHS, Düzenli Ödeme Emri için oluşturulan talimata dair ödeme planını sorgulayabilir.")])]),e._v(" "),i("p",[e._v("Nezdinde ödeme hesabı bulunduran hesap hizmeti sağlayıcılar(Banka, EPK, Ödeme Kuruluşları)  müşterilerine ait hesapları hesap referansı ya da hesap numarası üzerinden takip etmektedir. YÖS'lerin hem HBH hem de ÖBH servisleri için hesap referansı veya hesap numarası üzerinden işlem yapılabileceğini bilmeleri, sistemlerini API dokümanında belirtilen akışlara göre uyumlandırmaları ve müşteri bilgilendirmesini(önyüzlerinde hesap no ve hesap referansı ayrımını gözeterek) buna paralel yapmaları beklenmektedir.")]),e._v(" "),i("p",[e._v("YÖS'ler gönderen hesap seçimini aşağıdaki yöntemlerden biri ya da birkaçı ile sağlayabilirler:")]),e._v(" "),i("ul",[i("li",[e._v("YÖS, müşterisinin ödeme hesabını HHS ekranından seçtirebilir.")]),e._v(" "),i("li",[e._v("YÖS, müşterisinden Hesap Bilgisi rızası alır. Rıza aldığı hesaplar üzerinden hesap referansı aracılığı ile düzenli ödeme emri başlatabilir.")]),e._v(" "),i("li",[e._v("YÖS, müşterisinin ödeme hesabını elle girmesine olanak tanıyabilir. IBAN'ı olmayan HHS'ler düzenli ödeme emri rızası adımında "),i("strong",[e._v("TR.OHVPS.Business.IBANNotSupported")]),e._v(" hatasını vermelidir. IBAN'ı olan HHS'lerin bu akışı desteklemesi zorunludur.")]),e._v(" "),i("li",[e._v("YÖS; müşterisinin hesap referansını elle girmesini sağlayabilir. Hesap Referansı bilgisi ile başlatılan düzenli ödeme emri işlemlerinde HHS seçimi zorunludur.")])]),e._v(" "),i("p",[e._v("Ödeme Sistemine doğrudan katılımcı olmayan HHS'ler, müşterilerine IBAN sunmadıkları için, YÖS'ler hesap referansı ile ödeme başlatabilirler. Bunların dışındaki HHS'lerin, gönderen IBAN veya hesap referansı ile ödeme akışını desteklemesi zorunludur.")]),e._v(" "),i("h2",{attrs:{id:"duzenli-odeme-emri-baslatma-hizmeti-icin-erisim-adresleri-endpoints"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#duzenli-odeme-emri-baslatma-hizmeti-icin-erisim-adresleri-endpoints"}},[e._v("#")]),e._v(" Düzenli Ödeme Emri Başlatma Hizmeti için Erişim Adresleri (Endpoints)")]),e._v(" "),i("p",[e._v("Düzenli Ödeme Emri Başlatma Hizmeti İçin Erişim Adreslerinin Etki Alanı (Scope) = “odeme_emri” olarak belirtilmelidir. Ödeme Emri Hizmeti ile aynı etki alanı(scope) kullanılmaktadır.")]),e._v(" "),i("p",[i("strong",[e._v("Tablo : Düzenli Ödeme Emri Başlatma Hizmeti İçin Erişim Adresleri")])]),e._v(" "),i("table",[i("thead",[i("tr",[i("th",[e._v("No")]),e._v(" "),i("th",[e._v("Kaynak")]),e._v(" "),i("th",[e._v("HTTP işlemi")]),e._v(" "),i("th",[e._v("Erişim Adresi")]),e._v(" "),i("th",[e._v("Zorunlu / İsteğe Bağlı")]),e._v(" "),i("th",[e._v("Yetkilendirme Türü")]),e._v(" "),i("th",[e._v("İmzalama")]),e._v(" "),i("th",[e._v("İstem Nesnesi")]),e._v(" "),i("th",[e._v("Yanıt Nesnesi")])])]),e._v(" "),i("tbody",[i("tr",[i("td",[e._v("1")]),e._v(" "),i("td",[e._v("duzenli-odeme-emri-rizasi")]),e._v(" "),i("td",[e._v("POST")]),e._v(" "),i("td",[e._v("/duzenli-odeme-emri-rizasi")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İstemci Kimlik Bilgileri")]),e._v(" "),i("td",[e._v("İmzalı İstek ve Yanıt")]),e._v(" "),i("td",[e._v("DuzenliOdemeEmriRizasiIstegi")]),e._v(" "),i("td",[e._v("DuzenliOdemeEmriRizasi")])]),e._v(" "),i("tr",[i("td",[e._v("2")]),e._v(" "),i("td",[e._v("erisim-belirteci (GKD için)")]),e._v(" "),i("td",[e._v("POST")]),e._v(" "),i("td",[e._v("/erisim-belirteci")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İstemci Kimlik Bilgileri")]),e._v(" "),i("td",[e._v("İmzalı İstek ve Yanıt")]),e._v(" "),i("td",[e._v("ErisimBelirteciIstegi")]),e._v(" "),i("td",[e._v("ErisimBelirteci")])]),e._v(" "),i("tr",[i("td",[e._v("3")]),e._v(" "),i("td",[e._v("duzenli-odeme-emri-rizasi")]),e._v(" "),i("td",[e._v("GET")]),e._v(" "),i("td",[e._v("/duzenli-odeme-emri-rizasi/{rizaNo}")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İstemci Kimlik Bilgileri")]),e._v(" "),i("td",[e._v("İmzalı Yanıt")]),e._v(" "),i("td",[e._v("-")]),e._v(" "),i("td",[e._v("DuzenliOdemeEmriRizasi")])]),e._v(" "),i("tr",[i("td",[e._v("4")]),e._v(" "),i("td",[e._v("duzenli-odeme-emri")]),e._v(" "),i("td",[e._v("POST")]),e._v(" "),i("td",[e._v("/duzenli-odeme-emri")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İstemci Kimlik Bilgileri & Yetkilendirme Kodu (GKD)")]),e._v(" "),i("td",[e._v("İmzalı İstek ve Yanıt")]),e._v(" "),i("td",[e._v("DuzenliOdemeEmriIstegi")]),e._v(" "),i("td",[e._v("DuzenliOdemeEmri")])]),e._v(" "),i("tr",[i("td",[e._v("5")]),e._v(" "),i("td",[e._v("duzenli-odeme-emri")]),e._v(" "),i("td",[e._v("GET")]),e._v(" "),i("td",[e._v("/duzenli-odeme-emri/{talimatNo}")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İstemci Kimlik Bilgileri & Yetkilendirme Kodu (GKD)")]),e._v(" "),i("td",[e._v("İmzalı Yanıt")]),e._v(" "),i("td",[e._v("-")]),e._v(" "),i("td",[e._v("DuzenliOdemeEmri")])]),e._v(" "),i("tr",[i("td",[e._v("6")]),e._v(" "),i("td",[e._v("duzenli-odeme-emri-rizasi-iptal")]),e._v(" "),i("td",[e._v("DELETE")]),e._v(" "),i("td",[e._v("/duzenli-odeme-emri-rizasi/{rizaNo}")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İstemci Kimlik Bilgileri")]),e._v(" "),i("td",[e._v("-")]),e._v(" "),i("td",[e._v("-")]),e._v(" "),i("td",[e._v("-")])]),e._v(" "),i("tr",[i("td",[e._v("7")]),e._v(" "),i("td",[e._v("duzenli-odeme-talimat-plani")]),e._v(" "),i("td",[e._v("GET")]),e._v(" "),i("td",[e._v("/duzenli-odeme-emri/{talimatNo}/odeme-plani")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İstemci Kimlik Bilgileri & Yetkilendirme Kodu (GKD)")]),e._v(" "),i("td",[e._v("İmzalı Yanıt")]),e._v(" "),i("td",[e._v("-")]),e._v(" "),i("td",[e._v("DuzenliOdemeEmriPlani")])])])]),e._v(" "),i("h2",{attrs:{id:"_8-1-adim-0-duzenli-odeme-emri-rızası-baslatma-istegi"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-adim-0-duzenli-odeme-emri-rızası-baslatma-istegi"}},[e._v("#")]),e._v(" 8.1.\tADIM 0 - Düzenli Ödeme Emri Rızası Başlatma Isteği")]),e._v(" "),i("ul",[i("li",[e._v("ÖHK, ÖBHS uygulamasında (web arayüzü/mobil uygulama) düzenli ödeme emri rızası sürecini başlatır.")]),e._v(" "),i("li",[e._v("Gönderen hesap detaylarının bu aşamada belirtilmesi zorunlu değildir.")])]),e._v(" "),i("h2",{attrs:{id:"_8-2-adim-1-duzenli-odeme-emri-rızasının-hazırlanması"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-adim-1-duzenli-odeme-emri-rızasının-hazırlanması"}},[e._v("#")]),e._v(" 8.2.\tADIM 1 - Düzenli Ödeme Emri Rızasının Hazırlanması")]),e._v(" "),i("img",{attrs:{src:a(661),width:"75%"}}),e._v(" "),i("p",[i("strong",[e._v("Şekil : Düzenli Ödeme Emri Rızasının Hazırlanması")])]),e._v(" "),i("ul",[i("li",[i("p",[e._v("ÖBHS, ödeme hizmeti kullanıcı hesabının bulunduğu HHS’ye bağlanarak düzenli ödeme emri rıza kaynağının oluşturulmasını (DuzenliOdemeEmriRizasi) sağlar.")])]),e._v(" "),i("li",[i("p",[e._v("POST isteği TLS protokolü tesis edilen iletişim katmanı üzerinden gerçekleştirilir. TLS için nitelikli sertifikalar kullanılır.")])]),e._v(" "),i("li",[i("p",[e._v("POST isteğinin başlığındaki alanlar ve istemcinin sertifikasındaki özel alanlar kullanılarak istemcinin yetkilendirilmesi sağlanır:")]),e._v(" "),i("ul",[i("li",[e._v("İstekte bulunan ÖBHS yetkilendirilmiş olduğu geçit tarafından kontrol edilir.")]),e._v(" "),i("li",[e._v("İstekte bulunan yetkilendirilmiş ödeme hizmeti sağlayıcısı ÖBHS rolüne sahipliği geçit tarafından kontrol edilir.")]),e._v(" "),i("li",[e._v("HHS tarafından, istek başlığındaki x-aspsp-code ile katilimciBlg içerisinde yer alan hhsKod değeri ile aynı olduğunu kontrol edilir. Farklı olması durumunda "),i("strong",[e._v("“TR.OHVPS.Connection.InvalidASPSP”")]),e._v(" hatası dönülür.")])])]),e._v(" "),i("li",[i("p",[e._v("POST başarılı olursa, HHS, düzenli ödeme emri için içeride rıza olup olmamasına bakılmaksızın yeni bir rıza tanımlayıcısı RizaNo içeren DuzenliOdemeEmriRizasi  yanıt olarak döner.")])]),e._v(" "),i("li",[i("p",[e._v("1 ÖHK'nın 1 YÖS için 1 HHS'de istediği kadar rızası olabilir.")])]),e._v(" "),i("li",[i("p",[e._v("HHS tarafında RizaDurumu değişkeninin durumu “Yetki Bekleniyor” olarak güncellenir.")])]),e._v(" "),i("li",[i("p",[e._v("YÖS’ün doğrulama ekranı olarak ÖHK’ya açacağı URL adresini de ilgili rıza numarasına göre oluşturur. Burada 2 farklı yöntemle URL oluşturabilir.")]),e._v(" "),i("ul",[i("li",[i("strong",[e._v("Statik URL")]),e._v(" :"),i("br"),e._v("\nHHS’nin base pathi/alt-dizin/{rızaNo}"),i("br"),e._v("\nÖrnek hhsYonAdr : https://xbank.com.tr/ohvps/cb54834e36f742d09af3d534ece3352a"),i("br"),e._v("\nBu adres için ilgili doğrulama sayfası önden hazırlanmalı ve ÖHK’nın doğrulama sayfasına erişimi için yayınlanmış olmalıdır (publish edilmelidir).")]),e._v(" "),i("li",[i("strong",[e._v("Dinamik URL")]),e._v(":"),i("br"),e._v("\nHHS’nin base pathi/alt-dizin/GKD Karşılama Ekranı?rizano={rızano}"),i("br"),e._v("\nÖrnek: https://xbank.com.tr/ohvps/gkd?rizano=cb54834e36f742d09af3d534ece3352a")])])])]),e._v(" "),i("p",[i("strong",[e._v("POST /duzenli-odeme-emri-rizasi")])]),e._v(" "),i("p",[e._v("İSTEK:")]),e._v(" "),i("p",[e._v("ÖBHS, bu API erişim adresinden HHS’ye yeni bir DuzenliOdemeEmriRizasi oluşturulması için istekte bulunur:")]),e._v(" "),i("ul",[i("li",[e._v("ÖBHS, düzenli ödeme emri başlatma isteği olduğunu HHS’ye bildirir.")]),e._v(" "),i("li",[e._v("ÖBHS, ÖHK’nın, ÖBHS arayüzünden verdiği rızanın (“Ön Onay”) bir kopyasının HHS nezdinde müşteri tarafından onaylanması için HHS’ye gönderilmesini sağlar.")]),e._v(" "),i("li",[e._v('YÖS, düzenli ödeme hizmeti sunmayan (HHS API\'de yer alan "hizmetTipi":"03" yok ise) HHS\'ye düzenli ödeme talimat rızası isteği yapması durumunda HHS tarafından '),i("strong",[e._v("TR.OHVPS.Business.RegularPaymentOrderNotSupported")]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("HHS; istek mesajında yer alan alanların ÖHVPS API İlke ve Kuralları dökümanında belirtilen şartları sağlayacak şekilde zorunluluk, uzunluk ve içerik kontrollerini yapar. (Zorunlu) Kontrollere istinaden hata oluşması durumunda "),i("strong",[e._v('"TR.OHVPS.Resource.InvalidFormat"')]),e._v(" hata kodu iletilmeli ve fieldErrors dolu olacak şekilde hatalı alanı belirten detaylı açıklama gönderilmelidir. InvalidFormat hata kodlarında fieldErrors içeriği gönderilmeli ve anlaşılır açıklama ile message, messageTr alanları doldurulması zorunludur.")]),e._v(" "),i("li",[e._v("HHS, hhsKod’un kendisine ait olduğunu ve istek başlığındaki x-aspsp-code değeri ile aynı olduğunu kontrol eder. Farklı olması durumunda "),i("strong",[e._v("”TR.OHVPS.Connection.InvalidASPSP”")]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("HHS, yosKod’un geçerli bir Ödeme Hizmeti Sağlayıcısı Kodu olduğunu ve istek başlığındaki x-tpp-code değeri ile aynı olduğunu kontrol eder. Farklı olması durumunda "),i("strong",[e._v("”TR.OHVPS.Connection.InvalidTPP”")]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("YÖS, bireysel müşteri özelinde düzenli ödeme hizmeti vermeyen HHS'ye düzenli ödeme talimatı rızası isteği yapması durumunda HHS tarafından "),i("strong",[e._v('"TR.OHVPS.Business.IndividualCustomerNotSupported"')]),e._v(" hatası , kurumsal müşteri özelinde düzenli ödeme talimatı rızası isteği yapıldığında HHS tarafından "),i("strong",[e._v('"TR.OHVPS.Business.CorporateCustomerNotSupported"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("HHS; YÖS API ile alınan ÖBHS bilgilerinin içerisinde yer alan yönlendirme adresleri ile düzenli ödeme emri rızası nesnesi request mesajında paylaşılan adreslerin uyumlu olup olmadığının kontrollerini yapar. (Zorunlu) Kontrollere istinaden hata oluşması durumunda "),i("strong",[e._v('"TR.OHVPS.Business.TPPRedirectionAddressMismatch"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("Tek seferlik ödeme işlemlerinde (gönderen kimlik bilgilerinin boş olduğu durumda) ve işyeri ödemelerinde düzenli ödeme emri rızası başlatılmamalıdır. YÖS tarafından başlatılan düzenli ödeme emri rızası işleminde bu gönderen kimlik boş olması ve/veya işyeri ödeme bilgilerinin iletilmesi durumunda "),i("strong",[e._v("TR.OHVPS.Resource.OneTimePaymentNotSupport")]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("HHS; kimlik bilgileri nesnesinde yer alan kimlik bilgileri ile ÖHK’nın HHS müşterisi olup olmadığının kontrollerini yapar. Bu kontrol hem bireysel hem de kurumsal ÖHK’lar için yapılmalıdır.  (Koşullu Zorunlu) Kontrollere istinaden hata oluşması durumunda "),i("strong",[e._v('"TR.OHVPS.Business.CustomerNotFound"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("Düzenli Ödeme Emri Başlatma Hizmeti rıza isteğinde bulunan ÖHK’nın “Açık Bankacılık Kanal Yetki” tanımı yok ise "),i("strong",[e._v('"TR.OHVPS.Business.OpenBankingChannelClosed"')]),e._v(" hatası dönülür. HHS insiyatifinde olup HHS bu kontrolü GKD sonrası gerçekleştirebilir.")]),e._v(" "),i("li",[e._v('HHS "gkd" nesnesi için alan kontrollerini gerçekleştirir. "yetYntm" = "A" gönderilmiş ise "ayrikGkd" nesnesinin dolu gönderilmesi zorunludur. Gönderilmemesi durumunda HHS tarafından '),i("strong",[e._v('"TR.OHVPS.Resource.InvalidFormat"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("Ayrık GKD desteklemeyen HHS'ye Ayrık GKD yöntemiyle rıza başlatma isteği yapılması durumunda HHS tarafından "),i("strong",[e._v('"TR.OHVPS.Business.DecoupledAuthenticationNotSupported"')]),e._v(" hatası dönülür. YÖS ilgili işlemi “Yönlendirmeli” akışa çekip süreci ilerletebilir.")]),e._v(" "),i("li",[e._v("Ayrık GKD ile başlatılan rıza akışlarında HHS, YÖS'ün AYRIK_GKD_BASARILI ve AYRIK_GKD_BASARISIZ olay tipleri için olay aboneliğinin varlığını kontrol eder. YÖS iki olay tipine de abone olmak zorundadır. Eğer olay aboneliği yoksa HHS tarafından "),i("strong",[e._v('"TR.OHVPS.Business.EventSubscriptionNotFound"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("Rıza başlatma akışı içerisinde kimlik bilgisinin, ÖHK'ya ait kimlik verisi(kmlk.kmlkVrs) ile ayrık GKD içerisinde yer alan OHK Tanım Değer alanı (ayrikGkd.ohkTanimDeger) birebir aynı olmalıdır. Aynı olmadığı durumda HHS tarafından "),i("strong",[e._v('"TR.OHVPS.Business.CustomerInfoMismatch"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("HHS tarafında ÖHK'nın mobil uygulaması bulunmaması durumu tespit edilebildiği durumda Ayrık GKD ile başlatılan rıza akışlarında HHS tarafından "),i("strong",[e._v('"TR.OHVPS.Business.CustomerMobileApplicationNotFound"')]),e._v(" hatası dönülür. YÖS ilgili işlemi “Yönlendirmeli” akışa çekip süreci ilerletebilir.")]),e._v(" "),i("li",[e._v("HHS kimlik bilgisi ile gönderen ünvanının uyumlu olduğunu kontrol eder. HHS'ler EFT/FAST işlemlerinde kabul ettikleri kontrol kriterleri ile işleme izin verebilirler. (Zorunlu) Kontrollere istinaden hata oluşması durumunda "),i("strong",[e._v('"TR.OHVPS.Business.IncorrectSenderTitle"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("Gönderen Hesap Numarası ÖBHS tarafından iletildiği durumda;\n"),i("ul",[i("li",[e._v("IBAN’ın doğruluğu (kontrol basamağı doğrulaması) kontrol edilir. Kontrollere istinaden hata oluşması durumunda  "),i("strong",[e._v('"TR.OHVPS.Business.InvalidAccount"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("IBAN içerisindeki HHS kodunun istek başlığındaki HHS kodu ile aynı olduğu (hesabın HHS’ye aitliğinin kontrolü) kontrol edilir. Kontrollere istinaden hata oluşması durumunda  "),i("strong",[e._v('"TR.OHVPS.Business.AccountCodeMismatch"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("Hesap numarasının ÖHK’ya ait olduğu kontrol edilir.Kontrollere istinaden hata oluşması durumunda  "),i("strong",[e._v('"TR.OHVPS.Business.CustomerAccountMismatch"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("HHS’ye özel ödeme izni verilmeyen farklı statülerin bulunması durumu kontrol edilir. (İlgili hesabın para transfer işlemine yetkisi olmaması) Kontrollere istinaden hata oluşması durumunda  "),i("strong",[e._v('"TR.OHVPS.Business.AccountUnauthorized"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("HHS’de gönderen hesabın aktifliği kontrol edilir. Kontrollere istinaden hata oluşması durumunda  "),i("strong",[e._v('"TR.OHVPS.Business.AccountInactive"')]),e._v(" hatası dönülür.")])])]),e._v(" "),i("li",[e._v("Gönderen hesap numarası için, Hesap Referansı kullanılıyorsa Hesap Numarası kullanılmayabilir. Hesap referansı ile düzenli ödeme emri rızası başlatılacak ise HHS hesap referansı değeri ile ilişkilendirilmiş mevcut bir hesap bilgisi rızası var mı kontrol etmelidir. Eğer aktif bir rızası yok ise "),i("strong",[e._v('"TR.OHVPS.Business.ActiveConsentNotFound"')]),e._v(" hatası verilmelidir.")]),e._v(" "),i("li",[e._v("Düzenli ödeme emri rızasında alıcı hesap bilgileri Karekod ya da Kolas ile belirlenebilir. HHS online kanallarında düzenli ödeme hizmetini Karekod ve Kolas aracılığı ile kabul ediyorsa, ÖHVPS servisleri ile de kabul etmek zorundadır. YÖS tarafından düzenli ödeme emri rızası isteği içerisinde alıcı bilgisi için karekod ya da kolas kompleks alanları yer alması durumunda , destek vermeyen HHS'ler tarafından "),i("strong",[e._v('"TR.OHVPS.Business.RecipientAccountTypeNotSupported"')]),e._v(" hatası verilmelidir.")])]),e._v(" "),i("p",[e._v("Yukarıdaki kontroller tamamlandıktan sonra HHS, DuzenliOdemeEmriRizasi oluşturduğu anda durumunu “Yetki Bekleniyor” olarak düzenler.")]),e._v(" "),i("p",[e._v("Bu aşamada ÖHK’nın HHS tarafından tanımlanmış ve isteğin veri alanında gönderen hesaba (borçlandırılacak hesaba) ilişkin bir bilgisinin olması gerekmez."),i("br"),e._v("\nHesap bakiye kontrolünün rıza aşamasında yapılmaması gerekmektedir. Çünkü ÖHK düzenli ödeme emri gerçekleşene kadar hesabına para eklemesi yapabilir.")]),e._v(" "),i("p",[i("strong",[e._v("POST /duzenli-odeme-emri-rizasi")]),e._v(" isteğinin (REQUEST) gövdesinde (BODY)  “DuzenliOdemeEmriRizasiIstegi” nesnesi (Tablo) kullanılır. İstek başarıyla sonuçlanırsa HHS kaynak sunucusunda “DuzenliOdemeEmriRizasi” (Tablo) nesnesi oluşturulur.")]),e._v(" "),i("h4",{attrs:{id:"basarili-istek"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#basarili-istek"}},[e._v("#")]),e._v(" "),i("strong",[e._v("BAŞARILI İSTEK:")])]),e._v(" "),i("p",[i("strong",[e._v("Tablo : “DuzenliOdemeEmriRizasiIstegi” nesnesi")])]),e._v(" "),i("table",[i("thead",[i("tr",[i("th",[e._v("Alan Adı")]),e._v(" "),i("th",[e._v("JSON Alan Adı")]),e._v(" "),i("th",[e._v("Format: Veri modeli İsmi")]),e._v(" "),i("th",[e._v("Zorunlu / Koşullu / İsteğe bağlı")]),e._v(" "),i("th",[e._v("Açıklama")]),e._v(" "),i("th",[e._v("HHS tarafından düzenli ödeme emri rızası oluşturulması sırasında yapılması gereken kontrol ve işlemler")])])]),e._v(" "),i("tbody",[i("tr",[i("td",[i("strong",[e._v("Katılımcı Bilgisi")])]),e._v(" "),i("td",[e._v("katilimciBlg")]),e._v(" "),i("td",[e._v("Kompleks:KatilimciBilgisi")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Katılımcılara atanmış kod bilgileridir.")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">Hesap Hizmeti Sağlayıcısı Kodu")])]),e._v(" "),i("td",[e._v("hhsKod")]),e._v(" "),i("td",[e._v("AN4")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İsteğin iletildiği Hesap Hizmeti Sağlayıcısının kodudur. (Nezdinde ÖH bulunduran kuruluş kodu. Örneğin, Banka, Elektronik Para Kuruluşu ve Ödeme Kuruluşu)")]),e._v(" "),i("td",[e._v("HHS, hhsKod’un kendisine ait olduğunu ve istek başlığındaki x-aspsp-code değeri ile aynı olduğunu kontrol eder.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Yetkili Ödeme Hizmeti Sağlayıcısı Kodu")])]),e._v(" "),i("td",[e._v("yosKod")]),e._v(" "),i("td",[e._v("AN4")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İsteği gönderen Yetkili Ödeme Hizmeti Sağlayıcısı (YÖS) kodudur.")]),e._v(" "),i("td",[e._v("HHS, yosKod’un geçerli bir Ödeme Hizmeti Sağlayıcısı Kodu olduğunu ve istek başlığındaki x-tpp-code değeri ile aynı olduğunu kontrol eder.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("GKD")])]),e._v(" "),i("td",[e._v("gkd")]),e._v(" "),i("td",[e._v("Kompleks:Gkd")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Yetkilendirme Yöntemi")])]),e._v(" "),i("td",[e._v("yetYntm")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("İ")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.GkdTur")]),e._v(" sıralı veri türü değerlerinden birini alır. Yetkilendirme yöntemi, ÖBHS tarafından belirtilmeyebilir.")]),e._v(" "),i("td",[e._v("HHS, HBHS’nin belirlediği yöntemi dikkate alarak süreci ilgili akışa uygun olarak devam ettirir. Desteklemediği yöntem için (örn: Ayrık GKD) ayrıca hata mesajı verilmelidir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Yönlenme Adresi")])]),e._v(" "),i("td",[e._v("yonAdr")]),e._v(" "),i("td",[e._v("AN1..1024")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Yönlendirmeli güçlü kimlik doğrulama için zorunlu."),i("br"),e._v(" YÖS’ün ileteceği adrestir."),i("br"),e._v(" Durum kodu(drmKod), yönlendirme adresine parametre olarak eklenmelidir.")]),e._v(" "),i("td",[e._v("HHS, müşteri uygulama / tarayıcısını bu alanda belirtilen adrese yönlendirir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Ayrık GKD")])]),e._v(" "),i("td",[e._v("ayrikGkd")]),e._v(" "),i("td",[e._v("Kompleks:AyrikGkd")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Ayrık güçlü kimlik doğrulama için zorunlu.")]),e._v(" "),i("td",[e._v("yetYntm = A gönderilmiş ise ayrikGkd nesnesinin dolu gönderilmesi zorunludur. "),i("br"),i("br"),e._v(" HHS, YÖS'ün AYRIK_GKD_BASARILI ve AYRIK_GKD_BASARISIZ olay tipleri için olay aboneliğinin varlığını kontrol eder. "),i("RouterLink",{attrs:{to:"/v2.0.0/contents/gkd.html#_5-2-ayrık-guclu-kimlik-dogrulama"}},[e._v("Bknz: Ayrık GKD")])],1)]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> OHK Tanım Tip")])]),e._v(" "),i("td",[e._v("ohkTanimTip")]),e._v(" "),i("td",[e._v("AN8")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("ÖHK'nın HHS uygulaması tarafından tanınmasını sağlayacak tanım tipleridir. "),i("strong",[e._v("TR.OHVPS.DataCode.ohkTanimTip")]),e._v(" sıralı veri tiplerinden birini alır.")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> OHK Tanım Değer")])]),e._v(" "),i("td",[e._v("ohkTanimDeger")]),e._v(" "),i("td",[e._v("AN1..30")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("ÖHK'nın HHS uygulaması tarafından tanınmasını sağlayacak tanım değeridir. ohkTanimTip'i ile uyumlu değerdir.")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Ödeme Başlatma")])]),e._v(" "),i("td",[e._v("odmBsltm")]),e._v(" "),i("td",[e._v("Kompleks: OdemeBaslatma")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Kimlik")])]),e._v(" "),i("td",[e._v("kmlk")]),e._v(" "),i("td",[e._v("Kompleks:Kimlik")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kimlik Türü")])]),e._v(" "),i("td",[e._v("kmlkTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.KimlikTur")]),e._v(" sıralı veri türü değerlerinden birini alır.")]),e._v(" "),i("td",[e._v("Çerçeve sözleşme kapsamındaki ödemelerde kullanımı zorunludur."),i("br"),e._v("HHS geçerli bir Kimlik Numarası Türü olduğunu kontrol eder."),i("br"),e._v("Kurum adına yapılan (ticari) ödemelerde, kurum adına işlem yapan kullanıcının kimlik türünün bu alanda gönderilmesi zorunludur.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kimlik Verisi")])]),e._v(" "),i("td",[e._v("kmlkVrs")]),e._v(" "),i("td",[e._v("AN1..30")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("HHS nezdinde kullanıcı doğrulamasında kullanılan tanımlayıcıdır."),i("br"),i("strong",[e._v("TR.OHVPS.DataCode.KimlikTur")]),e._v(" değerine göre uzunluk ve formatı değişir.")]),e._v(" "),i("td",[e._v("Çerçeve sözleşme kapsamındaki ödemelerde kullanımı zorunludur."),i("br"),e._v("HHS, ÖBHS tarafından iletilmesi durumunda Kimlik Verisi üzeriden çapraz kontroller uygulamalı ve Kimlik Verisini temel alarak GKD gerçekleştirmelidir."),i("br"),e._v(" Pasaport numarasına ilişkin kontroller HHS'nin halihazırda kullandığı veri, akış ve tabi olduğu diğer düzenlemelerdeki işleyiş ile aynı şekilde ele alınmalıdır."),i("br"),e._v(" Kurum adına yapılan (ticari) ödemelerde, kurum adına işlem yapan kullanıcının kimlik türünün bu alanda gönderilmesi zorunludur.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kurum Kimlik Türü")])]),e._v(" "),i("td",[e._v("krmKmlkTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kurum adına yapılan ödemelerde ÖHK’nın altında tanımlı olduğu tüzel kişilik için kullanılan kurum kimlik türüdür."),i("br"),i("strong",[e._v("TR.OHVPS.DataCode.KurumKimlikTur")]),e._v(" sıralı veri türü değerlerinden birini alır.")]),e._v(" "),i("td",[e._v("Kurum adına yapılan (ticari) ödemelerde kullanımı zorunludur."),i("br"),e._v(" HHS geçerli bir Kurum Kimlik Numarası Türü olduğunu kontrol eder.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kurum Kimlik Verisi")])]),e._v(" "),i("td",[e._v("krmKmlkVrs")]),e._v(" "),i("td",[e._v("AN1..30")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kurum adına yapılan ödemelerde ÖHK’nın altında tanımlı olduğu tüzel kişilik için kullanılan kurum kimlik verisidir."),i("br"),e._v(" "),i("strong",[e._v("TR.OHVPS.DataCode.KurumKimlikTur")]),e._v(" değerine göre uzunluk ve formatı değişir.")]),e._v(" "),i("td",[e._v("Kurum adına yapılan (ticari) ödemelerde kullanımı zorunludur."),i("br"),e._v(" HHS, ÖBHS tarafından iletilmesi durumunda Kurum Kimlik Verisi üzeriden çapraz kontroller uygulamalıdır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ödeme Hizmeti Kullanıcısı Türü")])]),e._v(" "),i("td",[e._v("ohkTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.OhkTur")]),e._v(" sıralı veri türü değerlerinden birini alır "),i("strong",[e._v("(B: Bireysel, K:Kurumsal)")])]),e._v(" "),i("td",[e._v("Kurum adına yapılan ödemelerde K değerini alır. Kurum Kimlik Türü ve Kurum Kimlik Verisi alanlarının girilmiş olduğu çapraz olarak kontrol edilir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Gönderen")])]),e._v(" "),i("td",[e._v("gon")]),e._v(" "),i("td",[e._v("Kompleks:Hesap")]),e._v(" "),i("td",[e._v("İ")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ünvan")])]),e._v(" "),i("td",[e._v("unv")]),e._v(" "),i("td",[e._v("AN3..140")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Gönderenin ünvanıdır."),i("br"),e._v(" HHS, bu bilgiyi ÖBHS sisteminden gelen veri yerine FAST’a iletirken kendi sisteminden alabilir."),i("br")]),e._v(" "),i("td",[e._v("HHS’nin bu veri ile kendi sistemlerindeki verinin farklı olması ve Kimlik Numarası ile eşleşmemesi durumunda düzenli ödeme emri başlatma isteği reddedilir."),i("br"),e._v(" ÖBHS verisi ile HHS verisinin farklılaşması durumunun ise risk değerlendirme sistemlerine girdi olarak kullanması tavsiye edilir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Hesap Numarası")])]),e._v(" "),i("td",[e._v("hspNo")]),e._v(" "),i("td",[e._v("AN26")]),e._v(" "),i("td",[e._v("İ")]),e._v(" "),i("td",[e._v("ÖBHS'nin ön yüzünden daha önce kayıt altına alınmış hesaplar arasından seçtirdiği veya müşteriye girdiği IBAN’dır."),i("br"),e._v(" ÖBHS tarafından iletilmediği durumda, gönderen hesap bilgisini müşteri tarafından HHS’nin dijital kanalında GKD sonrasında seçilebilir. Bu amaçla ÖBHS arayüzünde HHS seçtirilmelidir."),i("br"),e._v(" Hesap Referansı kullanılıyorsa Hesap Numarası kullanılmayabilir. Hesap referansı ile düzenli ödeme emri rızası başlatılacak ise HHS hesap referansı değeri ile ilişkilendirilmiş mevcut bir hesap bilgisi rızası var mı kontrol etmelidir. "),i("br"),e._v(" Ödeme Sistemine doğrudan katılımcı olmayan ÖHS'ler müşterilerine IBAN sunmadıkları için hspRef üzerinden ödeme başlatabilirler. Bu durumda hesap numarası boş olacaktır.")]),e._v(" "),i("td",[e._v("ÖBHS tarafından iletildiği durumda; IBAN içerisindeki HHS kodunun istek başlığındaki HHS kodu ile aynı olduğu (hesabın HHS’ye aitliğinin kontrolü), IBAN’ın doğruluğu (kontrol basamağı doğrulaması), Hesap numarasının ÖHK’ya ait olduğu, HHS’ye özel ödeme izni verilmeyen farklı statülerin bulunması durumu kontrol edilir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Hesap Referansı")])]),e._v(" "),i("td",[e._v("hspRef")]),e._v(" "),i("td",[e._v("AN5..40")]),e._v(" "),i("td",[e._v("İ")]),e._v(" "),i("td",[e._v("HHS tarafından hesap için atanan biricik tanımlıyıcıdır (uuid)."),i("br"),e._v("YÖS bazında farklılaşması gerekmez."),i("br"),e._v(" ÖBHS’nin aynı zamanda HBHS olduğu durumda müşteri rızası tesis edilmiş bir hesabın referansı üzerinden de ödeme başaltılabilir."),i("br"),e._v(" Hesap Numarası kullanılıyorsa Hesap Referansı kullanılmayabilir. "),i("br"),e._v(" Ödeme Sistemine doğrudan katılımcı olmayan HHS'ler müşterilerine IBAN sunmadıkları için hspRef üzerinden ödeme başlatabilirler. Bu durumda hesap numarası boş olacaktır.")]),e._v(" "),i("td",[e._v("HspRef'e bağlı IBAN değiştiğinde yeni IBAN'ın da ilgili HspRef ile ilişkilendirilmesi beklenmektedir. Bu durumda, HBHS, HspRef ile sorguya geldiğinde HHS'nin yeni IBAN ve hesap hareketlerini dönebilmesi mümkün olacaktır. HspRef’in, IBAN değiştiğinde değiştirilmemesi tavsiye edilmektedir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Alıcı")])]),e._v(" "),i("td",[e._v("alc")]),e._v(" "),i("td",[e._v("Kompleks:Hesap")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ünvan")])]),e._v(" "),i("td",[e._v("unv")]),e._v(" "),i("td",[e._v("AN3..140")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[i("strong",[e._v("Kolay Adres Sistemi")]),e._v(" kullanılmıyorsa zorunludur."),i("br"),e._v(" Alıcının ünvanıdır. ÖBHS ekranlarından girişi yapılabileceği gibi ÖBHS’nin kayıtlı alıcılarından yapılan seçimle de doldurup gönderebildiği bilgi olabilir."),i("br"),e._v(" FAST-TR Karekod Veri Organizasyonunda;"),i("br"),e._v(" İşyeri tarafından sunulan uzun karekod yapısının "),i("strong",[e._v("59:")]),e._v(" alanında tanımlı İşyeri adı alanıdır, Kişiden Kişiye Ödeme Karekod Yapısının "),i("strong",[e._v("07:")]),e._v(" alanında tanımlı "),i("br"),e._v(" "),i("strong",[e._v("Ödeme Alıcısının Adı ve Soyadı")]),e._v(" alanıdır.")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Hesap Numarası")])]),e._v(" "),i("td",[e._v("hspNo")]),e._v(" "),i("td",[e._v("AN26")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[i("strong",[e._v("Alıcının Hesap Numarası (IBAN)")]),e._v(" alanıdır."),i("br"),e._v(" "),i("strong",[e._v("Kolay Adres Sistemi")]),e._v(" kullanılmıyorsa zorunludur."),i("br"),e._v(" Karekod akışında, FAST Karekod Veri Organizasyonundaki "),i("strong",[e._v("30-01:")]),e._v(" alanında tanımlı İş Yeri IBAN verisi kullanılır."),i("br"),e._v(" Alıcının birden fazla hesabının kullanılabilir olduğu durumlarda (özellikle işyeri ödemelerinde HHS nezdindeki hesap (on-us havale akışı) tercih edilmelidir.")]),e._v(" "),i("td",[e._v("HHS (Gönderen Katılımcı) tarafından IBAN doğrulaması (kontrol basamağı doğrulaması) yapılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kolay Adres")])]),e._v(" "),i("td",[e._v("kolas")]),e._v(" "),i("td",[e._v("Kompleks:Kolas")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Talimatın gerçekleşeceği ana kadar KOLAS tanımınında değişiklik olabileceği için,  KOLAS ile yapılan düzenli ödeme emri işlemleri, talimatın verildiği anda çözülen IBAN'a yapılacaktır.")]),e._v(" "),i("td",[e._v("Kolas ile düzenli ödeme emri hizmeti desteklenmiyorsa; HHS tarafından hata dönülmelidir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Türü")])]),e._v(" "),i("td",[e._v("kolasTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.KolasTur")]),e._v(" sıralı veri türü değerlerinden birini alır."),i("br"),e._v(" Alıcı Hesap Numarası girilmediyse kullanımı zorunludur ve "),i("strong",[e._v("Kolay Adres Tipi")]),e._v(" alanıyla birlikte kullanılır.")]),e._v(" "),i("td",[e._v("HHS (Gönderen FAST katılımcısı) tarafından KOLAS Servisine yapılan sorguda girdi olarak kullanılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Değeri")])]),e._v(" "),i("td",[e._v("kolasDgr")]),e._v(" "),i("td",[e._v("AN7..50")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Müşterinin eklediği, HHS (FAST katılımcısı) tarafından doğrulanmış Kolay Adres değeridir. Alabileceği değerler BKM “Kolay Adresleme Sistemi Uygulama Kuralları” belgesinde tanımlıdır."),i("br"),e._v(" Hesap Numarası girilmediyse kullanımı zorunludur ve "),i("strong",[e._v("Kolay Adres Tipi")]),e._v(" alanıyla birlikte kullanılır.")]),e._v(" "),i("td",[e._v("HHS (Gönderen FAST katılımcısı) tarafından KOLAS Servisine yapılan sorguda girdi olarak kullanılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Karekod")])]),e._v(" "),i("td",[e._v("kkod")]),e._v(" "),i("td",[e._v("Kompleks:Karekod")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Karekod ile yapılan düzenli işlemler, talimatın verildiği anda çözülen IBAN'a yapılacaktır.")]),e._v(" "),i("td",[e._v("Karekod ile düzenli ödeme emri hizmeti desteklenmiyorsa; HHS tarafından hata dönülmelidir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Akış Türü")])]),e._v(" "),i("td",[e._v("aksTur")]),e._v(" "),i("td",[e._v("AN2")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.KareKodAksTur")]),e._v(" sıralı veri değerlerinden birini alır. Kolay Adresi Sistemi ile birlikte kullanılmaz.")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Referansı")])]),e._v(" "),i("td",[e._v("kkodRef")]),e._v(" "),i("td",[e._v("AN1..12")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[i("strong",[e._v("Karekod referans numarasını")]),e._v(" gösterir."),i("br"),e._v("Okunan karekodda referans değeri varsa kullanılması zorunludur."),i("br"),e._v(" Karekod ilke ve kurallar belgesinde tanımlandığı şekilde kullanılması gerekmektedir."),i("br"),e._v(" Kolay Adresi Sistemi ile birlikte kullanılmaz.")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Üretici Kodu")])]),e._v(" "),i("td",[e._v("kkodUrtcKod")]),e._v(" "),i("td",[e._v("AN4")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Karekod üreticisinin kodu."),i("br"),e._v(" Ödeme Hizmeti Sağlayıcıları ve TCMB tarafından uygun görülen ödeme sistemi işleticisi TR Karekod üretebilmek için BKM’ye kayıt başvurusu yaparak karekod üretici kodu alabileceklerdir. Bankalar EFT kodlarını kullanacak olup ayrıca kayıt yaptırmalarına gerek bulunmamaktadır. 4 haneden kısa değerlerin sol tarafı ’0’ karakteri ile tamamlanmalıdır.")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Ödeme Ayrıntıları")])]),e._v(" "),i("td",[e._v("odmAyr")]),e._v(" "),i("td",[e._v("Kompleks: OdemeAyrintilari")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ödeme Kaynağı")])]),e._v(" "),i("td",[e._v("odmKynk")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Ödemenin başlatıldığı kaynağı belirtir. "),i("strong",[e._v("TR.OHVPS.DataCode.OdemeKaynak")]),e._v(" sıralı veri veri değerlerinden “O” değeri atanarak iletilmelidir. “O” değeri “Açık bankacılık aracılığı ile gönderilen ödemelerde kullanılır.” anlamını taşımaktadır.")]),e._v(" "),i("td",[e._v('HHS, YÖS\'ün API deseninde "O" kodunu ilettiğini kontrol eder.')])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ödeme Amacı")])]),e._v(" "),i("td",[e._v("odmAmc")]),e._v(" "),i("td",[e._v("AN2")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.OdemeAmaci")]),e._v(" sıralı veri değerlerinden birini alır. Karekod akışında, FAST Karekod Veri Organizasyonundaki 62-08: alanında tanımlı Ödeme Amacı verisi kullanılır.")]),e._v(" "),i("td",[e._v("HHS geçerli bir Ödeme Amacı kodu olduğunu kontrol eder.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Referans Bilgisi")])]),e._v(" "),i("td",[e._v("refBlg")]),e._v(" "),i("td",[e._v("AN1..140")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Ödemeye özel "),i("strong",[e._v("Referans Bilgisi")]),e._v(" alanıdır. Karekod işlemi değil ise zorunludur."),i("br"),e._v(" -\tKişiden kişiye fon aktarımlarında: Gün içerisinde ÖHK özelinde, her işleme özel biricik olarak oluşturulan referans bilgisidir. "),i("br"),e._v("Karekod P2P akışı için referans bilgisi (Karekod referans numarası değil, işleme özel üretilecek referans bilgisidir.) YÖS tarafından atanacaktır. "),i("br"),e._v(" -\tE-ticaret işlemlerinde sipariş/takip numarası/müşteri/abone numarası"),i("br"),e._v(" -\tİşyeri Ödemesi Karekod akışında, FAST Karekod Veri Organizasyonundaki"),i("br"),e._v(" -\t62-01: alanında tanımlı Fatura Numarası "),i("br"),e._v(" -\t62-06: alanında tanımlı Müşteri Numarası "),i("br"),e._v(" verilerinden biri kullanılır.")]),e._v(" "),i("td",[e._v("YÖS bu değeri ÖHK’yı HHS’ye yönlendirmeden önceki ekranda göstermeli, ve HHS bu değeri GKD için kullandığı önyüzünde “işlem doğrulama kodunun” bir unsuru olarak yine ÖHK’ya göstermelidir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Açıklama")])]),e._v(" "),i("td",[e._v("odmAcklm")]),e._v(" "),i("td",[e._v("AN1..200")]),e._v(" "),i("td",[e._v("İ")]),e._v(" "),i("td",[e._v("ÖBHS’nin ÖHK’dan aldığı ya da kendisinin atadığı işlem açıklaması bilgisi. "),i("br"),e._v("FAST/PÖS sistemi üzerinden yapılan ödemeler için açıklama bilgisi girilirse boşluk karakteri girilerek geçilemez. En az bir alfasayısal karakter girilmesi zorunludur."),i("br")]),e._v(" "),i("td")])])]),e._v(" "),i("h4",{attrs:{id:"basarili-yanit"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#basarili-yanit"}},[e._v("#")]),e._v(" "),i("strong",[e._v("BAŞARILI YANIT:")])]),e._v(" "),i("p",[e._v("POST işleminin RESPONSE gövdesini (BODY) oluşturan “DuzenliOdemeEmriRizasi” nesnesi Tablo’da parametrelerden oluşur:")]),e._v(" "),i("p",[i("strong",[e._v("Tablo : “DuzenliOdemeEmriRizasi” nesnesi")])]),e._v(" "),i("table",[i("thead",[i("tr",[i("th",[e._v("Alan Adı")]),e._v(" "),i("th",[e._v("JSON Alan Adı")]),e._v(" "),i("th",[e._v("Format: Veri modeli İsmi")]),e._v(" "),i("th",[e._v("Zorunlu / Koşullu / İsteğe bağlı")]),e._v(" "),i("th",[e._v("Açıklama")])])]),e._v(" "),i("tbody",[i("tr",[i("td",[i("strong",[e._v("Riza Bilgileri")])]),e._v(" "),i("td",[e._v("rzBlg")]),e._v(" "),i("td",[e._v("Kompleks: RizaBilgileri")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Rıza No")])]),e._v(" "),i("td",[e._v("rizaNo")]),e._v(" "),i("td",[e._v("AN1..128")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("DuzenliOdemeEmriRızasi nesnesinin oluşturulması esnasında HHS kaynak sunucusu tarafından atanan biricik tanımlayıcı")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Oluşturma Zamanı")])]),e._v(" "),i("td",[e._v("olusZmn")]),e._v(" "),i("td",[e._v("ISODateTime")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("DuzenliOdemeEmriRizasi nesnesinin oluşturulma zamanı")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Güncellenme Zamanı")])]),e._v(" "),i("td",[e._v("gnclZmn")]),e._v(" "),i("td",[e._v("ISODateTime")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("DuzenliOdemeEmriRizasi nesnesinin güncellenme zamanı")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Rıza Durumu")])]),e._v(" "),i("td",[e._v("rizaDrm")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.RizaDurumu")]),e._v(" sıralı veri tipini değerlerinden birini alır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Rıza Iptal Detay Kodu")])]),e._v(" "),i("td",[e._v("rizaIptDtyKod")]),e._v(" "),i("td",[e._v("AN2")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[i("strong",[e._v("Rıza durumunun iptal olduğu durumda zorunludur. Alabileceği değerler 4. Bölümde detaylandırılmıştır.")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Katılımcı Bilgisi")])]),e._v(" "),i("td",[e._v("katilimciBlg")]),e._v(" "),i("td",[e._v("Kompleks:KatilimciBilgisi")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Katılımcılara atanmış kod bilgileridir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">Hesap Hizmeti Sağlayıcısı Kodu")])]),e._v(" "),i("td",[e._v("hhsKod")]),e._v(" "),i("td",[e._v("AN4")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İsteğin iletildiği Hesap Hizmeti Sağlayıcısının kodudur. (Nezdinde ÖH bulunduran kuruluş kodu. Örneğin, Banka, Elektronik Para Kuruluşu ve Ödeme Kuruluşu)")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Yetkili Ödeme Hizmeti Sağlayıcısı Kodu")])]),e._v(" "),i("td",[e._v("yosKod")]),e._v(" "),i("td",[e._v("AN4")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İsteği gönderen Yetkili Ödeme Hizmeti Sağlayıcısı (YÖS) kodudur.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("GKD")])]),e._v(" "),i("td",[e._v("gkd")]),e._v(" "),i("td",[e._v("Kompleks:Gkd")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Yetkilendirme Yöntemi")])]),e._v(" "),i("td",[e._v("yetYntm")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.GkdTur")]),e._v(" sıralı veri türü değerlerinden birini alır.  HHS, ÖBHS’nin belirlediği yöntemi dikkate alarak kendi belirlediği yöntemi kullanır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Yönlenme Adresi")])]),e._v(" "),i("td",[e._v("yonAdr")]),e._v(" "),i("td",[e._v("AN1..1024")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Yönlendirmeli güçlü kimlik doğrulama için zorunlu. HHS, müşteri uygulama / tarayıcısını yönlendirmeli akışta bu alanda belirtilen YÖS adresine yönlendirir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Ayrık GKD")])]),e._v(" "),i("td",[e._v("ayrikGkd")]),e._v(" "),i("td",[e._v("Kompleks:AyrikGkd")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Ayrık güçlü kimlik doğrulama için zorunlu.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> OHK Tanım Tip")])]),e._v(" "),i("td",[e._v("ohkTanimTip")]),e._v(" "),i("td",[e._v("AN8")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("ÖHK'nın HHS uygulaması tarafından tanınmasını sağlayacak tanım tipleridir. İstek içerisindeki veri değiştirilmeden iletilir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> OHK Tanım Değer")])]),e._v(" "),i("td",[e._v("ohkTanimDeger")]),e._v(" "),i("td",[e._v("AN1..30")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("ÖHK'nın HHS uygulaması tarafından tanınmasını sağlayacak tanım değeridir. ohkTanimTip'i ile uyumlu değerdir.  İstek içerisindeki veri değiştirilmeden iletilir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> HHS Yönlenme Adresi")])]),e._v(" "),i("td",[e._v("hhsYonAdr")]),e._v(" "),i("td",[e._v("AN1..1024")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Yönlendirmeli akış türünde GKD doğrulama bilgilerinin girilebilmesi için uygulamadan açılacak yönlendirme sayfasının adresi. Ayrık GKD akışında bu alan dönülmemelidir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Yetkilendirme Tamamlanma Zamanı")])]),e._v(" "),i("td",[e._v("yetTmmZmn")]),e._v(" "),i("td",[e._v("ISODateTime")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Yetkilendirme akışının tamamlanması gereken son zamanı gösterir. "),i("br"),e._v(" HHS tarafından maksimum 5 dk içinde işlem tamamlanacak şekil zaman damgası oluşturulur. Zaman aşımı olduğunda HHS’nin GKD’ye izin vermeyecek şekilde hata mesajı vermesi gerekmektedir."),i("br"),e._v(" Rıza durumu Yetkilendirildi statüsüne geçene kadarki süredir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Ödeme Başlatma")])]),e._v(" "),i("td",[e._v("odmBsltm")]),e._v(" "),i("td",[e._v("Kompleks: OdemeBaslatma")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Kimlik")])]),e._v(" "),i("td",[e._v("kmlk")]),e._v(" "),i("td",[e._v("Kompleks:Kimlik")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kimlik Türü")])]),e._v(" "),i("td",[e._v("kmlkTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.KimlikTur")]),e._v(" sıralı veri türü değerlerinden birini alır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kimlik Verisi")])]),e._v(" "),i("td",[e._v("kmlkVrs")]),e._v(" "),i("td",[e._v("AN1..30")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("HHS nezdinde kullanıcı doğrulamasında kullanılan tanımlayıcıdır."),i("br"),i("strong",[e._v("TR.OHVPS.DataCode.KimlikTur")]),e._v(" değerine göre uzunluk ve formatı değişir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kurum Kimlik Türü")])]),e._v(" "),i("td",[e._v("krmKmlkTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kurum adına yapılan ödemelerde ÖHK’nın altında tanımlı olduğu tüzel kişilik için kullanılan kurum kimlik türüdür."),i("br"),i("strong",[e._v("TR.OHVPS.DataCode.KurumKimlikTur")]),e._v(" sıralı veri türü değerlerinden birini alır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kurum Kimlik Verisi")])]),e._v(" "),i("td",[e._v("krmKmlkVrs")]),e._v(" "),i("td",[e._v("AN1..30")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kurum adına yapılan ödemelerde ÖHK’nın altında tanımlı olduğu tüzel kişilik için kullanılan kurum kimlik verisidir."),i("br"),e._v(" "),i("strong",[e._v("TR.OHVPS.DataCode.KurumKimlikTur")]),e._v(" değerine göre uzunluk ve formatı değişir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ödeme Hizmeti Kullanıcısı Türü")])]),e._v(" "),i("td",[e._v("ohkTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.OhkTur")]),e._v(" sıralı veri türü değerlerinden birini alır "),i("strong",[e._v("(B: Bireysel, K:Kurumsal)")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Gönderen")])]),e._v(" "),i("td",[e._v("gon")]),e._v(" "),i("td",[e._v("Kompleks:Hesap")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ünvan")])]),e._v(" "),i("td",[e._v("unv")]),e._v(" "),i("td",[e._v("AN3..140")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Gönderenin ünvanıdır."),i("br"),e._v(" HHS, bu bilgiyi ÖBHS sisteminden gelen veri yerine FAST’a iletirken kendi sisteminden alabilir. "),i("br"),e._v(" Tek seferlik ödeme dışında YÖS'ün gönderen ünvanını göndermesi zorunludur.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Hesap Numarası")])]),e._v(" "),i("td",[e._v("hspNo")]),e._v(" "),i("td",[e._v("AN26")]),e._v(" "),i("td",[e._v("İ")]),e._v(" "),i("td",[e._v("ÖBHS'nin ön yüzünden daha önce kayıt altına alınmış hesaplar arasından seçtirdiği veya müşteriye girdiği IBAN’dır."),i("br"),e._v(" ÖBHS tarafından iletilmediği durumda, gönderen hesap bilgisini müşteri tarafından HHS’nin dijital kanalında GKD sonrasında seçilebilir. Bu amaçla ÖBHS arayüzünde HHS seçtirilmelidir."),i("br"),e._v(" "),i("strong",[e._v("GKD sonrası HHS ekranında seçilen Hesap Numarası POST işleminin yanıtında dönülemez ancak isteğe bağlı GET sorgusu ile dönülebilir.")]),e._v(" "),i("br"),e._v(" Hesap Referansı kullanılıyorsa Hesap Numarası kullanılmayabilir. "),i("br"),e._v(" Ödeme Sistemine doğrudan katılımcı olmayan ÖHS'ler müşterilerine IBAN sunmadıkları için hspRef üzerinden ödeme başlatabilirler. Bu durumda hesap numarası boş olacaktır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Hesap Referansı")])]),e._v(" "),i("td",[e._v("hspRef")]),e._v(" "),i("td",[e._v("AN5..40")]),e._v(" "),i("td",[e._v("İ")]),e._v(" "),i("td",[e._v("HHS tarafından hesap için atanan biricik tanımlıyıcıdır (uuid)."),i("br"),e._v("YÖS bazında farklılaşması gerekmez."),i("br"),e._v(" ÖBHS’nin aynı zamanda HBHS olduğu durumda müşteri rızası tesis edilmiş bir hesabın referansı üzerinden de ödeme başaltılabilir."),i("br"),e._v(" "),i("strong",[e._v("GKD sonrası HHS ekranında seçilen Hesap Referansı POST işleminin yanıtında dönülemez ancak isteğe bağlı GET sorgusu ile dönülebilir.")]),e._v(" "),i("br"),e._v(" Hesap Numarası kullanılıyorsa Hesap Referansı kullanılmayabilir.  "),i("br"),e._v(" Ödeme Sistemine doğrudan katılımcı olmayan ÖHS'ler müşterilerine IBAN sunmadıkları için hspRef üzerinden ödeme başlatabilirler. Bu durumda hesap numarası boş olacaktır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Alıcı")])]),e._v(" "),i("td",[e._v("alc")]),e._v(" "),i("td",[e._v("Kompleks:Hesap")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ünvan")])]),e._v(" "),i("td",[e._v("unv")]),e._v(" "),i("td",[e._v("AN3..140")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kolay Adres Alıcı Sorgusunda başarılı sorgu sonucunda dönülen adres kaydı yaptırmış olan alıcının maskeli ad-soyadı veya maskeli ticari ünvan bilgisidir."),i("br"),e._v("Kolas’tan dönen “account owner” alanı kullanılmalıdır."),i("br"),e._v("Kolay adres değil ise ÖBHS tarafından istek mesajında iletilen ünvan bilgisidir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Hesap Numarası")])]),e._v(" "),i("td",[e._v("hspNo")]),e._v(" "),i("td",[e._v("AN26")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("ÖBHS tarafından istek mesajında iletilip doğrulanan veya Kolay Adres Alıcı Sorgusunda başarılı sorgu sonucunda dönülen alıcı maskeli IBAN bilgisidir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kolay Adres")])]),e._v(" "),i("td",[e._v("kolas")]),e._v(" "),i("td",[e._v("Kompleks:Kolas")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Türü")])]),e._v(" "),i("td",[e._v("kolasTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.KolasTur")]),e._v(" sıralı veri türü değerlerinden birini alır."),i("br"),e._v(" Alıcı Hesap Numarası girilmediyse kullanımı zorunludur ve "),i("strong",[e._v("Kolay Adres Tipi")]),e._v(" alanıyla birlikte kullanılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Değeri")])]),e._v(" "),i("td",[e._v("kolasDgr")]),e._v(" "),i("td",[e._v("AN7..50")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Müşterinin eklediği, HHS (FAST katılımcısı) tarafından doğrulanmış Kolay Adres değeridir. Alabileceği değerler BKM “Kolay Adresleme Sistemi Uygulama Kuralları” belgesinde tanımlıdır."),i("br"),e._v(" Hesap Numarası girilmediyse kullanımı zorunludur ve "),i("strong",[e._v("Kolay Adres Tipi")]),e._v(" alanıyla birlikte kullanılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Referans Numarası")])]),e._v(" "),i("td",[e._v("kolasRefNo")]),e._v(" "),i("td",[e._v("N12")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kolay Adres Alıcı Sorgusunda başarılı sorgu sonucunda dönülen, BKM Kolay Adresleme Sistemi Uygulama Kuralları’nda tanımlı KOLAS tarafından ilgili sorguya özel olarak üretilmiş referans numarasıdır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Hesap Türü")])]),e._v(" "),i("td",[e._v("kolasHspTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kolay Adres Alıcı Sorgusunda başarılı sorgu sonucunda dönülen, BKM Kolay Adresleme Sistemi Uygulama Kuralları’nda tanımlı hesap türü bilgisidir:"),i("br"),e._v(" "),i("strong",[e._v("TR.OHVPS.DataCode.KolasHspTur")]),e._v(" sıralı veri değerlerinden birini alır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Karekod")])]),e._v(" "),i("td",[e._v("kkod")]),e._v(" "),i("td",[e._v("Kompleks:Karekod")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Akış Türü")])]),e._v(" "),i("td",[e._v("aksTur")]),e._v(" "),i("td",[e._v("AN2")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.KareKodAksTur")]),e._v(" sıralı veri değerlerinden birini alır. Kolay Adresi Sistemi ile birlikte kullanılmaz.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Referansı")])]),e._v(" "),i("td",[e._v("kkodRef")]),e._v(" "),i("td",[e._v("AN1..12")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[i("strong",[e._v("Karekod referans numarasını")]),e._v(" gösterir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Üretici Kodu")])]),e._v(" "),i("td",[e._v("kkodUrtcKod")]),e._v(" "),i("td",[e._v("AN4")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Karekod üreticisinin kodu."),i("br"),e._v(" Ödeme Hizmeti Sağlayıcıları ve TCMB tarafından uygun görülen ödeme sistemi işleticisi TR Karekod üretebilmek için BKM’ye kayıt başvurusu yaparak karekod üretici kodu alabileceklerdir. Bankalar EFT kodlarını kullanacak olup ayrıca kayıt yaptırmalarına gerek bulunmamaktadır. 4 haneden kısa değerlerin sol tarafı ’0’ karakteri ile tamamlanmalıdır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Ödeme Ayrıntıları")])]),e._v(" "),i("td",[e._v("odmAyr")]),e._v(" "),i("td",[e._v("Kompleks: OdemeAyrintilari")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ödeme Kaynağı")])]),e._v(" "),i("td",[e._v("odmKynk")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Ödemenin başlatıldığı kaynağı belirtir. "),i("strong",[e._v("TR.OHVPS.DataCode.OdemeKaynak")]),e._v(" sıralı veri değerlerinden “O” değerini alır. “O” değeri “Açık bankacılık aracılığı ile gönderilen ödemelerde kullanılır.” anlamını taşımaktadır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ödeme Amacı")])]),e._v(" "),i("td",[e._v("odmAmc")]),e._v(" "),i("td",[e._v("AN2")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.OdemeAmaci")]),e._v(" sıralı veri değerlerinden birini alır. Karekod akışında, FAST Karekod Veri Organizasyonundaki 62-08: alanında tanımlı Ödeme Amacı verisi kullanılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Referans Bilgisi")])]),e._v(" "),i("td",[e._v("refBlg")]),e._v(" "),i("td",[e._v("AN1..140")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Ödemeye özel "),i("strong",[e._v("Referans Bilgisi")]),e._v(" alanıdır. Karekod işlemi değil ise zorunludur."),i("br"),e._v(" -\tKişiden kişiye fon aktarımlarda: Gün içerisinde ÖHK özelinde, her işleme özel biricik olarak oluşturulan referans bilgisidir."),i("br"),e._v(" Karekod P2P akışı için referans bilgisi (Karekod referans numarası değil, işleme özel üretilecek referans bilgisidir.) YÖS tarafından atanacaktır."),i("br"),e._v(" -\tE-ticaret işlemlerinde sipariş/takip numarası/müşteri/abone numarası"),i("br"),e._v(" - İşyeri Ödemesi Karekod akışında, FAST Karekod Veri Organizasyonundaki"),i("br"),e._v(" -\t62-01: alanında tanımlı Fatura Numarası "),i("br"),e._v(" -\t62-06: alanında tanımlı Müşteri Numarası "),i("br"),e._v(" verilerinden biri kullanılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Açıklama")])]),e._v(" "),i("td",[e._v("odmAcklm")]),e._v(" "),i("td",[e._v("AN1..200")]),e._v(" "),i("td",[e._v("İ")]),e._v(" "),i("td",[e._v("ÖBHS’nin ÖHK’dan aldığı ya da kendisinin atadığı işlem açıklaması bilgisi. "),i("br"),e._v("FAST/PÖS sistemi üzerinden yapılan ödemeler için açıklama bilgisi girilirse boşluk karakteri girilerek geçilemez. En az bir alfasayısal karakter girilmesi zorunludur.")])])])]),e._v(" "),i("h2",{attrs:{id:"_8-3-adim-2-duzenli-odeme-emri-rızasının-yetkilendirilmesi"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-adim-2-duzenli-odeme-emri-rızasının-yetkilendirilmesi"}},[e._v("#")]),e._v(" 8.3.\tADIM 2- Düzenli Ödeme Emri Rızasının Yetkilendirilmesi")]),e._v(" "),i("img",{attrs:{src:a(662),width:"75%"}}),e._v(" "),i("p",[i("strong",[e._v("Şekil : Düzenli Ödeme Emri Rızasının Yetkilendirilmesi")])]),e._v(" "),i("p",[e._v("ÖBHS, ÖHK’nın düzenli ödeme emrini yetkilendirmesi isteğini iletir. Ödeme emrinin yetkilendirilmesi, HHS tarafından gerçekleştirilen Yönlendirme veya Ayrık GKD yöntemiyle yapılır.")]),e._v(" "),i("ul",[i("li",[i("p",[i("strong",[e._v("Yönlendirmeli doğrulama akışında")]),e._v(", ÖBHS ÖHK’yı HHS’ye yönlendirir.")]),e._v(" "),i("ul",[i("li",[e._v("ÖBHS tarafından yönlendirme, bir önceki adımdaki RizaNo’yu içerir.")]),e._v(" "),i("li",[e._v("Yönlendirmenin RizaNo’yu içermesi sayesinde, HHS hangi ödeme emriyle ilişkili olarak yönlendirme yapıldığını ilişkilendirebilir.")]),e._v(" "),i("li",[e._v("HHS, ÖHK için GKD sürecini işletir.")])]),e._v(" "),i("p",[e._v("ÖHK’yı doğrularsa,")]),e._v(" "),i("ol",[i("li",[e._v("ÖHK -bir önceki adımda seçmediyse- borçlu hesabını seçer.")]),e._v(" "),i("li",[e._v("HHS, düzenli ödeme emri rıza kaynağının durumunu “Yetkilendirildi” olarak günceller.")]),e._v(" "),i("li",[e._v("HHS, ÖHK’yı “olumlu yönlendirme akışı” ile ÖBHS tarafından tanımlanan yönlendirme adresine yönlendirir:")])])])]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[e._v("yonAdr?rizaDrm=Y&yetKod=xx&rizaNo=yy&rizaTip=D&drmKod=zzz\n")])])]),i("p",[e._v("ÖHK’yı doğrulayamazsa,"),i("br"),e._v("\n1. HHS, düzenli ödeme emri rıza kaynağının durumunu “Yetki İptal” olarak günceller."),i("br"),e._v("\n2. HHS, ÖHK’yı “olumsuz yönlendirme akışı” ile ÖBHS tarafından tanımlanan yönlendirme adresine yönlendirir:")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[e._v("yonAdr?rizaDrm=I&rizaNo=yy&rizaTip=D&drmKod=zzz\n")])])]),i("p",[e._v("HHS tarafında oluşabilecek bir hata durumunun YÖS’e aktarılması gerektiği durumlar olabilir. Bu durumda yonlendirme adresinde hata kodu parametresi zorunlu olarak iletilmelidir."),i("br"),e._v("\nHata açıklamalarının neler olabileceği ve YÖS’ün kendi uygulamasında bu hatayı ne şekilde göstereceği aşağıda tariflenmiştir.")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[e._v("yonAdr?rizaDrm=I&rizaNo=yy&rizaTip=D&rizaIptDtyKod=11&drmKod=zzz\n")])])]),i("p",[e._v("URL’de iletilen “Rıza İptal Detay Kodu” Rıza durumları bölümünde (4. Bölüm) belirtilen hata kodları ile aynı olacak şekilde tasarlanmıştır. GKD sırasında yapılması gereken kontroller 5.3 bölümünde detaylandırılmıştır.")]),e._v(" "),i("ul",[i("li",[i("strong",[e._v("Ayrık doğrulama akışında")]),e._v(", HHS, ÖHK’nın düzenli ödeme emri rızasını başlattığı uygulamadan farklı olabilecek bir “doğrulama” uygulamasında işlemi doğrulamasını ister.\n"),i("ul",[i("li",[e._v("Ayrık akış ÖBHS’nin farklı bir kanal kullanarak yetkilendirme isteği göndermesiyle başlatılır.")]),e._v(" "),i("li",[e._v("Bu yetkilendirme isteği, yetkilendirilecek ödeme emri rızasının eşleştirileceği ÖHK’nın bulunması için ilgili veriyi taşır.")]),e._v(" "),i("li",[e._v("HHS, ÖHK’yı doğrular.")]),e._v(" "),i("li",[e._v("ÖHK, bir önceki adımda seçmediyse- borçlandırılacak hesabını seçer.")]),e._v(" "),i("li",[e._v("HHS, düzenli ödeme emri rıza kaynağının durumunu “Yetkilendirildi” olarak günceller.")])])])]),e._v(" "),i("p",[e._v("Başarılı GKD sonrasında (rizaDrm=’Y’) ilgili rıza nesnesi için (belirli bir rizaNo) yetkilendirme kodunun (yetKod) alınmasının ardından erişim belirteci erişim adresine POST çağrısı yapılarak yetkilendirme kodu karşılığında erişim belirteci ve yenileme belirteci alınır. POST /erişim-belirteci erişim noktası EK-3’te açıklanmıştır.")]),e._v(" "),i("p",[e._v("Erişim belirteci alındıktan sonra; HHS, düzenli ödeme emri rıza kaynağının durumunu “Yetki Kullanıldı” olarak günceller.")]),e._v(" "),i("h2",{attrs:{id:"_8-4-adim-2-1-duzenli-odeme-emri-rızasının-sorgulanması-istege-baglı"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_8-4-adim-2-1-duzenli-odeme-emri-rızasının-sorgulanması-istege-baglı"}},[e._v("#")]),e._v(" 8.4.\tADIM 2.1 – Düzenli Ödeme Emri Rızasının Sorgulanması (isteğe bağlı)")]),e._v(" "),i("img",{attrs:{src:a(663),width:"75%"}}),e._v(" "),i("p",[i("strong",[e._v("Şekil 7: “DuzenliOdemeEmriRizasi” nesnesinin sorgulanması (isteğe bağlı)")])]),e._v(" "),i("p",[e._v("GKD işleminin başarıyla tamamlanıp Düzenli Ödeme Emri Rızasının yetkilendirilmesi esnasında, gönderen hesap seçiminin HHS ekranında yapıldığı durumlar olabilir. Bu durumlarda düzenli ödeme emri isteğinde gönderen hesap bilgilerinin zorunlu olması nedeniyle, "),i("strong",[e._v("DuzenliOdemeEmriRizasi")]),e._v(" nesnesi sorgulanarak bu bilgiler alınmalıdır. HHS, “"),i("strong",[e._v("ADIM 2 -Düzenli Ödeme Emri Rızasının Yetkilendirilmesi")]),e._v("” akışında ÖHK’nın hesapları arasında seçim yapmasını ve seçilen hesap bilgisinin "),i("strong",[e._v("DuzenliOdemeEmriRizasi")]),e._v(" nesnesine işler.")]),e._v(" "),i("ul",[i("li",[e._v("Sorgulama yapılan Düzenli Ödeme Emri HHS tarafında bulunmuyor ise "),i("strong",[e._v('"TR.OHVPS.Resource.NotFound"')]),e._v(" hatası dönülür.")])]),e._v(" "),i("p",[i("strong",[e._v("GET /duzenli-odeme-emri-rizasi/{RizaNo}")])]),e._v(" "),i("p",[e._v("ÖBHS, mevcut durumunu kontrol etmek için, oluşturulan bir "),i("strong",[e._v("DuzenliOdemeEmriRizasi")]),e._v(" kaynağının durumunu isteğe bağlı olarak alabilir.")]),e._v(" "),i("p",[i("strong",[e._v("Durum")])]),e._v(" "),i("p",[i("strong",[e._v("DuzenliOdemeEmriRizasi")]),e._v(" kaynağı için kullanılabilecek durum göstergeleri şu şekildedir:")]),e._v(" "),i("ul",[i("li",[e._v("Yetki Bekleniyor")]),e._v(" "),i("li",[e._v("Yetkilendirildi")]),e._v(" "),i("li",[e._v("Yetki Kullanıldı")]),e._v(" "),i("li",[e._v("Yetki Ödeme Emrine/Talimata Dönüştü")]),e._v(" "),i("li",[e._v("Yetki Sonlandırıldı")]),e._v(" "),i("li",[e._v("Yetki İptal")])]),e._v(" "),i("p",[e._v("Düzenli Ödeme emri rıza durum değişiklikleri 4.2 bölümünde detaylandırılmıştır.")]),e._v(" "),i("p",[i("strong",[e._v("BAŞARILI YANIT:")])]),e._v(" "),i("p",[i("strong",[e._v("GET /duzenli-odeme-emri-rizasi/{rizaNo}")]),e._v(" yanıtının (RESPONSE) gövdesinde (BODY)  “DuzenliOdemeEmriRizasiİstegi” nesnesi kullanılır. İstek başarıyla sonuçlanırsa HHS kaynak sunucusunda Tablo-8’de yer alan parametreleri içeren “DuzenliOdemeEmriRizasi” oluşturulur.")]),e._v(" "),i("p",[e._v("Gönderen Hesap Bilgisinin, ADIM 2 (İleri Tarihli Ödeme Emri Rızasının Yetkilendirilmesi) sonrasında HHS ekranından seçildiği akışta “DuzenliOdemeEmriRizasi” nesnesi güncellenir ve ÖBHS "),i("strong",[e._v("GET /duzenli-odeme-emri-rizasi/{rizaNo}")]),e._v(" isteği yaparak güncel gönderen hesap bilgisi bilgisini de içeren “DuzenliOdemeEmriRizasi” nesnesini çekmelidir.")]),e._v(" "),i("h2",{attrs:{id:"_8-5-adim-3-duzenli-odeme-emrinin-olusturulması"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_8-5-adim-3-duzenli-odeme-emrinin-olusturulması"}},[e._v("#")]),e._v(" 8.5.\tADIM 3- Duzenli Ödeme Emrinin Oluşturulması")]),e._v(" "),i("img",{attrs:{src:a(664),width:"75%"}}),e._v(" "),i("p",[i("strong",[e._v("Şekil 8: Duzenli Ödeme Emrinin Oluşturulması")])]),e._v(" "),i("p",[i("strong",[e._v("POST /duzenli-odeme-emri")])]),e._v(" "),i("p",[e._v("ÖHK’nın Güçlü Kimlik Doğrulama ile işlemi yetkilendirmesi sonrasında, ÖBHS DuzenliOdemeEmri kaynağını oluşturur.\nDuzenli Ödeme emri (DuzenliOdemeEmri) uygun ödeme kaynağına POST isteği yapılarak başlatılır.")]),e._v(" "),i("ul",[i("li",[e._v("Erişim Belirteci kontrolü yapılır. Geçerli bir Erişim Belirteci yok ise "),i("strong",[e._v('"TR.OHVPS.Connection.InvalidToken"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("HHS; istek mesajında yer alan alanların ÖHVPS API İlke ve Kuralları dökümanında belirtilen şartları sağlayacak şekilde zorunluluk, uzunluk ve içerik kontrollerini yapar. (Zorunlu) Kontrollere istinaden hata oluşması durumunda "),i("strong",[e._v('"TR.OHVPS.Resource.InvalidFormat"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("HHS, hhsKod’un kendisine ait olduğunu ve istek başlığındaki x-aspsp-code değeri ile aynı olduğunu kontrol eder. Farklı olması durumunda "),i("strong",[e._v("”TR.OHVPS.Connection.InvalidASPSP”")]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("HHS, yosKod’un geçerli bir Ödeme Hizmeti Sağlayıcısı Kodu olduğunu ve istek başlığındaki x-tpp-code değeri ile aynı olduğunu kontrol eder. Farklı olması durumunda "),i("strong",[e._v("”TR.OHVPS.Connection.InvalidTPP”")]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("Rıza durumu kontrol edilir.\n"),i("ul",[i("li",[e._v("B: Yetki Bekleniyor, Y: Yetkilendirildi  ya da E: Yetki Ödeme Emrine Dönüştü ise "),i("strong",[e._v("“TR.OHVPS.Resource.ConsentMismatch”")]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("I: Rıza İptal ya da S: Yetki Sonlandırıldı ise "),i("strong",[e._v("”TR.OHVPS.Resource.ConsentRevoked”")]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("RizaDurumu “K: Yetki Kullanıldı” ise kontrollere devam edilir.")])])]),e._v(" "),i("li",[e._v("POST /duzenli-odeme-emri-rizasi ile POST /duzenli-odeme-emri isteklerinde istek alanların aynı olması beklenmektedir. HHS tarafından kontrolü sağlanmalıdır. Düzenli Ödeme Emri rızasında gönderilen değerlerden farklı bir değer gönderildiği durumda "),i("strong",[e._v("“TR.OHVPS.Business.FieldMismatch”")]),e._v(" hatası dönülür.")])]),e._v(" "),i("p",[e._v("Yukarıdaki kontroller tamamlandıktan sonra POST başarılı olursa, içerisinde tlmtNo değişkeni bulunan DuzenliOdemeEmri nesnesi ÖBHS’ye döner ve RizaDurumu değişkenin değeri “Yetki Ödeme Emrine/Talimata Dönüştü” olarak güncellenir.")]),e._v(" "),i("p",[i("strong",[e._v("BAŞARILI İSTEK:")])]),e._v(" "),i("p",[i("strong",[e._v("Tablo 9: “DuzenliOdemeEmriIstegi” nesnesi")])]),e._v(" "),i("table",[i("thead",[i("tr",[i("th",[e._v("Alan Adı")]),e._v(" "),i("th",[e._v("JSON Alan Adı")]),e._v(" "),i("th",[e._v("Format: Veri modeli İsmi")]),e._v(" "),i("th",[e._v("Zorunlu / Koşullu / İsteğe bağlı")]),e._v(" "),i("th",[e._v("Açıklama")]),e._v(" "),i("th",[e._v("HHS tarafından düzenli ödeme emri oluşturulması sırasında yapılması gereken kontrol ve işlemler")]),e._v(" "),i("th",[e._v("FAST A01 PÖS M01 mesaj mapping")])])]),e._v(" "),i("tbody",[i("tr",[i("td",[i("strong",[e._v("Riza Bilgileri")])]),e._v(" "),i("td",[e._v("rzBlg")]),e._v(" "),i("td",[e._v("Kompleks: RizaBilgileri")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td"),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Rıza No")])]),e._v(" "),i("td",[e._v("rizaNo")]),e._v(" "),i("td",[e._v("AN1..128")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("OdemeEmriRızasi nesnesinin oluşturulması esnasında HHS kaynak sunucusu tarafından atanan biricik tanımlayıcı")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Oluşturma Zamanı")])]),e._v(" "),i("td",[e._v("olusZmn")]),e._v(" "),i("td",[e._v("ISODateTime")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("OdemeEmriRizasi nesnesinin oluşturulma zamanı")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Rıza Durumu")])]),e._v(" "),i("td",[e._v("rizaDrm")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.RizaDurumu")]),e._v(" sıralı veri tipini değerlerinden birini alır.")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Katılımcı Bilgisi")])]),e._v(" "),i("td",[e._v("katilimciBlg")]),e._v(" "),i("td",[e._v("Kompleks:KatilimciBilgisi")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Katılımcılara atanmış kod bilgileridir.")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">Hesap Hizmeti Sağlayıcısı Kodu")])]),e._v(" "),i("td",[e._v("hhsKod")]),e._v(" "),i("td",[e._v("AN4")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İsteğin iletildiği Hesap Hizmeti Sağlayıcısının kodudur. (Nezdinde ÖH bulunduran kuruluş kodu. Örneğin, Banka, Elektronik Para Kuruluşu ve Ödeme Kuruluşu)")]),e._v(" "),i("td",[e._v("HHS, hhsKod’un kendisine ait olduğunu ve istek başlığındaki x-aspsp-code değeri ile aynı olduğunu kontrol eder.")]),e._v(" "),i("td",[e._v("Gönderen katılımcı kodu (yani bankanın FAST/PÖS’teki Katılımcı kodu)")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Yetkili Ödeme Hizmeti Sağlayıcısı Kodu")])]),e._v(" "),i("td",[e._v("yosKod")]),e._v(" "),i("td",[e._v("AN4")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İsteği gönderen Yetkili Ödeme Hizmeti Sağlayıcısı (YÖS) kodudur.")]),e._v(" "),i("td",[e._v("HHS, yosKod’un geçerli bir Ödeme Hizmeti Sağlayıcısı Kodu olduğunu ve istek başlığındaki x-tpp-code değeri ile aynı olduğunu kontrol eder.")]),e._v(" "),i("td",[i("strong",[e._v("YosKod")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("GKD")])]),e._v(" "),i("td",[e._v("gkd")]),e._v(" "),i("td",[e._v("Kompleks:Gkd")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td"),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">Yetkilendirme Yöntemi")])]),e._v(" "),i("td",[e._v("yetYntm")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.GkdTur")]),e._v(" sıralı veri türü değerlerinden birini alır.")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">Yönlendirme Adresi")])]),e._v(" "),i("td",[e._v("yonAdr")]),e._v(" "),i("td",[e._v("AN1..1024")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Yönlendirmeli güçlü kimlik doğrulama için zorunludur. HHS, müşteri uygulama / tarayıcısını yönlendirmeli akışta bu alanda belirtilen YÖS adresine yönlendirir.")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">Ayrık GKD")])]),e._v(" "),i("td",[e._v("ayrikGkd")]),e._v(" "),i("td",[e._v("Kompleks:AyrikGkd")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Ayrık güçlü kimlik doğrulama için zorunlu.")]),e._v(" "),i("td",[e._v("yetYntm = A gönderilmiş ise ayrikGkd nesnesinin dolu gönderilmesi zorunludur. yetYntm = Y için bu nesne iletilmemelidir.")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>OHK Tanım Tip")])]),e._v(" "),i("td",[e._v("ohkTanimTip")]),e._v(" "),i("td",[e._v("AN8")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("ÖHK'nın HHS uygulaması tarafından tanınmasını sağlayacak tanım tipleridir. İstek içerisindeki veri değiştirilmeden iletilir.")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>OHK Tanım Değer")])]),e._v(" "),i("td",[e._v("ohkTanimDeger")]),e._v(" "),i("td",[e._v("AN1..30")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("ÖHK'nın HHS uygulaması tarafından tanınmasını sağlayacak tanım değeridir. ohkTanimTip'i ile uyumlu değerdir.  İstek içerisindeki veri değiştirilmeden iletilir.")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">HHS Yönlenme Adresi")])]),e._v(" "),i("td",[e._v("hhsYonAdr")]),e._v(" "),i("td",[e._v("AN1..1024")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Yönlendirmeli akış türünde GKD doğrulama bilgilerinin girilebilmesi için uygulamadan açılacak yönlendirme sayfasının adresi. Ayrık GKD akışında bu alan dönülmemelidir.")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">Yetkilendirme Tamamlanma Zamanı")])]),e._v(" "),i("td",[e._v("yetTmmZmn")]),e._v(" "),i("td",[e._v("ISODateTime")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Yetkilendirme akışının tamamlanması gereken son zamanı gösterir. "),i("br"),e._v(" Rıza durumu Yetkilendirildi statüsüne geçene kadarki süredir.")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Ödeme Başlatma")])]),e._v(" "),i("td",[e._v("odmBsltm")]),e._v(" "),i("td",[e._v("Kompleks: OdemeBaslatma")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td"),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Kimlik")])]),e._v(" "),i("td",[e._v("kmlk")]),e._v(" "),i("td",[e._v("Kompleks:Kimlik")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td"),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kimlik Türü")])]),e._v(" "),i("td",[e._v("kmlkTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.KimlikTur")]),e._v(" sıralı veri türü değerlerinden birini alır.")]),e._v(" "),i("td",[e._v("Çerçeve sözleşme kapsamındaki ödemelerde kullanımı zorunludur."),i("br"),e._v("Duzenli Ödeme Emri Rizası Nesnesindeki Kimlik Numarası Türü verisi ile aynı olmalıdır."),i("br"),e._v("Kurum adına yapılan (ticari) ödemelerde, kurum adına işlem yapan kullanıcının kimlik türünün bu alanda gönderilmesi zorunludur.")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kimlik Verisi")])]),e._v(" "),i("td",[e._v("kmlkVrs")]),e._v(" "),i("td",[e._v("AN1..30")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("HHS nezdinde kullanıcı doğrulamasında kullanılan tanımlayıcıdır."),i("br"),i("strong",[e._v("TR.OHVPS.DataCode.KimlikTur")]),e._v(" değerine göre uzunluk ve formatı değişir.")]),e._v(" "),i("td",[e._v("Çerçeve sözleşme kapsamındaki ödemelerde kullanımı zorunludur."),i("br"),e._v("HHS, ÖBHS tarafından iletilmesi durumunda Kimlik Verisi üzeriden çapraz kontroller uygulamalı ve Kimlik Verisini temel alarak GKD gerçekleştirmelidir."),i("br"),e._v("Duzenli Ödeme Emri Rizası Nesnesindeki Kimlik Numarası verisi ile aynı olmalıdır."),i("br"),e._v("Gerçek kişi tarafından yapılan ödemelerde,"),i("br"),e._v("1. HHS, Gönderen Adı ve Gönderen Hesap Numarasını düzenli ödeme emri isteğinde (Havale/FAST/PÖS) gönderir."),i("br"),e._v("- Gönderen Adı ve diğer tüm müşteri bilgileri, Kimlik Numarası üzerinden elde edillir."),i("br"),e._v("Pasaport numarasına ilişkin kontroller HHS'nin halihazırda kullandığı veri, akış ve tabi olduğu diğer düzenlemelerdeki işleyiş ile aynı şekilde ele alınmalıdır."),i("br"),e._v("Kurum adına yapılan (ticari) ödemelerde, kurum adına işlem yapan kullanıcının kimlik verisi bu alanda gönderilebilmesi zorunludur.")]),e._v(" "),i("td",[i("strong",[e._v("GonKimN / Psp")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kurum Kimlik Türü")])]),e._v(" "),i("td",[e._v("krmKmlkTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Kurum adına yapılan ödemelerde ÖHK’nın altında tanımlı olduğu tüzel kişilik için kullanılan kurum kimlik türüdür."),i("br"),i("strong",[e._v("TR.OHVPS.DataCode.KurumKimlikTur")]),e._v(" sıralı veri türü değerlerinden birini alır.")]),e._v(" "),i("td",[e._v("Kurum adına yapılan (ticari) ödemelerde kullanımı zorunludur."),i("br"),e._v("Duzenli Ödeme Emri Rizası Nesnesindeki Kurum Kimlik Türü verisi ile aynı olmalıdır.")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kurum Kimlik Verisi")])]),e._v(" "),i("td",[e._v("krmKmlkVrs")]),e._v(" "),i("td",[e._v("AN1..30")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Kurum adına yapılan ödemelerde ÖHK’nın altında tanımlı olduğu tüzel kişilik için kullanılan kurum kimlik verisidir."),i("br"),e._v(" "),i("strong",[e._v("TR.OHVPS.DataCode.KurumKimlikTur")]),e._v(" değerine göre uzunluk ve formatı değişir.")]),e._v(" "),i("td",[e._v("Kurum adına yapılan (ticari) ödemelerde kullanımı zorunludur."),i("br"),e._v("Duzenli Ödeme Emri Rizası Nesnesindeki Kurum Kimlik Verisi ile aynı olmalıdır.")]),e._v(" "),i("td",[i("strong",[e._v("GonKimN / VKN")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ödeme Hizmeti Kullanıcısı Türü")])]),e._v(" "),i("td",[e._v("ohkTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.OhkTur")]),e._v(" sıralı veri türü değerlerinden birini alır "),i("strong",[e._v("(B: Bireysel, K:Kurumsal)")])]),e._v(" "),i("td",[e._v("Kurum adına yapılan ödemelerde K değerini alır. Kurum Kimlik Türü ve Kurum Kimlik Verisi alanlarının giilmiş olduğu çapraz olarak kontrol edilir."),i("br"),e._v(" Duzenli Ödeme Emri Rizası Nesnesindeki ÖHK Türü ile aynı olmalıdır.")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Gönderen")])]),e._v(" "),i("td",[e._v("gon")]),e._v(" "),i("td",[e._v("Kompleks:Hesap")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td"),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ünvan")])]),e._v(" "),i("td",[e._v("unv")]),e._v(" "),i("td",[e._v("AN3..140")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Gönderen kişinin ad soyad ya da ticari ünvan bilgisi."),i("br")]),e._v(" "),i("td",[e._v("HHS ve ÖBHS verisi tutarlı olmalıdır."),i("br"),e._v(" ÖBHS verisi ile HHS verisinin farklılaşması durumunun ise risk değerlendirme sistemlerine girdi olarak kullanması tavsiye edilir.")]),e._v(" "),i("td",[i("strong",[e._v("GonAd")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Hesap Numarası")])]),e._v(" "),i("td",[e._v("hspNo")]),e._v(" "),i("td",[e._v("AN26")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("ÖBHS'nin ön yüzünden seçtirdiği/kullanıcıya girdiği IBAN"),i("br"),e._v("Hesap numarası ya da Hesap Referansı alanlarından en az birinin dolu olarak gelmesi gerekmektedir.")]),e._v(" "),i("td",[e._v("Duzenli Ödeme Emri Rizası Yanıtı Nesnesindeki Gönderen Hesap Numarası verisi ile aynı olmalıdır.")]),e._v(" "),i("td",[i("strong",[e._v("GonHesN")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Hesap Referansı")])]),e._v(" "),i("td",[e._v("hspRef")]),e._v(" "),i("td",[e._v("AN5..40")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("ÖBHS’nin aynı zamanda HBHS olduğu durumda müşteri rızası tesis edilmiş bir hesabın referansı üzerinden de ödeme başlatılabilir."),i("br"),e._v("GKD sonrası HHS ekranında seçilen Hesap Referansı POST işleminin yanıtında dönülemez ancak isteğe bağlı GET sorgusu ile dönülebilir."),i("br"),e._v("Hesap Numarası kullanılıyorsa Hesap Referansı kullanılmayabilir. "),i("br"),e._v(" Ödeme Sistemine doğrudan katılımcı olmayan ÖHS'ler müşterilerine IBAN sunmadıkları için hspRef üzerinden ödeme başlatabilirler. Bu durumda hesap numarası boş olacaktır.")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Alıcı")])]),e._v(" "),i("td",[e._v("alc")]),e._v(" "),i("td",[e._v("Kompleks:Hesap")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td"),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ünvan")])]),e._v(" "),i("td",[e._v("unv")]),e._v(" "),i("td",[e._v("AN3..140")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kolay Adres Alıcı Sorgusunda başarılı sorgu sonucunda dönülen adres kaydı yaptırmış olan alıcının maskeli ad-soyadı veya maskeli ticari ünvan bilgisidir."),i("br"),e._v("Kolay adres değil ise ÖBHS tarafından istek mesajında iletilen ünvan bilgisidir.")]),e._v(" "),i("td",[e._v("YÖS’ten alıcı ad soyad bilgisi geliyorsa ve HHS'nin kontrolünden başarılı bir şekilde geçti ise HHS'nin tekrar alıcı ad soyad bilgisi için giriş yaptırmasına gerek bulunmamaktadır.")]),e._v(" "),i("td",[i("strong",[e._v("AlAd")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Hesap Numarası")])]),e._v(" "),i("td",[e._v("hspNo")]),e._v(" "),i("td",[e._v("AN26")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Alıcının Hesap Numarası alanıdır (IBAN)."),i("br"),e._v("Kolay Adres  sorgusunda dönülen adres kaydı yaptırmış olan alıcının maskeli IBAN bilgisidir."),i("br"),e._v("Kolay adres değil ise ÖBHS tarafından istek mesajında iletilen IBAN bilgisidir. Karekod akışında, FAST Karekod Veri Organizasyonundaki 30-01: alanında tanımlı İş Yeri IBAN verisi kullanılır.")]),e._v(" "),i("td",[e._v("Duzenli Ödeme Emri Rizası Yanıtı Nesnesindeki Alıcı Hesap Numarası verisi ile aynı olmalıdır."),i("br"),e._v(" Kontroller başarıyla sonuçlanırsa, bilgi FAST/PÖS AlHesN alanına doğrudan aktarır ve FAST/PÖS Alan Katılımcı Kodu (AlKK) olarak Alıcı HHS Kodu kullanılır."),i("br"),e._v(" KOLAS sorgusu sonucunda düzenli ödeme emrinde iletilen maskeli bilgi ile HHS’nin kendi düzenli ödeme emri rızası isteğinde tuttuğu KOLAS sorgusundan dönülen bilgi maskelenerek karşılaştırılır. Eğer aynı değilse uygun hata kodu dönülerek işlem sonlandırılır.")]),e._v(" "),i("td",[i("strong",[e._v("AlHesN")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kolay Adres")])]),e._v(" "),i("td",[e._v("kolas")]),e._v(" "),i("td",[e._v("Kompleks:Kolas")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td"),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Türü")])]),e._v(" "),i("td",[e._v("kolasTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Müşterinin sorgulamak istediği Kolay Adres Tipi değeridir. "),i("br"),i("strong",[e._v("TR.OHVPS.DataCode.KolasTur")]),e._v(" sıralı veri türü değerlerinden birini alır."),i("br"),e._v(" Alıcı Hesap Numarası girilmediyse kullanımı zorunludur ve "),i("strong",[e._v("Kolay Adres Tipi")]),e._v(" alanıyla birlikte kullanılır.")]),e._v(" "),i("td",[e._v("Duzenli Ödeme Emri Rizası Yanıtı Nesnesindeki Kolay Adres Tipi verisi ile aynı olmalıdır.")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Değeri")])]),e._v(" "),i("td",[e._v("kolasDgr")]),e._v(" "),i("td",[e._v("AN7..50")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Müşterinin eklediği, HHS (FAST katılımcısı) tarafından doğrulanmış Kolay Adres değeridir. Alabileceği değerler BKM “Kolay Adresleme Sistemi Uygulama Kuralları” belgesinde tanımlıdır."),i("br"),e._v(" Alıcı Hesap Numarası girilmediyse kullanımı zorunludur ve "),i("strong",[e._v("Kolay Adres Tipi")]),e._v(" alanıyla birlikte kullanılır.")]),e._v(" "),i("td",[e._v("Duzenli Ödeme Emri Rizası Yanıtı Nesnesindeki Kolay Adres Değeri verisi ile aynı olmalıdır.")]),e._v(" "),i("td",[i("strong",[e._v("FAST (KolasRef)")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Referans Numarası")])]),e._v(" "),i("td",[e._v("kolasRefNo")]),e._v(" "),i("td",[e._v("N12")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kolay Adres Alıcı Sorgusunda başarılı sorgu sonucunda dönülen, BKM Kolay Adresleme Sistemi Uygulama Kuralları’nda tanımlı KOLAS tarafından ilgili sorguya özel olarak üretilmiş referans numarasıdır.")]),e._v(" "),i("td"),e._v(" "),i("td",[i("strong",[e._v("KolasRef ( hem FAST hem de PÖS için aynı)")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Hesap Türü")])]),e._v(" "),i("td",[e._v("kolasHspTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kolay Adres Alıcı Sorgusunda başarılı sorgu sonucunda dönülen, BKM Kolay Adresleme Sistemi Uygulama Kuralları’nda tanımlı hesap türü bilgisidir:"),i("br"),e._v(" "),i("strong",[e._v("TR.OHVPS.DataCode.KolasHspTur")]),e._v(" sıralı veri değerlerinden birini alır.")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Karekod")])]),e._v(" "),i("td",[e._v("kkod")]),e._v(" "),i("td",[e._v("Kompleks:Karekod")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td"),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Akış Türü")])]),e._v(" "),i("td",[e._v("aksTur")]),e._v(" "),i("td",[e._v("AN2")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Karekod Akış Türü Karekod ödemesinin hangi akışla gerçekleştirildiğini gösterir."),i("br"),e._v(" Kolay Adresi Sistemi ile birlikte kullanılmaz."),i("br"),e._v(" 01: FAST katılımcısından dinamik doğrulama hizmeti alınan işyeri ödemesi"),i("br"),e._v(" 02: FAST katılımcısından statik doğrulama hizmeti alınan işyeri ödemesi"),i("br"),e._v("03: Kişiden kişiye ödemeler")]),e._v(" "),i("td",[e._v("Duzenli Ödeme Emri Rizası Nesnesindeki Kare Kod Akış Türü verisi ile aynı olmalıdır.")]),e._v(" "),i("td",[i("strong",[e._v("FAST: KrkdAksTur")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Referansı")])]),e._v(" "),i("td",[e._v("kkodRef")]),e._v(" "),i("td",[e._v("AN1..12")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Karekod referans numarasını gösterir."),i("br"),e._v(" Okunan karekodda referans değeri varsa kullanılması zorunludur."),i("br"),e._v("Kolay Adresi Sistemi ile birlikte kullanılmaz.")]),e._v(" "),i("td",[e._v("Duzenli Ödeme Emri Rizası Nesnesindeki Karekod Referansı verisi ile aynı olmalıdır."),i("br"),e._v(" Çevrimiçi doğrulama hizmeti alınmayan statik karekodlar için Referans numarasının bulunmadığı durumlarda HHS tarafından “NONREF” ifadesi girilir."),i("br")]),e._v(" "),i("td",[i("strong",[e._v("FAST: Karekod Referansı (KrkdRef)")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Üretici Kodu")])]),e._v(" "),i("td",[e._v("kkodUrtcKod")]),e._v(" "),i("td",[e._v("AN4")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Karekod üreticisinin kodu."),i("br"),e._v(" Ödeme Hizmeti Sağlayıcıları ve TCMB tarafından uygun görülen ödeme sistemi işleticisi TR Karekod üretebilmek için BKM’ye kayıt başvurusu yaparak karekod üretici kodu alabileceklerdir. Bankalar EFT kodlarını kullanacak olup ayrıca kayıt yaptırmalarına gerek bulunmamaktadır. 4 haneden kısa değerlerin sol tarafı ’0’ karakteri ile tamamlanmalıdır.")]),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Ödeme Ayrıntıları")])]),e._v(" "),i("td",[e._v("odmAyr")]),e._v(" "),i("td",[e._v("Kompleks: OdemeAyrintilari")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td"),e._v(" "),i("td"),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ödeme Kaynağı")])]),e._v(" "),i("td",[e._v("odmKynk")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Ödemenin başlatıldığı kaynağı belirtir. "),i("strong",[e._v("TR.OHVPS.DataCode.OdemeKaynak")]),e._v(" sıralı veri değerlerinden “O” değeri atanarak iletilmelidir. “O” değeri “Açık bankacılık aracılığı ile gönderilen ödemelerde kullanılır.” anlamını taşımaktadır.")]),e._v(" "),i("td",[e._v("Duzenli Ödeme Emri Rizası Nesnesindeki Ödeme Kaynağı verisi ile aynı olmalıdır."),i("br"),e._v("HHS tarafından ödeme mesajında (FAST/PÖS) aynen taşınmak durumundadır.")]),e._v(" "),i("td",[i("strong",[e._v("FAST/PÖS: OdmKynk")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ödeme Amacı")])]),e._v(" "),i("td",[e._v("odmAmc")]),e._v(" "),i("td",[e._v("AN2")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.OdemeAmaci")]),e._v(" sıralı veri değerlerinden birini alır.")]),e._v(" "),i("td",[e._v("Duzenli Ödeme Emri Rizası Nesnesindeki Ödeme Amacı verisi ile aynı olmalıdır."),i("br"),e._v("HHS tarafından ödeme mesajında (FAST/PÖS) aynen taşınmak durumundadır.")]),e._v(" "),i("td",[i("strong",[e._v("FAST (OdmAmc)/PÖS(OdmAmaci)")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Referans Bilgisi")])]),e._v(" "),i("td",[e._v("refBlg")]),e._v(" "),i("td",[e._v("AN1..140")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Ödemeye özel "),i("strong",[e._v("Referans Bilgisi")]),e._v(" alanıdır. Karekod işlemi değil ise zorunludur."),i("br"),e._v(" -\tKişiden kişiye fon aktarımlarda: Gün içerisinde ÖHK özelinde, her işleme özel biricik olarak oluşturulan referans bilgisidir."),i("br"),e._v(" Karekod P2P akışı için referans bilgisi (Karekod referans numarası değil, işleme özel üretilecek referans bilgisidir.) YÖS tarafından atanacaktır."),i("br"),e._v(" -\tE-ticaret işlemlerinde sipariş/takip numarası/müşteri/abone numarası"),i("br"),e._v(" -İşyeri Ödemesi Karekod akışında, FAST Karekod Veri Organizasyonundaki"),i("br"),e._v(" -\t62-01: alanında tanımlı Fatura Numarası "),i("br"),e._v(" -\t62-06: alanında tanımlı Müşteri Numarası "),i("br"),e._v(" verilerinden biri kullanılır.")]),e._v(" "),i("td",[e._v("Duzenli Ödeme Emri Rizası Nesnesindeki Referans Bilgisi verisi ile aynı olmalıdır.")]),e._v(" "),i("td",[i("strong",[e._v("RefBlg (Hem FAST hem de PÖS için aynı)")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Açıklama")])]),e._v(" "),i("td",[e._v("odmAcklm")]),e._v(" "),i("td",[e._v("AN1..200")]),e._v(" "),i("td",[e._v("İ")]),e._v(" "),i("td",[e._v("ÖBHS’nin ÖHK’dan aldığı ya da kendisinin atadığı işlem açıklaması bilgisi. "),i("br"),e._v("FAST/PÖS sistemi üzerinden yapılan ödemeler için açıklama bilgisi girilirse boşluk karakteri girilerek geçilemez. En az bir alfasayısal karakter girilmesi zorunludur.")]),e._v(" "),i("td"),e._v(" "),i("td",[i("strong",[e._v("FAST/PÖS Acklm")])])])])]),e._v(" "),i("p",[i("strong",[e._v("BAŞARILI YANIT:")])]),e._v(" "),i("p",[e._v("POST işleminin RESPONSE gövdesini (BODY) oluşturan “DuzenliOdemeEmri” nesnesi Tablo-10’daki parametrelerden oluşur:")]),e._v(" "),i("p",[i("strong",[e._v("Tablo 10: “DuzenliOdemeEmri” nesnesi")])]),e._v(" "),i("table",[i("thead",[i("tr",[i("th",[e._v("Alan Adı")]),e._v(" "),i("th",[e._v("JSON Alan Adı")]),e._v(" "),i("th",[e._v("Format: Veri modeli İsmi")]),e._v(" "),i("th",[e._v("Zorunlu / Koşullu / İsteğe bağlı")]),e._v(" "),i("th",[e._v("Açıklama")])])]),e._v(" "),i("tbody",[i("tr",[i("td",[i("strong",[e._v("Riza Bilgileri")])]),e._v(" "),i("td",[e._v("rzBlg")]),e._v(" "),i("td",[e._v("Kompleks: RizaBilgileri")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Rıza No")])]),e._v(" "),i("td",[e._v("rizaNo")]),e._v(" "),i("td",[e._v("AN1..128")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("OdemeEmriRızasi nesnesinin oluşturulması esnasında HHS kaynak sunucusu tarafından atanan biricik tanımlayıcı")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Oluşturma Zamanı")])]),e._v(" "),i("td",[e._v("olusZmn")]),e._v(" "),i("td",[e._v("ISODateTime")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("OdemeEmriRizasi nesnesinin oluşturulma zamanıdır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Rıza Durumu")])]),e._v(" "),i("td",[e._v("rizaDrm")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.RizaDurumu")]),e._v(" sıralı veri tipini değerlerinden birini alır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Katılımcı Bilgisi")])]),e._v(" "),i("td",[e._v("katilimciBlg")]),e._v(" "),i("td",[e._v("Kompleks:KatilimciBilgisi")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Katılımcılara atanmış kod bilgileridir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">Hesap Hizmeti Sağlayıcısı Kodu")])]),e._v(" "),i("td",[e._v("hhsKod")]),e._v(" "),i("td",[e._v("AN4")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İsteğin iletildiği Hesap Hizmeti Sağlayıcısının kodudur. (Nezdinde ÖH bulunduran kuruluş kodu. Örneğin, Banka, Elektronik Para Kuruluşu ve Ödeme Kuruluşu)")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Yetkili Ödeme Hizmeti Sağlayıcısı Kodu")])]),e._v(" "),i("td",[e._v("yosKod")]),e._v(" "),i("td",[e._v("AN4")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("İsteği gönderen Yetkili Ödeme Hizmeti Sağlayıcısı (YÖS) kodudur.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("GKD")])]),e._v(" "),i("td",[e._v("gkd")]),e._v(" "),i("td",[e._v("Kompleks:Gkd")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Yetkilendirme Yöntemi")])]),e._v(" "),i("td",[e._v("yetYntm")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.GkdTur")]),e._v(" sıralı veri türü değerlerinden birini alır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Yönlenme Adresi")])]),e._v(" "),i("td",[e._v("yonAdr")]),e._v(" "),i("td",[e._v("AN1..1024")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Yönlendirmeli güçlü kimlik doğrulama için zorunlu. HHS, müşteri uygulama / tarayıcısını yönlendirmeli akışta bu alanda belirtilen YÖS adresine yönlendirir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Ayrık GKD")])]),e._v(" "),i("td",[e._v("ayrikGkd")]),e._v(" "),i("td",[e._v("Kompleks:AyrikGkd")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Ayrık güçlü kimlik doğrulama için zorunlu.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> OHK Tanım Tip")])]),e._v(" "),i("td",[e._v("ohkTanimTip")]),e._v(" "),i("td",[e._v("AN8")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("ÖHK'nın HHS uygulaması tarafından tanınmasını sağlayacak tanım tipleridir. İstek içerisindeki veri değiştirilmeden iletilir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> OHK Tanım Değer")])]),e._v(" "),i("td",[e._v("ohkTanimDeger")]),e._v(" "),i("td",[e._v("AN1..30")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("ÖHK'nın HHS uygulaması tarafından tanınmasını sağlayacak tanım değeridir. ohkTanimTip'i ile uyumlu değerdir.  İstek içerisindeki veri değiştirilmeden iletilir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> HHS Yönlenme Adresi")])]),e._v(" "),i("td",[e._v("hhsYonAdr")]),e._v(" "),i("td",[e._v("AN1..1024")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Yönlendirmeli akış türünde GKD doğrulama bilgilerinin girilebilmesi için uygulamadan açılacak yönlendirme sayfasının adresi. Ayrık GKD akışında bu alan dönülmemelidir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Yetkilendirme Tamamlanma Zamanı")])]),e._v(" "),i("td",[e._v("yetTmmZmn")]),e._v(" "),i("td",[e._v("ISODateTime")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Yetkilendirme akışının tamamlanması gereken son zamanı gösterir. "),i("br"),e._v(" Rıza durumu Yetkilendirildi statüsüne geçene kadarki süredir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Ödeme Başlatma")])]),e._v(" "),i("td",[e._v("odmBsltm")]),e._v(" "),i("td",[e._v("Kompleks: OdemeBaslatma")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Kimlik")])]),e._v(" "),i("td",[e._v("kmlk")]),e._v(" "),i("td",[e._v("Kompleks:Kimlik")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kimlik Türü")])]),e._v(" "),i("td",[e._v("kmlkTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.KimlikTur")]),e._v(" sıralı veri türü değerlerinden birini alır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kimlik Verisi")])]),e._v(" "),i("td",[e._v("kmlkVrs")]),e._v(" "),i("td",[e._v("AN1..30")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("HHS nezdinde kullanıcı doğrulamasında kullanılan tanımlayıcıdır."),i("br"),i("strong",[e._v("TR.OHVPS.DataCode.KimlikTur")]),e._v(" değerine göre uzunluk ve formatı değişir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kurum Kimlik Türü")])]),e._v(" "),i("td",[e._v("krmKmlkTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Kurum adına yapılan ödemelerde ÖHK’nın altında tanımlı olduğu tüzel kişilik için kullanılan kurum kimlik türüdür."),i("br"),i("strong",[e._v("TR.OHVPS.DataCode.KurumKimlikTur")]),e._v(" sıralı veri türü değerlerinden birini alır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kurum Kimlik Verisi")])]),e._v(" "),i("td",[e._v("krmKmlkVrs")]),e._v(" "),i("td",[e._v("AN1..30")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Kurum adına yapılan ödemelerde ÖHK’nın altında tanımlı olduğu tüzel kişilik için kullanılan kurum kimlik verisidir."),i("br"),e._v(" "),i("strong",[e._v("TR.OHVPS.DataCode.KurumKimlikTur")]),e._v(" değerine göre uzunluk ve formatı değişir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ödeme Hizmeti Kullanıcısı Türü")])]),e._v(" "),i("td",[e._v("ohkTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.OhkTur")]),e._v(" sıralı veri türü değerlerinden birini alır "),i("strong",[e._v("(B: Bireysel, K:Kurumsal)")])])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Gönderen")])]),e._v(" "),i("td",[e._v("gon")]),e._v(" "),i("td",[e._v("Kompleks:Hesap")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ünvan")])]),e._v(" "),i("td",[e._v("unv")]),e._v(" "),i("td",[e._v("AN3..140")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Gönderen kişinin ad soyad ya da ticari ünvan bilgisi.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Hesap Numarası")])]),e._v(" "),i("td",[e._v("hspNo")]),e._v(" "),i("td",[e._v("AN26")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("ÖBHS tarafından iletilip doğrulanan veya HHS ekranında seçilen Gönderen Hesap Numarası dönülür.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Hesap Referansı")])]),e._v(" "),i("td",[e._v("hspRef")]),e._v(" "),i("td",[e._v("AN5..40")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("HHS tarafından hesap için atanan biricik tanımlıyıcıdır (uuid)"),i("br"),e._v(" YÖS bazında farklılaşması gerekmez."),i("br"),e._v("ÖBHS’nin aynı zamanda HBHS olduğu durumda müşteri rızası tesis edilmiş bir hesabın referansı üzerinden de ödeme başaltılabilir."),i("br"),e._v("GKD sonrası HHS ekranında seçilen Hesap Referansı POST işleminin yanıtında dönülemez ancak isteğe bağlı GET sorgusu ile dönülebilir."),i("br"),e._v("Hesap Numarası kullanılıyorsa Hesap Referansı kullanılmayabilir."),i("br"),e._v(" Ödeme Sistemine doğrudan katılımcı olmayan ÖHS'ler müşterilerine IBAN sunmadıkları için hspRef üzerinden ödeme başlatabilirler. Bu durumda hesap numarası boş olacaktır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Alıcı")])]),e._v(" "),i("td",[e._v("alc")]),e._v(" "),i("td",[e._v("Kompleks:Hesap")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ünvan")])]),e._v(" "),i("td",[e._v("unv")]),e._v(" "),i("td",[e._v("AN3..140")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kolay Adres Alıcı Sorgusunda başarılı sorgu sonucunda dönülen adres kaydı yaptırmış olan alıcının maskeli ad-soyadı veya maskeli ticari ünvan bilgisidir. Kolas’tan dönen “account owner” alanı kullanılmalıdır."),i("br"),e._v("Kolay adres değil ise ÖBHS tarafından istek mesajında iletilen ünvan bilgisidir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Hesap Numarası")])]),e._v(" "),i("td",[e._v("hspNo")]),e._v(" "),i("td",[e._v("AN26")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Alıcının Hesap Numarası alanıdır (IBAN)."),i("br"),e._v("Kolay Adres  sorgusunda dönülen adres kaydı yaptırmış olan alıcının maskeli IBAN bilgisidir."),i("br"),e._v("Kolay adres değil ise ÖBHS tarafından istek mesajında iletilen IBAN bilgisidir. Karekod akışında, FAST Karekod Veri Organizasyonundaki 30-01: alanında tanımlı İş Yeri IBAN verisi kullanılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Kolay Adres")])]),e._v(" "),i("td",[e._v("kolas")]),e._v(" "),i("td",[e._v("Kompleks:Kolas")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Türü")])]),e._v(" "),i("td",[e._v("kolasTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Müşterinin sorgulamak istediği Kolay Adres Tipi değeridir. "),i("br"),i("strong",[e._v("TR.OHVPS.DataCode.KolasTur")]),e._v(" sıralı veri türü değerlerinden birini alır."),i("br"),e._v(" Alıcı Hesap Numarası girilmediyse kullanımı zorunludur ve "),i("strong",[e._v("Kolay Adres Tipi")]),e._v(" alanıyla birlikte kullanılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Değeri")])]),e._v(" "),i("td",[e._v("kolasDgr")]),e._v(" "),i("td",[e._v("AN7..50")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Müşterinin eklediği, HHS (FAST katılımcısı) tarafından doğrulanmış Kolay Adres değeridir. Alabileceği değerler BKM “Kolay Adresleme Sistemi Uygulama Kuralları” belgesinde tanımlıdır."),i("br"),e._v(" Alıcı Hesap Numarası girilmediyse kullanımı zorunludur ve "),i("strong",[e._v("Kolay Adres Tipi")]),e._v(" alanıyla birlikte kullanılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Referans Numarası")])]),e._v(" "),i("td",[e._v("kolasRefNo")]),e._v(" "),i("td",[e._v("N12")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kolay Adres Alıcı Sorgusunda başarılı sorgu sonucunda dönülen, BKM Kolay Adresleme Sistemi Uygulama Kuralları’nda tanımlı KOLAS tarafından ilgili sorguya özel olarak üretilmiş referans numarasıdır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">>> Kolas Hesap Türü")])]),e._v(" "),i("td",[e._v("kolasHspTur")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Kolay Adres Alıcı Sorgusunda başarılı sorgu sonucunda dönülen, BKM Kolay Adresleme Sistemi Uygulama Kuralları’nda tanımlı hesap türü bilgisidir:"),i("br"),e._v(" "),i("strong",[e._v("TR.OHVPS.DataCode.KolasHspTur")]),e._v(" sıralı veri değerlerinden birini alır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Karekod")])]),e._v(" "),i("td",[e._v("kkod")]),e._v(" "),i("td",[e._v("Kompleks:Karekod")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Akış Türü")])]),e._v(" "),i("td",[e._v("aksTur")]),e._v(" "),i("td",[e._v("AN2")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Karekod Akış Türü Karekod ödemesinin hangi akışla gerçekleştirildiğini gösterir."),i("br"),e._v(" Kolay Adresi Sistemi ile birlikte kullanılmaz."),i("br"),e._v(" 01: FAST katılımcısından dinamik doğrulama hizmeti alınan işyeri ödemesi"),i("br"),e._v(" 02: FAST katılımcısından statik doğrulama hizmeti alınan işyeri ödemesi"),i("br"),e._v("03: Kişiden kişiye ödemeler")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Referansı")])]),e._v(" "),i("td",[e._v("kkodRef")]),e._v(" "),i("td",[e._v("AN1..12")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Karekod referans numarasını gösterir."),i("br"),e._v(" Okunan karekodda referans değeri varsa kullanılması zorunludur."),i("br"),e._v("Kolay Adresi Sistemi ile birlikte kullanılmaz.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Üretici Kodu")])]),e._v(" "),i("td",[e._v("kkodUrtcKod")]),e._v(" "),i("td",[e._v("AN4")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Karekod üreticisinin kodu."),i("br"),e._v(" Ödeme Hizmeti Sağlayıcıları ve TCMB tarafından uygun görülen ödeme sistemi işleticisi TR Karekod üretebilmek için BKM’ye kayıt başvurusu yaparak karekod üretici kodu alabileceklerdir. Bankalar EFT kodlarını kullanacak olup ayrıca kayıt yaptırmalarına gerek bulunmamaktadır. 4 haneden kısa değerlerin sol tarafı ’0’ karakteri ile tamamlanmalıdır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Ödeme Ayrıntıları")])]),e._v(" "),i("td",[e._v("odmAyr")]),e._v(" "),i("td",[e._v("Kompleks: OdemeAyrintilari")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ödeme Kaynağı")])]),e._v(" "),i("td",[e._v("odmKynk")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Ödemenin başlatıldığı kaynağı belirtir. "),i("strong",[e._v("TR.OHVPS.DataCode.OdemeKaynak")]),e._v(" sıralı veri değerlerinden “O”  değerini alır. “O” değeri “Açık bankacılık aracılığı ile gönderilen ödemelerde kullanılır.” anlamını taşımaktadır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Ödeme Amacı")])]),e._v(" "),i("td",[e._v("odmAmc")]),e._v(" "),i("td",[e._v("AN2")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[i("strong",[e._v("TR.OHVPS.DataCode.OdemeAmaci")]),e._v(" sıralı veri değerlerinden birini alır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Referans Bilgisi")])]),e._v(" "),i("td",[e._v("refBlg")]),e._v(" "),i("td",[e._v("AN1..140")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Ödemeye özel "),i("strong",[e._v("Referans Bilgisi")]),e._v(" alanıdır. Karekod işlemi değil ise zorunludur."),i("br"),e._v(" -\tKişiden kişiye fon aktarımlarda: Gün içerisinde ÖHK özelinde, her işleme özel biricik olarak oluşturulan referans bilgisidir."),i("br"),e._v(" Karekod P2P akışı için referans bilgisi (Karekod referans numarası değil, işleme özel üretilecek referans bilgisidir.) YÖS tarafından atanacaktır."),i("br"),e._v(" -\tE-ticaret işlemlerinde sipariş/takip numarası/müşteri/abone numarası"),i("br"),e._v(" - İşyeri Ödemesi Karekod akışında, FAST Karekod Veri Organizasyonundaki"),i("br"),e._v(" -\t62-01: alanında tanımlı Fatura Numarası "),i("br"),e._v(" -\t62-06: alanında tanımlı Müşteri Numarası "),i("br"),e._v(" verilerinden biri kullanılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v(">> Açıklama")])]),e._v(" "),i("td",[e._v("odmAcklm")]),e._v(" "),i("td",[e._v("AN1..200")]),e._v(" "),i("td",[e._v("İ")]),e._v(" "),i("td",[e._v("ÖBHS’nin ÖHK’dan aldığı ya da kendisinin atadığı işlem açıklaması bilgisi. "),i("br"),e._v("FAST/PÖS sistemi üzerinden yapılan ödemeler için açıklama bilgisi girilirse boşluk karakteri girilerek geçilemez. En az bir alfasayısal karakter girilmesi zorunludur.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Talimat Bilgileri")])]),e._v(" "),i("td",[e._v("tlmtBlg")]),e._v(" "),i("td",[e._v("Kompleks: TalimatBilgileri")]),e._v(" "),i("td",[e._v("-")]),e._v(" "),i("td")]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Talimat Numarası")])]),e._v(" "),i("td",[e._v("tlmtNo")]),e._v(" "),i("td",[e._v("AN1..128")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Düzenli Ödeme Emri nesnesinin UID'sidir. Düzenli Ödeme Emri kaydı'na dair İlişkin sorgular bu ID üzerinden yapılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Talimat Oluşma Zamanı")])]),e._v(" "),i("td",[e._v("tlmtOlsZmn")]),e._v(" "),i("td",[e._v("ISODateTime")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("duzenliOdemeEmri nesnesinin oluşturulma zamanı, talimatın HHS'de oluşturulduğu zaman bilgisidir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Talimat Tutarı")])]),e._v(" "),i("td",[e._v("tlmtTtr")]),e._v(" "),i("td",[e._v("AN1..24")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("ÖBHS'nin HHS'de belirlediği tutar bilgisidir. Talimata ait ilk ödeme emri kaydının tutar bilgisi iletilmelidir. "),i("br"),e._v(" Karekod akışında, FAST Karekod Veri Organizasyonundaki "),i("strong",[e._v("54: (Tutar)")]),e._v(" alanında tanımlı Tutar verisi kullanılır. "),i("br"),e._v(" Tutar alanı regex patterni şu şekildedir: '^\\d{1,18}$|^\\d{1,18}\\.\\d{1,5}$'")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Para Birimi")])]),e._v(" "),i("td",[e._v("prBrm")]),e._v(" "),i("td",[e._v("AN3")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Para Birimi. "),i("br"),e._v(" Karekod akışında, FAST Karekod Veri Organizasyonundaki "),i("strong",[e._v("53: (Para Birimi)")]),e._v(" alanında tanımlı Para Birimi verisi kullanılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> İlk Ödeme Günü")])]),e._v(" "),i("td",[e._v("ilkOdmGun")]),e._v(" "),i("td",[e._v("ISODate")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("ÖBHS'nin HHS'de belirlediği ilk ödeme günü bilgisidir.   Alabileceği minimum tarih değeri düzenli ödemenin verildiği tarihin 1 gün sonrası olabilir. Maksimum değer ise 30 gün olacak şekilde seçilebilir. "),i("br")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Son Ödeme Günü")])]),e._v(" "),i("td",[e._v("sonOdmGun")]),e._v(" "),i("td",[e._v("ISODate")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("ÖBHS'nin HHS'de belirlediği son ödeme günü bilgisidir. Alabileceği minimum gün değeri ilk ödeme gününün 1 gün sonrası olabilir. Maksimum değer ise 2 yıl olmalıdır. "),i("br")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Ödeme Sayısı")])]),e._v(" "),i("td",[e._v("odmSayi")]),e._v(" "),i("td",[e._v("N3")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("ÖBHS'nin HHS'de belirlediği ödeme sayısıdır. Minimum değer 2 adet olmalıdır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Ödeme Periyodu")])]),e._v(" "),i("td",[e._v("odmPryt")]),e._v(" "),i("td",[e._v("AN1")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("ÖBHS'nin HHS'de belirlediği ödeme periyot bilgisidir. TR.OHVPS.DataCode.OdemePeriyodu sıralı veri değerlerinden birini alır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("> Talimat Rumuzu")])]),e._v(" "),i("td",[e._v("tlmtRmz")]),e._v(" "),i("td",[e._v("AN1..180")]),e._v(" "),i("td",[e._v("İ")]),e._v(" "),i("td",[e._v("ÖBHS'nin HHS'de belirlediği talimata dair rumuz açıklamasıdır. İlgili alan isteğe bağlı olup HHS'lerin inisiyatifindedir.")])])])]),e._v(" "),i("h2",{attrs:{id:"_8-6-adim-3-1-duzenli-odeme-emri-sorgusu-istege-baglı"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_8-6-adim-3-1-duzenli-odeme-emri-sorgusu-istege-baglı"}},[e._v("#")]),e._v(" 8.6.\tADIM 3.1- Duzenli Ödeme Emri Sorgusu (İsteğe bağlı)")]),e._v(" "),i("img",{attrs:{src:a(665),width:"75%"}}),e._v(" "),i("p",[i("strong",[e._v("Şekil 9: Duzenli Ödeme Emri Sorgusu")])]),e._v(" "),i("p",[i("strong",[e._v("GET /duzenli-odeme-emri/{tlmtNo}")])]),e._v(" "),i("p",[e._v("ÖBHS, bu erişim adresi aracılığıyla düzenli ödeme emrini sorgulayabilir. Maksimum talimata dair son ödeme gününün 5 gün sonrasına kadar sorgulama yapılabilir. Sonrasında yapılacak sorgulamalarda erişim belirtecinin yetki süresi sonlandığı için HHS "),i("strong",[e._v("TR.OHVPS.Resource.ConsentRevoked")]),e._v(" hatasını dönmelidir.\nİptal edilmiş talimatın bilgileri sorgulanmak istendiğinde de yine "),i("strong",[e._v("TR.OHVPS.Resource.ConsentRevoked")]),e._v(" hatası verilmelidir.")]),e._v(" "),i("p",[e._v("YÖS sadece kendi uygulaması üzerinden verilmiş düzenli ödemeleri sorgulayabilir. Erişim izni olmayan bir ödeme emri numarası ile sorgulama yaptığında HHS'den "),i("strong",[e._v("TR.OHVPS.Resource.NotFound")]),e._v(" hatasını alır.")]),e._v(" "),i("p",[i("strong",[e._v("BAŞARILI YANIT:")])]),e._v(" "),i("p",[e._v("GET /duzenli-odeme-emri/{tlmtNo} yanıtının (RESPONSE) gövdesinde (BODY)  “DuzenliOdemeEmri” nesnesi bulunur. İstek başarıyla sonuçlanırsa HHS kaynak sunucusunda Tablo-10’da yer alan parametreleri içeren “DuzenliOdemeEmri” nesnesi döner.")]),e._v(" "),i("h2",{attrs:{id:"_8-7-adim-4-duzenli-odeme-planı-sorgulama"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_8-7-adim-4-duzenli-odeme-planı-sorgulama"}},[e._v("#")]),e._v(" 8.7.\tADIM 4- Düzenli Ödeme Planı Sorgulama")]),e._v(" "),i("img",{attrs:{src:a(666),width:"75%"}}),e._v(" "),i("p",[i("strong",[e._v("Şekil 10: Düzenli Ödeme Planı Sorgulama")])]),e._v(" "),i("p",[i("strong",[e._v("GET /duzenli-odeme-emri/{talimatNo}/odeme-plani")])]),e._v(" "),i("p",[e._v("ÖBHS, bu erişim adresi aracılığıyla düzenli ödeme planını görüntüleyebilir. İptal edilen bir ödeme emri rızasına dair talimat ödeme planı görüntülenemeyecektir. İptal edilmiş bir talimata ait istek geldiğinde HHS tarafından "),i("strong",[e._v('"TR.OHVPS.Resource.ConsentRevoked"')]),e._v(" hatası dönülmelidir.")]),e._v(" "),i("p",[i("strong",[e._v("BAŞARILI YANIT:")])]),e._v(" "),i("p",[e._v('POST işleminin RESPONSE gövdesini (BODY) oluşturan "DuzenliOdemeEmriPlani" nesnesi Tablo-11’deki parametrelerden oluşur:')]),e._v(" "),i("p",[i("strong",[e._v("Tablo 11: DuzenliOdemeEmriPlani nesnesi")])]),e._v(" "),i("table",[i("thead",[i("tr",[i("th",[e._v("Alan Adı")]),e._v(" "),i("th",[e._v("JSON Alan Adı")]),e._v(" "),i("th",[e._v("Format: Veri modeli İsmi")]),e._v(" "),i("th",[e._v("Zorunlu / Koşullu / İsteğe bağlı")]),e._v(" "),i("th",[e._v("Açıklama")])])]),e._v(" "),i("tbody",[i("tr",[i("td",[i("strong",[e._v("Ödeme Sıra Numarası")])]),e._v(" "),i("td",[e._v("odmSiraNo")]),e._v(" "),i("td",[e._v("AN1..999")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Ödeme planı içerisindeki sırayı belirten değerdir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Ödeme Tutarı")])]),e._v(" "),i("td",[e._v("odmTtr")]),e._v(" "),i("td",[e._v("AN1..24")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Ödeme planı içerisinde ödeme numarası kaydına ait ödenecek tutar bilgisi "),i("br"),e._v(" Karekod akışında, FAST Karekod Veri Organizasyonundaki "),i("strong",[e._v("54: (Tutar)")]),e._v(" alanında tanımlı Tutar verisi kullanılır. "),i("br"),e._v(" Tutar alanı regex patterni şu şekildedir: '^\\d{1,18}$|^\\d{1,18}\\.\\d{1,5}$'")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Gerçekleşen Ödeme Tutarı")])]),e._v(" "),i("td",[e._v("grckOdmTtr")]),e._v(" "),i("td",[e._v("AN1..24")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Ödeme planı içerisinde ödeme numarası kaydına ait ödenmiş  tutar bilgisi. Kısmi ödeme yapılan işlemlerde kısmi ödeme tutar bilgisi eklenmelidir. Kısmi ödeme yerine ödenecek tutarın tamamı ödenmesi durumunda ilgili tutar bilgisi iletilmelidir. Ödeme Durumu 01, 02 ve 06 olan kayıtlar için bu alanın gönderilmesi zorunludur."),i("br"),e._v(" Karekod akışında, FAST Karekod Veri Organizasyonundaki "),i("strong",[e._v("54: (Tutar)")]),e._v(" alanında tanımlı Tutar verisi kullanılır. "),i("br"),e._v(" Tutar alanı regex patterni şu şekildedir: '^\\d{1,18}$|^\\d{1,18}\\.\\d{1,5}$'")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Ödeme Tutarı Para Birimi")])]),e._v(" "),i("td",[e._v("prBrm")]),e._v(" "),i("td",[e._v("AN3")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Tutara ait Para Birimi. "),i("br"),e._v(" Karekod akışında, FAST Karekod Veri Organizasyonundaki "),i("strong",[e._v("53: (Para Birimi)")]),e._v(" alanında tanımlı Para Birimi verisi kullanılır.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Ödeme Talimat Tarihi")])]),e._v(" "),i("td",[e._v("odmTlmtTrh")]),e._v(" "),i("td",[e._v("ISODate")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Ödeme planı içerisindeki ilgili ödemenin gerçekleşmesi beklenen tarih bilgisidir.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Ödeme Gerçekleşme Zamanı")])]),e._v(" "),i("td",[e._v("odmGrckZmn")]),e._v(" "),i("td",[e._v("ISODateTime")]),e._v(" "),i("td",[e._v("K")]),e._v(" "),i("td",[e._v("Ödeme planı içerisindeki ilgili ödemenin gerçekleştiği tarih bilgisidir. Ödeme durumu 01, 02 ve 06 olan kayıtlar için bu alanın gönderilmesi zorunludur.")])]),e._v(" "),i("tr",[i("td",[i("strong",[e._v("Ödeme Durumu")])]),e._v(" "),i("td",[e._v("odmDrm")]),e._v(" "),i("td",[e._v("AN2")]),e._v(" "),i("td",[e._v("Z")]),e._v(" "),i("td",[e._v("Ödeme planı içerisindeki ödemelere ait durumu belirten değerdir. "),i("strong",[e._v("TR.OHVPS.DataCode.OdemeDurumu")]),e._v(" sıralı veri değerlerinden birini alır.")])])])]),e._v(" "),i("h2",{attrs:{id:"_8-8-adim-5-duzenli-odeme-emri-rıza-iptali"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-adim-5-duzenli-odeme-emri-rıza-iptali"}},[e._v("#")]),e._v(" 8.8.\tADIM 5- Düzenli Ödeme Emri Rıza İptali")]),e._v(" "),i("img",{attrs:{src:a(667),width:"75%"}}),e._v(" "),i("p",[i("strong",[e._v("Şekil 10: Düzenli Ödeme Emri Rızası İptali")])]),e._v(" "),i("p",[i("strong",[e._v("DELETE /duzenli-odeme-emri-rizasi/{rizaNo}")])]),e._v(" "),i("p",[e._v("ÖBHS, bu erişim adresi aracılığıyla düzenli ödeme emri rızasını iptal edebilir.")]),e._v(" "),i("p",[e._v("DELETE /duzenli-odeme-emri-rizasi çağrısı, bir ÖBHS'nin önceden oluşturulmuş bir düzenli ödeme emri rızasını silmesine izin verir. Müşteri, rızasını HHS üzerinden iptal etmek yerine, ÖBHS üzerinden bu rızasını kaldırmak isteyebilir.")]),e._v(" "),i("ul",[i("li",[e._v("Erişim belirteci kontrolü yapılır. Geçerli bir erişim belirteci yok ise HHS tarafından "),i("strong",[e._v("”TR.OHVPS.Connection.InvalidToken”")]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("İstek başlığında yer alan X-Access-Token ile ilişkili rıza, iptal edilen rizaNo bilgisi ile aynı olup olmadığı kontrol edilir. Farklı olması durumunda "),i("strong",[e._v('"TR.OHVPS.Resource.NotFound"')]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("İptal edilmek istenen Düzenli Ödeme Emri Rızası HHS tarafında bulunmuyor ise "),i("strong",[e._v("”TR.OHVPS.ResourceNotFound”")]),e._v(" hatası dönülür.")]),e._v(" "),i("li",[e._v("Rıza durumu I ve S olmayan kayıtlar için rıza iptali sağlanacaktır. I ve S olan kayıtlar için rıza iptal edilmek istendiğinde HHS'ler tarafından "),i("strong",[e._v("TR.OHVPS.Resource.ConsentRevoked")]),e._v(" hatası dönülecektir.")])]),e._v(" "),i("p",[e._v("Yukarıda kontroller başarıyla tamamlandıktan sonra sırasıyla aşağıdaki işlemler yapılır.")]),e._v(" "),i("ul",[i("li",[e._v("Düzenli ödeme talimat planı içerisinde yer alan odmDrm değeri 04 ve 05 olan kayıtlar 07 durum kodu ile güncellenecektir. Diğer durum kodları için 07 durum kod güncellemesi yapılmayacaktır.")]),e._v(" "),i("li",[e._v("İlişkili düzenli ödeme emri talimatı iptal edilmelidir.")]),e._v(" "),i("li",[e._v("Rıza iptal edilmelidir.")])]),e._v(" "),i("p",[e._v("Bu API çağrısı, müşterinin ÖBHS üzerinden düzenli ödeme emri rızasını iptal etmesine ve HHS nezdindeki düzenli ödeme emri rızası nesnesinin silinmesini sağlar.\nMüşterinin ÖBHS’nin veri erişim iznini iptal etmesi durumunda ÖBHS, HHS’de mevcut olan DuzenliOdemeEmriRizasi'na dair rıza ve talimat bilgilerini pratik olarak mümkün olan en kısa sürede silmelidir. Bu ise, ilgili kaynağa\nDELETE /duzenli-odeme-emri-rizasi/{RizaNo}\nçağrısı aracılığı ile yerine getirilir.")]),e._v(" "),i("p",[e._v("Servis istek parametresi olarak sadece path’de iletilen Rıza No bilgisine ihtiyaç duymaktadır.\nÖHK rızası başarı ile silindiğinde HTTP 204 response kodu ile işlem sonucu iletilir. Rıza tipi “I” yani “Yetki İptal” olarak ve gnclZmn zaman damgası vurularak güncellenir.\nÖHK ile rıza iptali sırasında kurulacak iletişimde (e-posta, sms gibi) aşağıdaki alanların iletilmesi tavsiye edilmektedir:\nYÖS Adı, HHS adı, Rıza Oluşturma Zamanı, Servis Tipi Bilgisi (ÖBHS)")])])}),[],!1,null,null,null);i.default=n.exports}}]);