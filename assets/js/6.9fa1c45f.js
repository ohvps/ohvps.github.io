(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{262:function(t,e,i){"use strict";var n=i(249),a=i(240),s=i(247),o=i(278),r=i(267),l=i(241),h=i(251),d=i(253),c=i(272),u=Object(s.c)(),_=c.a.inherit({_getDefaultOptions:function(){return Object(l.a)(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var t=Object(r.a)();return this.callBase().concat([{device:function(){return"android"===h.a.real().platform&&!/chrome/i.test(u.userAgent)},options:{viaImage:!0}},{device:function(){return Object(r.d)(t)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return Object(r.c)(t)},options:{_animatingSegmentCount:7}}])},_useTemplates:function(){return!1},_init:function(){this.callBase(),this.$element().addClass("dx-loadindicator")},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=Object(a.a)("<div>").addClass("dx-loadindicator-wrapper"),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=Object(a.a)("<div>").addClass("dx-loadindicator-content"),this._$wrapper.append(this._$content)},_renderMarkup:function(){!Object(o.animation)()||this.option("viaImage")||this.option("indicatorSrc")?this._renderMarkupForImage():this._renderMarkupForAnimation()},_renderMarkupForAnimation:function(){var t=this.option("_animatingSegmentInner");this._$indicator=Object(a.a)("<div>").addClass("dx-loadindicator-icon"),this._$content.append(this._$indicator);for(var e=this.option("_animatingSegmentCount");e>=0;--e){var i=Object(a.a)("<div>").addClass("dx-loadindicator-segment").addClass("dx-loadindicator-segment"+e);t&&i.append(Object(a.a)("<div>").addClass("dx-loadindicator-segment-inner")),this._$indicator.append(i)}},_renderMarkupForImage:function(){var t=this.option("indicatorSrc");this._$wrapper.addClass("dx-loadindicator-image"),t&&this._$wrapper.css("backgroundImage","url("+t+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(this._$indicator){var t=this.option("width"),e=this.option("height");if(t||e){t=Object(n.l)(this.$element()),e=Object(n.d)(this.$element());var i=Math.min(e,t);this._$wrapper.css({height:i,width:i,fontSize:i})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(t){switch(t.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(t)}}});Object(d.a)("dxLoadIndicator",_),e.a=_},286:function(t,e,i){"use strict";var n,a=i(249),s=i(291),o=i(253),r=i(251),l=i(252),h=i(256),d=i(240),c=i(337),u=i(243),_=i(245),p=i(265),f=i(241),g=i(244),v=i(288),b=i(242),m=i(284),C=i(247),O=i(269),y=i(259),x=i(246),k=i(294),w=i(268),E=i(325),M=i(248),B=i(324),$=(n=[],{add:function(t){n.includes(t)||n.push(t)},remove:function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)},fire:function(){var t=n.pop(),e=!!t;return e&&t(),e},hasCallback:function(){return n.length>0}}),j=i(293),V=i(272),S=i(274),T=i(326),A=i(327),P=v.a.add,H=Object(C.d)(),I=m.a,D=[];P(()=>{x.a.subscribeGlobal(l.default.getDocument(),w.a.down,t=>{for(var e=D.length-1;e>=0;e--)if(!D[e]._proxiedDocumentDownHandler(t))return})});var W=V.a.inherit({_supportedKeys:function(){return Object(f.a)(this.callBase(),{escape:function(){this.hide()}})},_getDefaultOptions:function(){return Object(f.a)(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:Object(f.a)({},A.a.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,from:{opacity:1,scale:1},to:{opacity:0,scale:.55}}},closeOnOutsideClick:!1,hideOnOutsideClick:!1,copyRootClassesToWrapper:!1,_ignoreCopyRootClassesToWrapperDeprecation:!1,_ignoreElementAttrDeprecation:!1,_ignorePreventScrollEventsDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,container:void 0,visualContainer:void 0,hideTopOverlayHandler:()=>{this.hide()},hideOnParentScroll:!1,preventScrollEvents:!0,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_fixWrapperPosition:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!Object(C.f)()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),Object(f.a)(this._optionsByReference,{animation:!0})},$wrapper:function(){return this._$wrapper},_eventBindingTarget:function(){return this._$content},_setDeprecatedOptions(){this.callBase(),Object(f.a)(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.1",alias:"hideOnOutsideClick"}})},ctor:function(t,e){this.callBase(t,e),e&&(e.copyRootClassesToWrapper&&!e._ignoreCopyRootClassesToWrapperDeprecation&&this._logDeprecatedOptionWarning("copyRootClassesToWrapper",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),e.elementAttr&&!e._ignoreElementAttrDeprecation&&this._logDeprecatedOptionWarning("elementAttr",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),"preventScrollEvents"in e&&!e._ignorePreventScrollEventsDeprecation&&this._logDeprecatedPreventScrollEventsInfo())},_logDeprecatedPreventScrollEventsInfo(){this._logDeprecatedOptionWarning("preventScrollEvents",{since:"23.1",message:"If you enable this option, end-users may experience scrolling issues."})},_init:function(){this.callBase(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=Object(d.a)("<div>").addClass("dx-overlay-wrapper"),this._$content=Object(d.a)("<div>").addClass("dx-overlay-content"),this._initInnerOverlayClass();var t=this.$element();this.option("copyRootClassesToWrapper")&&this._$wrapper.addClass(t.attr("class")),t.addClass("dx-overlay"),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler")),this._parentsScrollSubscriptionInfo={handler:t=>{this._hideOnParentsScrollHandler(t)}},this.warnPositionAsFunction()},warnPositionAsFunction(){Object(b.h)(this.option("position"))&&O.a.log("W0018")},_initInnerOverlayClass:function(){this._$content.toggleClass("dx-inner-overlay",this.option("innerOverlay"))},_initHideTopOverlayHandler:function(t){this._hideTopOverlayHandler=t},_getActionsList:function(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]},_initActions:function(){this._actions={};var t=this._getActionsList();Object(g.a)(t,(t,e)=>{this._actions[e]=this._createActionByOption(e,{excludeValidators:["disabled","readOnly"]})||u.n})},_initHideOnOutsideClickHandler:function(){var t=this;this._proxiedDocumentDownHandler=function(){return t._documentDownHandler(...arguments)}},_initMarkup(){this.callBase(),this._renderWrapperAttributes(),this._initPositionController()},_documentDownHandler:function(t){this._showAnimationProcessing&&this._stopAnimation();var e=Object(d.a)(H.document).is(t.target)||Object(p.d)(H.document,t.target),i=Object(d.a)(t.target).closest(".".concat("dx-inner-overlay")).length;return e&&!i&&!(this._$content.is(t.target)||Object(p.d)(this._$content.get(0),t.target))&&this._shouldHideOnOutsideClick(t)&&this._outsideClickHandler(t),this.option("propagateOutsideClick")},_shouldHideOnOutsideClick:function(t){var{hideOnOutsideClick:e}=this.option();return Object(b.h)(e)?e(t):e},_outsideClickHandler(t){this.option("shading")&&t.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return"content"},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new c.a}),this.callBase()},_isTopOverlay:function(){for(var t=this._overlayStack(),e=t.length-1;e>=0;e--){var i=t[e]._findTabbableBounds();if(i.first||i.last)return t[e]===this}return!1},_overlayStack:function(){return D},_zIndexInitValue:function(){return W.baseZIndex()},_toggleViewPortSubscription:function(t){var e=this;I.remove(this._viewPortChangeHandle),t&&(this._viewPortChangeHandle=function(){e._viewPortChangeHandler(...arguments)},I.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._positionController.updateContainer(this.option("container")),this._refresh()},_renderWrapperAttributes(){var{wrapperAttr:t}=this.option(),e=Object(f.a)({},t),i=e.class;delete e.class,this.$wrapper().attr(e).removeClass(this._customWrapperClass).addClass(i),this._customWrapperClass=i},_renderVisibilityAnimate:function(t){return this._stopAnimation(),t?this._show():this._hide()},_getAnimationConfig:function(){return this._getOptionValue("animation",this)},_toggleBodyScroll:u.n,_animateShowing:function(){var t,e,i,n=this,a=null!==(t=this._getAnimationConfig())&&void 0!==t?t:{},s=this._normalizeAnimation(a.show,"to"),o=null!==(e=null==s?void 0:s.start)&&void 0!==e?e:u.n,r=null!==(i=null==s?void 0:s.complete)&&void 0!==i?i:u.n;this._animate(s,(function(){if(!n._isAnimationPaused){n.option("focusStateEnabled")&&x.a.trigger(n._focusTarget(),"focus");for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.call(n,...e),n._showAnimationProcessing=!1,n._isHidden=!1,n._actions.onShown(),n._toggleSafariScrolling(),n._showingDeferred.resolve()}}),(function(){if(!n._isAnimationPaused){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];o.call(n,...e),n._showAnimationProcessing=!0}}))},_processShowingHidingCancel:function(t,e,i){Object(b.m)(t)?t.then(t=>{t?i():e()}).catch(()=>e()):t?i():e()},_show:function(){if(this._showingDeferred=new _.a,this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return(new _.a).resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.reject();else{var t=()=>{this._toggleBodyScroll(this.option("enableBodyScroll")),this._stopAnimation(),this._toggleVisibility(!0),this._$content.css("visibility","hidden"),this._$content.toggleClass("dx-state-invisible",!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();var t={cancel:!1};this._actions.onShowing(t),this._processShowingHidingCancel(t.cancel,()=>{this._$content.css("visibility",""),this._renderVisibility(!0),this._animateShowing()},()=>{this._toggleVisibility(!1),this._$content.css("visibility",""),this._$content.toggleClass("dx-state-invisible",!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this.option("visible",!1),this._showingDeferred.resolve()})};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(t)):t()}return this._showingDeferred.promise()},_normalizeAnimation:function(t,e){return t&&(t=Object(f.a)({type:"slide",skipElementInitialStyles:!0},t),Object(b.j)(t[e])&&Object(f.a)(t[e],{position:this._positionController.position})),t},_animateHiding:function(){var t,e,i,n=this,a=null!==(t=this._getAnimationConfig())&&void 0!==t?t:{},s=this._normalizeAnimation(a.hide,"from"),o=null!==(e=null==s?void 0:s.start)&&void 0!==e?e:u.n,r=null!==(i=null==s?void 0:s.complete)&&void 0!==i?i:u.n;this._animate(s,(function(){var t;n._$content.css("pointerEvents",""),n._renderVisibility(!1);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];r.call(n,...i),n._hideAnimationProcessing=!1,null===(t=n._actions)||void 0===t||t.onHidden(),n._hidingDeferred.resolve()}),(function(){n._$content.css("pointerEvents","none");for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];o.call(n,...e),n._hideAnimationProcessing=!0}))},_hide:function(){if(!this._currentVisible)return(new _.a).resolve().promise();this._currentVisible=!1,this._hidingDeferred=new _.a;var t={cancel:!1};return this._isShowingActionCanceled?(delete this._isShowingActionCanceled,this._hidingDeferred.reject()):(this._actions.onHiding(t),this._toggleSafariScrolling(),this._toggleBodyScroll(!0),this._processShowingHidingCancel(t.cancel,()=>{this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animateHiding()},()=>{this._isHidingActionCanceled=!0,this.option("visible",!0),this._hidingDeferred.resolve()})),this._hidingDeferred.promise()},_forceFocusLost:function(){var t=l.default.getActiveElement();!!this._$content.find(t).length&&Object(p.i)()},_animate:function(t,e,i){t?(i=i||t.start||u.n,s.a.animate(this._$content,Object(f.a)({},t,{start:i,complete:e}))):e()},_stopAnimation:function(){s.a.stop(this._$content,!0)},_renderVisibility:function(t){t&&this._isParentHidden()||(this._currentVisible=t,this._stopAnimation(),t||Object(B.a)(this._$content),t?(this._checkContainerExists(),this._moveToContainer(),this._renderGeometry(),Object(B.c)(this._$content),Object(B.b)(this._$content)):(this._toggleVisibility(t),this._$content.toggleClass("dx-state-invisible",!t),this._updateZIndexStackPosition(t),this._moveFromContainer()),this._toggleShading(t),this._toggleSubscriptions(t))},_updateZIndexStackPosition:function(t){var e=this._overlayStack(),i=e.indexOf(this);t?(-1===i&&(this._zIndex=T.b(this._zIndexInitValue()),e.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):-1!==i&&(e.splice(i,1),T.d(this._zIndex))},_toggleShading:function(t){this._$wrapper.toggleClass("dx-overlay-shader",t&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(t&&this.option("shading"))},_initTabTerminatorHandler:function(){var t=this;this._proxiedTabTerminatorHandler=function(){t._tabKeyHandler(...arguments)}},_toggleTabTerminator:function(t){var e=Object(M.a)("keydown",this.NAME);t?x.a.on(l.default.getDocument(),e,this._proxiedTabTerminatorHandler):x.a.off(l.default.getDocument(),e,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var t=this._$wrapper.find("*"),e=t.length-1,i={first:null,last:null},n=0;n<=e&&(!i.first&&t.eq(n).is(j.c)&&(i.first=t.eq(n)),!i.last&&t.eq(e-n).is(j.c)&&(i.last=t.eq(e-n)),!i.first||!i.last);n++);return i},_tabKeyHandler:function(t){if("tab"===Object(M.n)(t)&&this._isTopOverlay()){var e=this._findTabbableBounds(),i=e.first,n=e.last,a=!t.shiftKey&&t.target===n.get(0),s=t.shiftKey&&t.target===i.get(0),o=0===e.length,r=!Object(p.d)(this._$wrapper.get(0),t.target);if(a||s||o||r){t.preventDefault();var l=t.shiftKey?n:i;x.a.trigger(l,"focusin"),x.a.trigger(l,"focus")}}},_toggleSubscriptions:function(t){Object(C.f)()&&(this._toggleHideTopOverlayCallback(t),this._toggleHideOnParentsScrollSubscription(t))},_toggleHideTopOverlayCallback:function(t){this._hideTopOverlayHandler&&(t?$.add(this._hideTopOverlayHandler):$.remove(this._hideTopOverlayHandler))},_toggleHideOnParentsScrollSubscription:function(t){var e,i=Object(M.a)("scroll",this.NAME),{prevTargets:n,handler:a}=null!==(e=this._parentsScrollSubscriptionInfo)&&void 0!==e?e:{};x.a.off(n,i,a);var s=this.option("hideOnParentScroll");if(t&&s){var o=this._hideOnParentScrollTarget().parents();"desktop"===r.a.real().deviceType&&(o=o.add(H)),x.a.on(o,i,a),this._parentsScrollSubscriptionInfo.prevTargets=o}},_hideOnParentsScrollHandler:function(t){var e=!1,i=this.option("hideOnParentScroll");Object(b.h)(i)&&(e=i(t)),e||this._showAnimationProcessing||this.hide()},_hideOnParentScrollTarget:function(){return this._$wrapper},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var t=!this._currentVisible&&this.option("deferRendering");this.option("visible")&&this._isParentHidden()?this._isHidden=!0:this._contentAlreadyRendered||t||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(void 0!==this._parentHidden)return this._parentHidden;var t=this.$element().parent();if(t.is(":visible"))return!1;var e=!1;return t.add(t.parents()).each((function(){if("none"===Object(d.a)(this).css("display"))return e=!0,!1})),e||!l.default.getBody().contains(t.get(0))},_renderContentImpl:function(){var t=new _.a,e=this.option("contentTemplate"),i=this._getTemplate(e),n=this._templateManager.anonymousTemplateName===e;return i&&i.render({container:Object(h.a)(this.$content()),noModel:!0,transclude:n,onRendered:()=>{t.resolve(),this.option("templatesRenderAsynchronously")&&this._dimensionChanged()}}),this._toggleWrapperScrollEventsSubscription(this.option("preventScrollEvents")),t.done(()=>{this.option("visible")&&this._moveToContainer()}),t.promise()},_getPositionControllerConfig(){var{container:t,visualContainer:e,_fixWrapperPosition:i,restorePosition:n}=this.option();return{container:t,visualContainer:e,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:n,_fixWrapperPosition:i}},_initPositionController(){this._positionController=new A.b(this._getPositionControllerConfig())},_toggleWrapperScrollEventsSubscription:function(t){var e=Object(M.a)(k.d,this.NAME);x.a.off(this._$wrapper,e),t&&x.a.on(this._$wrapper,e,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(t){t||this._toggleGestureCoverImpl(t)},_clearSelection:u.n,isNative:!0},t=>{var e=t.originalEvent.originalEvent,{type:i}=e||{},n="wheel"===i,a="mousemove"===i,s=n&&!Object(M.i)(t);t._cancelPreventDefault=!0,e&&!1!==t.cancelable&&(!a&&!n||s)&&t.preventDefault()})},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._$wrapper.detach()},_checkContainerExists(){var t=this._positionController.$container;void 0!==t&&(t.length>0||y.a.log("W1021",this.NAME))},_moveToContainer:function(){var t=this._positionController.$container;this._$wrapper.appendTo(t),this._$content.appendTo(this._$wrapper)},_renderGeometry:function(t){var{visible:e}=this.option();e&&Object(C.f)()&&(this._stopAnimation(),this._renderGeometryImpl())},_renderGeometryImpl:function(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()},_renderPosition(){this._positionController.positionContent()},_isAllWindowCovered:function(){return Object(b.p)(this._positionController.$visualContainer.get(0))&&this.option("shading")},_toggleSafariScrolling:function(){var t=this.option("visible"),e=Object(d.a)(l.default.getBody()),i="ios"===r.a.real().platform&&S.a.safari,n=this._isAllWindowCovered(),a=e.hasClass("dx-prevent-safari-scrolling"),s=!a&&t&&n,o=a&&(!t||!n||this._disposed);i&&(o?(e.removeClass("dx-prevent-safari-scrolling"),H.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):s&&(this._cachedBodyScrollTop=H.pageYOffset,e.addClass("dx-prevent-safari-scrolling")))},_renderWrapper:function(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()},_renderWrapperDimensions:function(){var t=this._positionController.$visualContainer,e=l.default.getDocumentElement(),i=Object(b.p)(t.get(0)),n=i?e.clientWidth:Object(a.i)(t),s=i?H.innerHeight:Object(a.h)(t);this._$wrapper.css({width:n,height:s})},_renderDimensions:function(){var t=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",t),maxWidth:this._getOptionValue("maxWidth",t),minHeight:this._getOptionValue("minHeight",t),maxHeight:this._getOptionValue("maxHeight",t),width:this._getOptionValue("width",t),height:this._getOptionValue("height",t)})},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardListenerId=E.f.on(this._$content,null,t=>this._keyboardHandler(t))},_keyboardHandler:function(t){var e=t.originalEvent,i=Object(d.a)(e.target);!i.is(this._$content)&&this.option("ignoreChildEvents")||this.callBase(...arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(t){t?this.option("visible")&&this._renderVisibilityAnimate(t):this._renderVisibilityAnimate(t)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){var t=this.option();this._contentAlreadyRendered||t.isRenovated||this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){s.a.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,this.callBase(),this._toggleSafariScrolling(),this.option("visible")&&T.d(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleRTLDirection:function(t){this._$content.toggleClass("dx-rtl",t)},_optionChanged:function(t){var{value:e,name:i}=t;if(this._getActionsList().includes(i))this._initActions();else switch(i){case"animation":break;case"shading":this._toggleShading(this.option("visible")),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":this._renderGeometry();break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(e).done(()=>{var t;return null===(t=this._animateDeferred)||void 0===t?void 0:t.resolveWith(this)}).fail(()=>{var t;return null===(t=this._animateDeferred)||void 0===t?void 0:t.reject()});break;case"container":this._positionController.updateContainer(e),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(e),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(e),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":this._toggleHideOnParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(t);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=e;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=e;break;case"preventScrollEvents":this._logDeprecatedPreventScrollEventsInfo(),this._toggleWrapperScrollEventsSubscription(e);break;default:this.callBase(t)}},toggle:function(t){t=void 0===t?!this.option("visible"):t;var e=new _.a;if(t===this.option("visible"))return e.resolveWith(this,[t]).promise();var i=new _.a;return this._animateDeferred=i,this.option("visible",t),i.promise().done(()=>{delete this._animateDeferred,e.resolveWith(this,[this.option("visible")])}).fail(()=>{delete this._animateDeferred,e.reject()}),e.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return Object(h.a)(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),Object(B.b)(this._$content)):this.callBase()}});W.baseZIndex=t=>T.a(t),Object(o.a)("dxOverlay",W);e.a=W},294:function(t,e,i){"use strict";i.d(e,"d",(function(){return _})),i.d(e,"e",(function(){return u})),i.d(e,"a",(function(){return p})),i.d(e,"b",(function(){return f})),i.d(e,"c",(function(){return g}));var n=i(240),a=i(277),s=i(338),o=i(244),r=i(265),l=i(297),h=i(248),d=i(358),c=i(323),u="dxdragstart",_="dxdrag",p="dxdragend",f="dxdragenter",g="dxdragleave",v="dxdrop",b=[],m=[],C=[],O={setup:function(t,e){b.includes(t)||(b.push(t),m.push([]),C.push(e||{}))},add:function(t,e){var i=b.indexOf(t);this.updateEventsCounter(t,e.type,1);var n=e.selector;m[i].includes(n)||m[i].push(n)},updateEventsCounter:function(t,e,i){if([f,g,v].indexOf(e)>-1){var n=Object(a.c)(t,"dxDragEventsCount")||0;Object(a.c)(t,"dxDragEventsCount",Math.max(0,n+i))}},remove:function(t,e){this.updateEventsCounter(t,e.type,-1)},teardown:function(t){if(!Object(a.c)(t,"dxDragEventsCount")){var e=b.indexOf(t);b.splice(e,1),m.splice(e,1),C.splice(e,1),Object(a.d)(t,"dxDragEventsCount")}}};Object(l.a)(f,O),Object(l.a)(g,O),Object(l.a)(v,O);var y=d.a.inherit({ctor:function(t){this.callBase(t),this.direction="both"},_init:function(t){this._initEvent=t},_start:function(t){if(t=this._fireEvent(u,this._initEvent),this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset,t.targetElements||null===t.targetElements){var e=Object(s.e)(t.targetElements||[]);this._dropTargets=o.b(e,(function(t){return Object(n.a)(t).get(0)}))}else this._dropTargets=b},_move:function(t){var e=Object(h.c)(t),i=this._calculateOffset(e);t=this._fireEvent(_,t,{offset:i}),this._processDropTargets(t),t._cancelPreventDefault||t.preventDefault()},_calculateOffset:function(t){return{x:this._calculateXOffset(t),y:this._calculateYOffset(t)}},_calculateXOffset:function(t){if("vertical"!==this.direction){var e=t.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(t){if("horizontal"!==this.direction){var e=t.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(t,e,i){return null!=e&&(t=Math.max(t,-e)),null!=i&&(t=Math.min(t,i)),t},_processDropTargets:function(t){var e=this._findDropTarget(t);e===this._currentDropTarget||(this._fireDropTargetEvent(t,g),this._currentDropTarget=e,this._fireDropTargetEvent(t,f))},_fireDropTargetEvent:function(t,e){if(this._currentDropTarget){var i={type:e,originalEvent:t,draggingElement:this._$element.get(0),target:this._currentDropTarget};Object(h.f)(i)}},_findDropTarget:function(t){var e,i=this;return o.a(b,(function(a,s){if(i._checkDropTargetActive(s)){var r,l,h,d,c=Object(n.a)(s);o.a((r=c,l=b.indexOf(r.get(0)),h=m[l].filter(t=>t),d=r.find(h.join(", ")),m[l].includes(void 0)&&(d=d.add(r)),d),(function(a,s){var o=Object(n.a)(s);i._checkDropTarget(function(t){var e=b.indexOf(t.get(0));return C[e]}(c),o,Object(n.a)(e),t)&&(e=s)}))}})),e},_checkDropTargetActive:function(t){var e=!1;return o.a(this._dropTargets,(function(i,n){return!(e=e||n===t||Object(r.d)(n,t))})),e},_checkDropTarget:function(t,e,i,a){if(e.get(0)===Object(n.a)(a.target).get(0))return!1;var s,o,r=(o=e,(s=t).itemPositionFunc?s.itemPositionFunc(o):o.offset());if(a.pageX<r.left)return!1;if(a.pageY<r.top)return!1;var l=function(t,e){return t.itemSizeFunc?t.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}}(t,e);return!(a.pageX>r.left+l.width)&&(!(a.pageY>r.top+l.height)&&((!i.length||!i.closest(e).length)&&(!(t.checkDropTarget&&!t.checkDropTarget(e,a))&&e)))},_end:function(t){var e=Object(h.c)(t);this._fireEvent(p,t,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(t,v),delete this._currentDropTarget}});Object(c.a)({emitter:y,events:[u,_,p]})},326:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return r})),i.d(e,"d",(function(){return l})),i.d(e,"c",(function(){return h}));var n=i(243),a=1500,s=[],o=t=>a=Object(n.g)(t,a),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=s.length,i=(e?s[e-1]:t)+1;return s.push(i),i},l=t=>{var e=s.indexOf(t);e>=0&&s.splice(e,1)},h=t=>s.length&&s[s.length-1]===t},327:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return _}));var n=i(240),a=i(242),s=i(241),o=i(298),r=i(266),l=i(247),h=i(328),d=Object(l.d)(),c={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},u={h:0,v:0};class _{constructor(t){var{position:e,container:i,visualContainer:n,$root:a,$content:s,$wrapper:o,onPositioned:r,onVisualPositionChanged:l,restorePosition:h,_fixWrapperPosition:d}=t;this._props={position:e,container:i,visualContainer:n,restorePosition:h,onPositioned:r,onVisualPositionChanged:l,_fixWrapperPosition:d},this._$root=a,this._$content=s,this._$wrapper=o,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(i),this.updatePosition(e),this.updateVisualContainer(n)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(t){this._props._fixWrapperPosition=t,this.styleWrapperPosition()}set restorePosition(t){this._props.restorePosition=t}restorePositionOnNextRender(t){this._shouldRenderContentInitialPosition=t||!this._visualPosition}openingHandled(){var t=this._props.restorePosition;this.restorePositionOnNextRender(t)}updatePosition(t){this._props.position=t,this._position=this._normalizePosition(t),this.updateVisualContainer()}updateContainer(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._props.container;this._props.container=t,this._$markupContainer=t?Object(n.a)(t):h.a.getSwatchContainer(this._$root),this.updateVisualContainer(this._props.visualContainer)}updateVisualContainer(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._props.visualContainer;this._props.visualContainer=t,this._$visualContainer=this._getVisualContainer()}detectVisualPositionChange(t){this._updateVisualPositionValue(),this._raisePositionedEvents(t)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(Object(r.e)(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&o.a.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){var t=Object(a.p)(this.$visualContainer.get(0))||this._props._fixWrapperPosition?"fixed":"absolute";this._$wrapper.css("position",t)}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=Object(r.d)(this._$content)}_renderContentInitialPosition(){this._renderBoundaryOffset(),Object(r.g)(this._$content);var t=this._$wrapper.css("overflow");this._$wrapper.css("overflow","hidden");var e=o.a.setup(this._$content,this._position);this._$wrapper.css("overflow",t),this._initialPosition=e,this.detectVisualPositionChange()}_raisePositionedEvents(t){var e=this._previousVisualPosition,i=this._visualPosition;((null==e?void 0:e.top)!==i.top||(null==e?void 0:e.left)!==i.left)&&this._props.onVisualPositionChanged({previousPosition:e,position:i,event:t}),this._props.onPositioned({position:this._initialPosition})}_renderBoundaryOffset(){var t,e=null!==(t=this._position)&&void 0!==t?t:{boundaryOffset:u};this._$content.css("margin","".concat(e.v,"px ").concat(e.h,"px"))}_getVisualContainer(){var t,e,i=this._props.container,s=this._props.visualContainer,o=Object(a.f)(null===(t=this._props.position)||void 0===t?void 0:t.of)?this._props.position.of.target:null===(e=this._props.position)||void 0===e?void 0:e.of;return s?Object(n.a)(s):i?Object(n.a)(i):o?Object(n.a)(o):Object(n.a)(d)}_normalizePosition(t){var e={boundaryOffset:u};return Object(a.d)(t)?Object(s.a)(!0,{},e,this._positionToObject(t)):e}_positionToObject(t){return Object(a.o)(t)?Object(s.a)({},c[t]):t}}},328:function(t,e,i){"use strict";var n=i(240),a=i(284);e.a={getSwatchContainer:t=>{var e=Object(n.a)(t).closest('[class^="'.concat("dx-swatch-",'"], [class*=" ').concat("dx-swatch-",'"]')),i=Object(a.c)();if(!e.length)return i;var s=new RegExp("(\\s|^)(".concat("dx-swatch-",".*?)(\\s|$)")),o=e[0].className.match(s)[2],r=i.children("."+o);return r.length||(r=Object(n.a)("<div>").addClass(o).appendTo(i)),r}}},347:function(t,e,i){"use strict";var n=i(240),a=i(277),s=i(261),o=i(247),r=i(248),l=i(241),h=i(272),d=i(348),c=i(246),u=i(483),_=i(273),p=i(243),f=i(265),g=["outlined","filled","underlined"],v={validationMessageMode:"mode",validationMessagePosition:"positionSide",validationMessageOffset:"offset",validationBoundary:"boundary"},b=h.a.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=Object(s.default)(),this.callBase.apply(this,arguments)},_createElement:function(t){this.callBase(t);var e=this.$element();e&&Object(a.c)(e[0],"dx-validation-target",this)},_initOptions:function(t){this.callBase.apply(this,arguments),this.option(d.a.initValidationOptions(t))},_init:function(){this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions")),this.$element().addClass("dx-show-invalid-badge")},_getDefaultOptions:function(){return Object(l.a)(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:"valid",validationMessageMode:"auto",validationMessagePosition:"bottom",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{},_showValidationMessage:!0})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),Object(l.a)(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){var t;this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState(),null===(t=this.option("_onMarkupRendered"))||void 0===t||t()},_raiseValueChangeAction:function(t,e){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(t,e))},_valueChangeArgs:function(t,e){return{value:t,previousValue:e,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(t){this._valueChangeEventInstance=t},_focusInHandler:function(t){var e="auto"===this.option("validationMessageMode");if(this._canValueBeChangedByClick()&&e){var i,n=null===(i=this._validationMessage)||void 0===i?void 0:i.$wrapper();null==n||n.removeClass("dx-invalid-message-auto"),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>null==n?void 0:n.addClass("dx-invalid-message-auto"),150)}return this.callBase(t)},_canValueBeChangedByClick:function(){return!1},_getStylingModePrefix:function(){return"dx-editor-"},_renderStylingMode:function(){var t=this.option("stylingMode"),e=this._getStylingModePrefix(),i=g.map(t=>e+t);i.forEach(t=>this.$element().removeClass(t));var n=e+t;if(-1===i.indexOf(n)){var a=this._getDefaultOptions().stylingMode,s=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;n=e+(s||a)}this.$element().addClass(n)},_getValidationErrors:function(){var t=this.option("validationErrors");return!t&&this.option("validationError")&&(t=[this.option("validationError")]),t},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses:function(t){this.$element().toggleClass("dx-invalid",t),this.setAria("invalid",t||void 0)},_renderValidationState:function(){var t=this.option("isValid")&&"invalid"!==this.option("validationStatus"),e=this._getValidationErrors(),i=this.$element();if(this._toggleValidationClasses(!t),Object(o.f)()&&!1!==this.option("_showValidationMessage")&&(this._disposeValidationMessage(),!t&&e)){var{validationMessageMode:a,validationMessageOffset:s,validationBoundary:r,rtlEnabled:h}=this.option();this._$validationMessage=Object(n.a)("<div>").appendTo(i);var d="dx-".concat(new _.a);this.setAria("describedby",d),this._validationMessage=new u.a(this._$validationMessage,Object(l.a)({validationErrors:e,rtlEnabled:h,target:this._getValidationMessageTarget(),visualContainer:i,mode:a,positionSide:this._getValidationMessagePosition(),offset:s,boundary:r,contentId:d},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessagePosition:function(){return this.option("validationMessagePosition")},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var t=this.option("readOnly");this._toggleBackspaceHandler(t),this.$element().toggleClass("dx-state-readonly",!!t),this.setAria("readonly",t||void 0)},_toggleBackspaceHandler:function(t){var e=this._keyboardEventBindingTarget(),i=Object(r.a)("keydown","editorReadOnly");c.a.off(e,i),t&&c.a.on(e,i,t=>{"backspace"===Object(r.n)(t)&&t.preventDefault()})},_dispose:function(){var t=this.$element()[0];Object(a.c)(t,"dx-validation-target",null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName:function(t){var e=this._getSubmitElement();e&&(t.length>0?e.attr("name",t):e.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(t){var e,{name:i,value:n}=t,a=v[i]?v[i]:i;null===(e=this._validationMessage)||void 0===e||e.option(a,n)},_hasActiveElement:p.n,_optionChanged:function(t){var e;switch(t.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":t.value!=t.previousValue&&this.validationRequest.fire({value:t.value,editor:this}),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(t.value,t.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(t),null===(e=this._validationMessage)||void 0===e||e.updateMaxWidth();break;case"name":this._setSubmitElementName(t.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(d.a.synchronizeValidationOptions(t,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessagePosition":case"validationMessageOffset":this._setValidationMessageOption(t);break;case"rtlEnabled":this._setValidationMessageOption(t),this.callBase(t);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,t);break;case"_showValidationMessage":break;default:this.callBase(t)}},blur:function(){this._hasActiveElement()&&Object(f.i)()},reset:function(){var t=this._getDefaultOptions();this.option("value",t.value)}});b.isEditor=t=>t instanceof b,e.a=b},402:function(t,e,i){"use strict";var n=i(240),a=i(247),s=i(241),o=i(253),r=i(516),l=i(248),h=i(249),d=Object(a.d)(),c=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],u=r.a.inherit({ctor:function(t,e){e&&(this._showClearButton=e.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return Object(s.a)(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass("dx-textbox"),this.callBase(),this.setAria("role","textbox")},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_useTemplates:function(){return!1},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var t=this._getMaxLength();t&&t>0?this._input().attr("maxLength",t):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var t=this._$element;"search"===this.option("mode")?(t.addClass("dx-searchbox"),this._renderSearchIcon(),void 0===this._showClearButton&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(t.removeClass("dx-searchbox"),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",void 0===this._showClearButton?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var t=Object(n.a)("<div>").addClass("dx-icon").addClass("dx-icon-search");t.prependTo(this._input().parent()),this._$searchIcon=t},_getLabelContainerWidth:function(){if(this._$searchIcon){var t=this._input().parent();return Object(h.l)(t)-this._getLabelBeforeWidth()}return this.callBase()},_getLabelBeforeWidth:function(){var t=this.callBase();return this._$searchIcon&&(t+=Object(h.i)(this._$searchIcon)),t},_optionChanged:function(t){switch(t.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":this.callBase(t),this._updateLabelWidth();break;case"mask":this.callBase(t),this._toggleMaxLengthProp();break;default:this.callBase(t)}},_onKeyDownCutOffHandler:function(t){var e=this._getMaxLength();if(!e||t.ctrlKey||this._hasSelection())return!0;var i=Object(n.a)(t.target),a=Object(l.n)(t);return this._cutOffExtraChar(i),i.val().length<e||c.includes(a)||""!==d.getSelection().toString()},_onChangeCutOffHandler:function(t){var e=Object(n.a)(t.target);this.option("maxLength")&&this._cutOffExtraChar(e)},_cutOffExtraChar:function(t){var e=this._getMaxLength(),i=t.val();e&&i.length>e&&t.val(i.substr(0,e))},_getMaxLength:function(){return!!this.option("mask")?null:this.option("maxLength")}});Object(o.a)("dxTextBox",u);var _=u;e.a=_},433:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i(240);class a{constructor(t,e,i){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=e,this.name=t,this.options=i||{}}_addPlaceMarker(t){this.$placeMarker=Object(n.a)("<div>").appendTo(t)}_addToContainer(t){var{$placeMarker:e,$container:i}=this;e?e.replaceWith(t):t.appendTo(i)}_attachEvents(){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){var{editor:t,options:e}=this;return e.visible||!t.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){var{instance:t,$placeMarker:e}=this;t&&(t.dispose?t.dispose():t.remove(),this.instance=null),e&&e.remove()}render(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$container;if(this.$container=t,this._isVisible()){var{instance:e,$element:i}=this._create();this.instance=e,this._attachEvents(e,i)}else this._addPlaceMarker(t)}update(){return this._shouldRender()&&this.render(),!!this.instance}}},454:function(t,e,i){"use strict";var n=i(243),a=i(247),s=Object(a.d)(),o={observe:n.n,unobserve:n.n,disconnect:n.n};var r=new class{constructor(){if(!Object(a.f)()||!s.ResizeObserver)return o;this._callbacksMap=new Map,this._observer=new s.ResizeObserver(t=>{t.forEach(t=>{var e;null===(e=this._callbacksMap.get(t.target))||void 0===e||e(t)})})}observe(t,e){this._callbacksMap.set(t,e),this._observer.observe(t)}unobserve(t){this._callbacksMap.delete(t),this._observer.unobserve(t)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}};e.a=r},483:function(t,e,i){"use strict";var n=i(254),a=i(249),s=i(240),o=i(253),r=i(286),l=i(241),h=i(292),d=i(276),c=r.a.inherit({_getDefaultOptions(){return Object(l.a)(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),target:void 0,mode:"auto",validationErrors:void 0,preventScrollEvents:!1,positionSide:"top",boundary:void 0,offset:{h:0,v:0},contentId:void 0})},_init(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup(){this.callBase(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()},_updatePositionByTarget:function(){var{target:t}=this.option();this.option("position.of",t)},_ensureMessageNotEmpty:function(){this._textMarkup=this._getTextMarkup();var t=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(t)},_toggleVisibilityClasses:function(t){t?(this.$element().addClass("dx-invalid-message"),this.$wrapper().addClass("dx-invalid-message")):(this.$element().removeClass("dx-invalid-message"),this.$wrapper().removeClass("dx-invalid-message"))},_updateContentId(){var{container:t,contentId:e}=this.option(),i=null!=e?e:Object(s.a)(t).attr("aria-describedby");this.$content().addClass("dx-invalid-message-content").attr("id",i)},_renderInnerHtml(t){var e=t&&Object(s.a)(t);null==e||e.html(this._textMarkup)},_getTextMarkup(){var t,e=null!==(t=this.option("validationErrors"))&&void 0!==t?t:[],i="";return e.forEach(t=>{var e;i+=(i?"<br />":"")+Object(h.a)(null!==(e=null==t?void 0:t.message)&&void 0!==e?e:"")}),i},_toggleModeClass(){var t=this.option("mode");this.$wrapper().toggleClass("dx-invalid-message-auto","auto"===t).toggleClass("dx-invalid-message-always","always"===t)},updateMaxWidth(){var t=this.option("target"),e=Object(a.i)(t),i="100%";e&&(i=Math.max(e,100)),this.option({maxWidth:i})},_getPositionsArray:function(t,e){switch(t){case"top":return["".concat(e," bottom"),"".concat(e," top")];case"left":return["right","left"];case"right":return["left","right"];default:return["".concat(e," top"),"".concat(e," bottom")]}},_updatePosition:function(){var{positionSide:t,rtlEnabled:e,offset:i,boundary:a}=this.option(),s=Object(d.b)(e),o=this._getPositionsArray(t,s),r=Object(n.a)({},i);this.$element().addClass("dx-invalid-message-".concat(t)),e&&"left"!==t&&"right"!==t&&(r.h=-r.h),"top"===t&&(r.v=-r.v),"left"===t&&(r.h=-r.h),this.option("position",{offset:r,boundary:a,my:o[0],at:o[1],collision:"none flip"})},_optionChanged(t){var{name:e,value:i,previousValue:n}=t;switch(e){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),this.callBase(t);break;case"boundary":this.option("position.boundary",i);break;case"mode":this._toggleModeClass(i);break;case"rtlEnabled":case"offset":case"positionSide":this.$element().removeClass("dx-invalid-message-".concat(n)),this._updatePosition();break;case"container":this._updateContentId(),this.callBase(t);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:this.callBase(t)}}});Object(o.a)("dxValidationMessage",c),e.a=c},516:function(t,e,i){"use strict";var n=i(253),a=i(240),s=i(242),o=i(251),r=i(252),{ios:l,mac:h}=o.a.real(),d=l||h,c=function(t){var e;try{e={start:t.selectionStart,end:t.selectionEnd}}catch(t){e={start:0,end:0}}return e},u=function(t,e){var i=r.default.getBody();if(i.contains(t)||i.contains(t.getRootNode().host))try{t.selectionStart=e.start,t.selectionEnd=e.end}catch(t){}},_=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t=Object(a.a)(t).get(0),!Object(s.d)(e))return c(t);!i&&d&&r.default.getActiveElement(t)!==t||u(t,e)},p=i(244),f=i(248),g=i(246),v=i(241),b=i(293),m=i(250),C=i(243),O=i(292),y=i(451),x=i(260),k=x.a.inherit({ctor:function(t){this._value=" ",Object(v.a)(this,t)},next:function(t){if(!arguments.length)return this._next;this._next=t},text:C.n,value:C.n,rawValue:C.n,handle:C.n,_prepareHandlingArgs:function(t,e){var i,n,a;e=e||{};var s=Object.prototype.hasOwnProperty.call(t,"value")?"value":"text";return t[s]=null!==(i=e.str)&&void 0!==i?i:t[s],t.start=null!==(n=e.start)&&void 0!==n?n:t.start,t.length=null!==(a=e.length)&&void 0!==a?a:t.length,t.index=t.index+1,t},reset:C.n,clear:C.n,first:function(t){return t=t||0,this.next().first(t+1)},isAccepted:function(){return!1},adjustedCaret:function(t,e,i){return e?this._adjustedForward(t,0,i):this._adjustedBackward(t,0,i)},_adjustedForward:C.n,_adjustedBackward:C.n,isValid:C.n}),w=k.inherit({next:C.n,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),E=k.inherit({text:function(){return(" "!==this._value?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value")?t.value:t.text;if(!e||!e.length||!t.length)return 0;if(t.start)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start-1}));var i=e[0],n=e.substring(1);return this._tryAcceptChar(i,t),this._accepted()?this.next().handle(this._prepareHandlingArgs(t,{str:n,length:t.length-1}))+1:this.handle(this._prepareHandlingArgs(t,{str:n,length:t.length-1}))},clear:function(t){this._tryAcceptChar(" ",t),this.next().clear(this._prepareHandlingArgs(t))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(t,e){if(this._accepted(!1),this._isAllowed(t,e)){var i=" "===t?this.maskChar:t;e.fullText=e.fullText.substring(0,e.index)+i+e.fullText.substring(e.index+1),this._accepted(!0),this._value=t}},_accepted:function(t){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!t},first:function(t){return" "===this._value?t||0:this.callBase(t)},_isAllowed:function(t,e){return" "===t||this._isValid(t,e)},_isValid:function(t,e){var i=this.allowedChars;return i instanceof RegExp?i.test(t):Object(s.h)(i)?i(t,e.index,e.fullText):Array.isArray(i)?i.includes(t):i===t},isAccepted:function(t){return 0===t?this._accepted():this.next().isAccepted(t-1)},_adjustedForward:function(t,e,i){return e>=t?e:this.next()._adjustedForward(t,e+1,i)||e+1},_adjustedBackward:function(t,e){return e>=t-1?t:this.next()._adjustedBackward(t,e+1)||e+1},isValid:function(t){return this._isValid(this._value,t)&&this.next().isValid(this._prepareHandlingArgs(t))}}),M=E.inherit({value:function(){return this.next().value()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value"),i=e?t.value:t.text;if(!i.length||!t.length)return 0;if(t.start||e)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start&&t.start-1}));var n=i[0],a=i.substring(1);this._tryAcceptChar(n);var s=this._isAllowed(n)?this._prepareHandlingArgs(t,{str:a,length:t.length-1}):t;return this.next().handle(s)+1},clear:function(t){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(t))},_tryAcceptChar:function(t){this._accepted(this._isValid(t))},_isValid:function(t){return t===this.maskChar},first:function(t){return t=t||0,this.next().first(t+1)},_adjustedForward:function(t,e,i){return e>=t&&i===this.maskChar?e:t===e+1&&this._accepted()?t:this.next()._adjustedForward(t,e+1,i)},_adjustedBackward:function(t,e){return e>=t-1?0:this.next()._adjustedBackward(t,e+1)},isValid:function(t){return this.next().isValid(this._prepareHandlingArgs(t))}}),B=i(267),$=i(347),j=i(268),V=i(433),S=i(271),T=j.a.down;class A extends V.a{_create(){var t=Object(a.a)("<span>").addClass("dx-clear-button-area").append(Object(a.a)("<span>").addClass("dx-icon").addClass("dx-icon-clear"));return this._addToContainer(t),this.update(!0),{instance:t,$element:t}}_isVisible(){var{editor:t}=this;return t._isClearButtonVisible()}_attachEvents(t,e){var{editor:i}=this,n=i.NAME;g.a.on(e,Object(f.a)(T,n),t=>{t.preventDefault(),"mouse"!==t.pointerType&&i._clearValueHandler(t)}),g.a.on(e,Object(f.a)(S.a,n),t=>i._clearValueHandler(t))}_legacyRender(t,e){t.toggleClass("dx-show-clear-button",e)}update(){!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&super.update();var{editor:t,instance:e}=this,i=t.$element(),n=this._isVisible();e&&e.toggleClass("dx-state-invisible",!n),this._legacyRender(i,n)}}var P=i(282),H=i(359);class I extends V.a{_attachEvents(t,e){var{editor:i}=this;g.a.on(e,H.b,()=>{i.$element().addClass("dx-custom-button-hovered")}),g.a.on(e,H.a,()=>{i.$element().removeClass("dx-custom-button-hovered")}),g.a.on(e,S.a,t=>{t.stopPropagation()})}_create(){var{editor:t}=this,e=Object(a.a)("<div>");return this._addToContainer(e),{$element:e,instance:t._createComponent(e,P.default,Object(v.a)({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(t)}))}}_prepareIntegrationOptions(t){return Object(v.a)({},t.option("integrationOptions"),{skipTemplates:["content"]})}update(){var t=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),t}_isVisible(){var{editor:t}=this;return t.option("visible")}_isDisabled(){return void 0!==this.options.disabled?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}}var D=i(259);function W(t,e){if(-1!==t.indexOf(e))throw D.a.Error("E1055",e);t.push(e)}class R{constructor(t,e){this.buttons=[],this.defaultButtonsInfo=e,this.editor=t}_compileButtonInfo(t){var e=[];return t.map(t=>{var i,n="string"==typeof t;if(n||(i=t,(()=>{if(!i||"object"!=typeof i||Array.isArray(i))throw D.a.Error("E1053")})(),(()=>{if(!("name"in i))throw D.a.Error("E1054")})(),(()=>{var{name:t}=i;if("string"!=typeof t)throw D.a.Error("E1055")})(),(()=>{var{location:t}=i;"location"in i&&"after"!==t&&"before"!==t&&(i.location="after")})()),n||function(t,e){return!!e.find(e=>e.name===t)}(t.name,this.defaultButtonsInfo)){var a=this.defaultButtonsInfo.find(e=>{var{name:i}=e;return i===t||i===t.name});if(!a)throw D.a.Error("E1056",this.editor.NAME,t);return W(e,t),a}var{name:s}=t;return W(e,s),Object(v.a)(t,{Ctor:I})})}_createButton(t){var{Ctor:e,options:i,name:n}=t,a=new e(n,this.editor,i);return this.buttons.push(a),a}_renderButtons(t,e,i){var n=null;return(t?this._compileButtonInfo(t):this.defaultButtonsInfo).forEach(t=>{var{location:s="after"}=t;s===i&&this._createButton(t).render((n=n||Object(a.a)("<div>").addClass("dx-texteditor-buttons-container"),"before"===i?e.prepend(n):e.append(n),n))}),n}clean(){this.buttons.forEach(t=>t.dispose()),this.buttons=[]}getButton(t){var e=this.buttons.find(e=>{var{name:i}=e;return i===t});return e&&e.instance}renderAfterButtons(t,e){return this._renderButtons(t,e,"after")}renderBeforeButtons(t,e){return this._renderButtons(t,e,"before")}updateButtons(t){this.buttons.forEach(e=>{t&&-1===t.indexOf(e.name)||e.update()})}}var F=i(279),L=i(245),N=i(262),K=i(273);var z=i(249),G=i(454),U=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],q=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"],Z=class{constructor(t){var{$editor:e,text:i,mode:n,mark:a,containsButtonsBefore:s,containerWidth:o,beforeWidth:r}=t;this._props={$editor:e,text:i,mode:n,mark:a,containsButtonsBefore:s,containerWidth:o,beforeWidth:r},this._id="".concat("dx-texteditor-label","-").concat(new K.a),this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&"hidden"!==this._props.mode}_render(){this._$before=Object(a.a)("<div>").addClass("dx-label-before"),this._$labelSpan=Object(a.a)("<span>"),this._$label=Object(a.a)("<div>").addClass("dx-label").append(this._$labelSpan),this._$after=Object(a.a)("<div>").addClass("dx-label-after"),this._$root=Object(a.a)("<div>").addClass("dx-texteditor-label").attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){var t=this._isVisible();this._updateEditorBeforeButtonsClass(t),this._updateEditorLabelClass(t),t?this._$root.appendTo(this._props.$editor):this._$root.detach()}_updateEditorLabelClass(t){if(this._props.$editor.removeClass("dx-texteditor-with-floating-label").removeClass("dx-texteditor-with-label"),t){var e="floating"===this._props.mode?"dx-texteditor-with-floating-label":"dx-texteditor-with-label";this._props.$editor.addClass(e)}}_updateEditorBeforeButtonsClass(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible();if(this._props.$editor.removeClass("dx-texteditor-with-before-buttons"),t){var e=this._props.containsButtonsBefore?"dx-texteditor-with-before-buttons":"";this._props.$editor.addClass(e)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){this._$before.css({width:this._props.beforeWidth})}_updateMaxWidth(){this._$label.css({maxWidth:this._props.containerWidth})}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(t){this._props.mode=t,this._toggleMarkupVisibility()}updateText(t){this._props.text=t,this._updateText(),this._toggleMarkupVisibility()}updateMark(t){this._props.mark=t,this._updateMark()}updateContainsButtonsBefore(t){this._props.containsButtonsBefore=t,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(t){this._props.beforeWidth=t,this._updateBeforeWidth()}updateMaxWidth(t){this._props.containerWidth=t,this._updateMaxWidth()}};function Y(t){if(Object(s.d)(t)&&!Array.isArray(t))throw D.a.Error("E1053")}var X=$.a.inherit({ctor:function(t,e){e&&Y(e.buttons),this._buttonCollection=new R(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return Object(v.a)(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(t){return Object(s.d)(t)&&!1!==t?t:""},stylingMode:Object(F.a)().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=Object(B.a)();return Object(B.d)(t)},options:{stylingMode:Object(F.a)().editorStylingMode||"filled",labelMode:"floating"}}])},_getDefaultButtons:function(){return[{name:"clear",Ctor:A}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(".dx-texteditor-input").first()},_isFocused:function(){return Object(b.b)(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find(".dx-texteditor-buttons-container").eq(0)},_isControlKey:function(t){return-1!==q.indexOf(t)},_renderStylingMode:function(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup:function(){this.$element().addClass("dx-texteditor"),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue(),this._renderLabel()},_render:function(){this.callBase(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){this._$buttonsContainer=this._$textEditorContainer=Object(a.a)("<div>").addClass("dx-texteditor-container").appendTo(this.$element()),this._$textEditorInputContainer=Object(a.a)("<div>").addClass("dx-texteditor-input-container").appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass("dx-validation-pending");var t=this._getInputContainer(),e=Object(a.a)("<div>").addClass("dx-pending-indicator").appendTo(t);this._pendingIndicator=this._createComponent(e,N.a)},_disposePendingIndicator:function(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass("dx-validation-pending"))},_renderValidationState:function(){this.callBase();var t="pending"===this.option("validationStatus"),e=this.$element();t?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):("invalid"===this.option("validationStatus")&&(this._showValidMark=!1),this._showValidMark||!0!==this.option("showValidationMark")||(this._showValidMark="valid"===this.option("validationStatus")&&!!this._pendingIndicator),this._disposePendingIndicator()),e.toggleClass("dx-valid",!!this._showValidMark)},_renderButtonContainers:function(){var t=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(t,this._$buttonsContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(t,this._$buttonsContainer)},_cleanButtonContainers:function(){var t,e;null===(t=this._$beforeButtonsContainer)||void 0===t||t.remove(),null===(e=this._$afterButtonsContainer)||void 0===e||e.remove(),this._buttonCollection.clean()},_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this._$buttonsContainer=null,this.callBase()},_createInput:function(){var t=Object(a.a)("<input>");return this._applyInputAttributes(t,this.option("inputAttr")),t},_setSubmitElementName:function(t){var e=this.option("inputAttr.name");return this.callBase(t||e||"")},_applyInputAttributes:function(t,e){var i=Object(v.a)(this._getDefaultAttributes(),e);t.attr(i).addClass("dx-texteditor-input").css("minHeight",this.option("height")?"0":"")},_getDefaultAttributes:function(){var t={autocomplete:"off"},{ios:e,mac:i}=o.a.real();return(e||i)&&(t.placeholder=" "),t},_updateButtons:function(t){this._buttonCollection.updateButtons(t)},_updateButtonsStyling:function(t){Object(p.a)(this.option("buttons"),(e,i)=>{var{options:n,name:a}=i;if(n&&!n.stylingMode&&this.option("visible")){var s=this.getButton(a);s.option&&s.option("stylingMode","underlined"===t?"text":"contained")}})},_renderValue:function(){return this._renderInputValue().promise()},_renderInputValue:function(t){var e;t=null!==(e=t)&&void 0!==e?e:this.option("value");var i=this.option("text"),n=this.option("displayValue"),a=this.option("displayValueFormatter");return void 0!==n&&null!==t?i=a(n):Object(s.d)(i)||(i=a(t)),this.option("text",i),this._input().val()!==(Object(s.d)(i)?i:"")?this._renderDisplayText(i):this._toggleEmptinessEventHandler(),(new L.a).resolve()},_renderDisplayText:function(t){this._input().val(t),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var t=this._input().get(0).validity;if(t)return t.valid}return!0},_toggleEmptiness:function(t){this.$element().toggleClass("dx-texteditor-empty",t),this._togglePlaceholder(t)},_togglePlaceholder:function(t){this.$element().find(".".concat("dx-placeholder")).eq(0).toggleClass("dx-state-invisible",!t)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(t){this.callBase.apply(this,arguments);var e=this._input();e.prop("disabled",t)},_toggleTabIndex:function(){var t=this._input(),e=this.option("disabled"),i=this.option("focusStateEnabled");e||!i?t.attr("tabIndex",-1):t.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_unobserveLabelContainerResize:function(){this._labelContainerElement&&(G.a.unobserve(this._labelContainerElement),this._labelContainerElement=null)},_getLabelContainer:function(){return this._input()},_getLabelContainerWidth:function(){return Object(z.l)(this._getLabelContainer())},_getLabelBeforeWidth:function(){var t=this._$beforeButtonsContainer&&Object(z.l)(this._$beforeButtonsContainer);return null!=t?t:0},_updateLabelWidth:function(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())},_getFieldElement(){return this._getLabelContainer()},_setFieldAria(t){var e,i=[this._label.getId(),null===(e=this._$placeholder)||void 0===e?void 0:e.attr("id")].filter(Boolean).join(" ");if(i||t){var n={labelledby:i||void 0};this.setAria(n,this._getFieldElement())}},_renderLabel:function(){this._unobserveLabelContainerResize(),this._labelContainerElement=Object(a.a)(this._getLabelContainer()).get(0);var{label:t,labelMode:e,labelMark:i}=this.option(),n={$editor:this.$element(),text:t,mark:i,mode:e,containsButtonsBefore:!!this._$beforeButtonsContainer,containerWidth:this._getLabelContainerWidth(),beforeWidth:this._getLabelBeforeWidth()};this._label=new Z(n),this._setFieldAria(),this._labelContainerElement&&G.a.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var t=this._input(),e=this.option("placeholder"),i={id:e?"dx-".concat(new K.a):void 0,"data-dx_placeholder":e},n=this._$placeholder=Object(a.a)("<div>").attr(i);n.insertAfter(t),n.addClass("dx-placeholder")},_attachPlaceholderEvents:function(){var t=Object(f.a)(j.a.up,this.NAME);g.a.on(this._$placeholder,t,()=>{g.a.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||Object(a.a)()},_clearValueHandler:function(t){var e=this._input();t.stopPropagation(),this._saveValueChangeEvent(t),this._clearValue(),!this._isFocused()&&g.a.trigger(e,"focus"),g.a.trigger(e,"input")},_clearValue:function(){this.reset()},_renderEvents:function(){var t=this._input();Object(p.a)(U,(e,i)=>{if(this.hasActionSubscription("on"+i)){var n=this._createActionByOption("on"+i,{excludeValidators:["readOnly"]});g.a.on(t,Object(f.a)(i.toLowerCase(),this.NAME),t=>{this._disposed||n({event:t})})}})},_refreshEvents:function(){var t=this._input();Object(p.a)(U,(e,i)=>{g.a.off(t,Object(f.a)(i.toLowerCase(),this.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(t){var e=this._input(),i=t.ctrlKey&&"enter"===Object(f.n)(t),n=e.val()!==this.option("value");i&&n&&g.a.trigger(e,"change")},_getValueChangeEventOptionName:function(){return"valueChangeEvent"},_renderValueChangeEvent:function(){var t=Object(f.a)(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),e=Object(f.a)(this.option(this._getValueChangeEventOptionName()),"".concat(this.NAME,"ValueChange")),i=Object(f.a)("keydown","".concat(this.NAME,"TextChange")),n=this._input();g.a.on(n,t,this._keyPressHandler.bind(this)),g.a.on(n,e,this._valueChangeEventHandler.bind(this)),g.a.on(n,i,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var t=".".concat(this.NAME,"ValueChange"),e=".".concat(this.NAME,"TextChange");g.a.off(this._input(),t),g.a.off(this._input(),e)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_isInput:function(t){return t===this._input().get(0)},_preventNestedFocusEvent:function(t){if(t.isDefaultPrevented())return!0;var e=this._isNestedTarget(t.relatedTarget);return"focusin"===t.type?e=e&&this._isNestedTarget(t.target)&&!this._isInput(t.target):e||this._toggleFocusClass(!1,this.$element()),e&&t.preventDefault(),e},_isNestedTarget:function(t){return!!this.$element().find(t).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_focusOutHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_toggleFocusClass:function(t,e){this.callBase(t,this._focusClassTarget(e))},_hasFocusClass:function(t){return this.callBase(Object(a.a)(t||this.$element()))},_renderEmptinessEvent:function(){var t=this._input();g.a.on(t,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var t=this._input().val(),e=(""===t||null===t)&&this._isValueValid();this._toggleEmptiness(e)},_valueChangeEventHandler:function(t,e){this.option("readOnly")||(this._saveValueChangeEvent(t),this.option("value",arguments.length>1?e:this._input().val()),this._saveValueChangeEvent(void 0))},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),g.a.off(this._input(),"keyup.onEnterKey.dxTextEditor"),g.a.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(t){this._disposed||"enter"===Object(f.n)(t)&&this._enterKeyAction({event:t})},_updateValue:function(){this._options.silent("text",null),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_hasActiveElement:function(){return this._input().is(r.default.getActiveElement(this._input()[0]))},_optionChanged:function(t){var{name:e,fullName:i,value:n}=t,a=e.replace("on","");if(U.includes(a))this._refreshEvents();else switch(e){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(t),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder(),this._setFieldAria(!0);break;case"label":this._label.updateText(n),this._setFieldAria(!0);break;case"labelMark":this._label.updateMark(n);break;case"labelMode":this._label.updateMode(n),this._setFieldAria();break;case"width":this.callBase(t),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(t);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(t);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(e));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":i===e&&Y(n),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break;case"visible":this.callBase(t),n&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;case"showValidationMark":break;default:this.callBase(t)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(t){var e=this._input();"search"===t&&(t="text");try{e.prop("type",t)}catch(t){e.prop("type","text")}},getButton(t){return this._buttonCollection.getButton(t)},focus:function(){g.a.trigger(this._input(),"focus")},reset:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var t=this._getDefaultOptions();this.option("value")===t.value?(this._options.silent("text",""),this._renderValue()):this.option("value",t.value)},on:function(t,e){var i=this.callBase(t,e),n=t.charAt(0).toUpperCase()+t.substr(1);return U.indexOf(n)>=0&&this._refreshEvents(),i}}),J=i(274),Q=i(265),tt=["deleteContentBackward","deleteSoftLineBackward","deleteContent","deleteHardLineBackward"],et=["historyUndo","historyRedo"],it=["focusIn","focusOut","input","paste","cut","drop","beforeInput"];function nt(t){return" ".repeat(t)}class at{constructor(t){this.editor=t}_editorOption(){return this.editor.option(...arguments)}_editorInput(){return this.editor._input()}_editorCaret(t){if(!t)return this.editor._caret();this.editor._caret(t)}_attachChangeEventHandler(){if(this._editorOption("valueChangeEvent").split(" ").includes("change")){var t=this._editorInput(),e=Object(f.a)("blur beforedeactivate","dxMask");g.a.on(t,e,t=>{this.editor._changeHandler(t)})}}_beforeInputHandler(){this._previousText=this._editorOption("text"),this._prevCaret=this._editorCaret()}_inputHandler(t){var{originalEvent:e}=t;if(e){var{inputType:i}=e;if(et.includes(i))this._handleHistoryInputEvent();else if(tt.includes(i))this._handleBackwardDeleteInputEvent();else{var n=this._editorCaret();if(!n.end)return;this._clearSelectedText(),this._autoFillHandler(e),this._editorCaret(n),this._handleInsertTextInputEvent(e.data)}this._editorOption("text")===this._previousText&&t.stopImmediatePropagation()}}_handleHistoryInputEvent(){var t=this._editorCaret();this._updateEditorMask({start:t.start,length:t.end-t.start,text:""}),this._editorCaret(this._prevCaret)}_handleBackwardDeleteInputEvent(){this._clearSelectedText();var t=this._editorCaret();this.editor.setForwardDirection(),this.editor._adjustCaret(),this._editorCaret().start!==t.start&&(this.editor.setBackwardDirection(),this.editor._adjustCaret())}_clearSelectedText(){var t,e,i=(null===(t=this._prevCaret)||void 0===t?void 0:t.end)-(null===(e=this._prevCaret)||void 0===e?void 0:e.start)||1,n=this._editorCaret();this._isAutoFill()||(this.editor.setBackwardDirection(),this._updateEditorMask({start:n.start,length:i,text:nt(i)}))}_handleInsertTextInputEvent(t){var e,i,n=null!=t?t:"";this.editor.setForwardDirection(),this._updateEditorMask({start:null!==(e=null===(i=this._prevCaret)||void 0===i?void 0:i.start)&&void 0!==e?e:0,length:n.length||1,text:n})||this._editorCaret(this._prevCaret)}_updateEditorMask(t){var e=t.text.length,i=this.editor._handleChain(t);if(this.editor._displayMask(),this.editor.isForwardDirection()){var{start:n,end:a}=this._editorCaret(),s=i-e;i>1&&1===e&&this._editorCaret({start:n+s,end:a+s}),this.editor._adjustCaret()}return!!i}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor.setForwardDirection(),!this.editor._isValueEmpty()&&this._editorOption("isValid"))this.editor._adjustCaret();else{var t=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(()=>{this._editorCaret({start:t,end:t})},0)}}_focusOutHandler(t){this.editor._changeHandler(t),"onFocus"===this._editorOption("showMaskMode")&&this.editor._isValueEmpty()&&(this._editorOption("text",""),this.editor._renderDisplayText(""))}_delHandler(t){var{editor:e}=this;e._maskKeyHandler(t,()=>{e._hasSelection()||e._handleKey(" ")})}_cutHandler(t){var e=this._editorCaret(),i=this._editorInput().val().substring(e.start,e.end);this.editor._maskKeyHandler(t,()=>Object(Q.b)(t,i))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout(()=>{var t=this.editor._convertToValue(this._editorInput().val());this._editorOption("value",t)})}_pasteHandler(t){var{editor:e}=this;if(!this._editorOption("disabled")){var i=this._editorCaret();e._maskKeyHandler(t,()=>{var n=Object(Q.b)(t),a=e._maskRulesChain.text().substring(i.end),s=e._handleChain({text:n,start:i.start,length:n.length}),o=i.start+s;e._handleChain({text:a,start:o,length:a.length}),e._caret({start:o,end:o})})}}_autoFillHandler(t){var{editor:e}=this,i=this._editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._isAutoFill()&&(e._maskKeyHandler(t,()=>{e._handleChain({text:i,start:0,length:i.length})}),e._validateMask())})}_isAutoFill(){var t=this._editorInput();if(J.a.webkit){var e,i=t.get(0);return null!==(e=null==i?void 0:i.matches(":-webkit-autofill"))&&void 0!==e&&e}return!1}_clearDragTimer(){clearTimeout(this._dragTimer)}getHandler(t){return e=>{var i;null===(i=this["_".concat(t,"Handler")])||void 0===i||i.call(this,e)}}attachEvents(){var t=this._editorInput();it.forEach(e=>{var i=Object(f.a)(e.toLowerCase(),"dxMask");g.a.on(t,i,this.getHandler(e))}),this._attachChangeEventHandler()}detachEvents(){g.a.off(this._editorInput(),".".concat("dxMask"))}clean(){this._clearDragTimer(),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}}var st=function(){return{}},ot=_,rt={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(t){return ht(t)},l:function(t){return ht(t)||dt(t)},C:/\S/,c:/./,A:function(t){return ht(t)||lt(t)},a:function(t){return ht(t)||lt(t)||dt(t)}};function lt(t){return/[0-9]/.test(t)}function ht(t){var e=t.charCodeAt();return 64<e&&e<91||96<e&&e<123||e>127}function dt(t){return" "===t}var ct=X.inherit({_getDefaultOptions:function(){return Object(v.a)(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:m.a.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var t=this,e={del:t._maskStrategy.getHandler("del"),enter:t._changeHandler},i=t.callBase();return Object(p.a)(e,(function(e,n){var a=i[e];i[e]=function(e){t.option("mask")&&n.call(t,e),a&&a(e)}})),i},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=new at(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){if(this._onMouseWheel!==C.n){var t=this._input(),e=Object(f.a)(y.a,this.NAME),i=this._createAction(function(e){var{event:i}=e;Object(b.b)(t)&&!Object(f.i)(i)&&(this._onMouseWheel(i),i.preventDefault(),i.stopPropagation())}.bind(this));g.a.off(t,e),g.a.on(t,e,(function(t){i({event:t})}))}},_onMouseWheel:C.n,_useMaskBehavior(){return Boolean(this.option("mask"))},_attachDropEventHandler(){if(this._useMaskBehavior()){var t=Object(f.a)("drop",this.NAME),e=this._input();g.a.off(e,t),g.a.on(e,t,t=>t.preventDefault())}},_render:function(){this._renderMask(),this.callBase(),this._attachDropEventHandler(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=Object(a.a)("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass("dx-texteditor-masked"),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass("dx-texteditor-masked"),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_suppressCaretChanging:function(t,e){ot=st;try{t.apply(this,e)}finally{ot=_}},_changeHandler:function(t){var e=this._input(),i=e.val();if(i!==this._changedValue){this._changedValue=i;var n=Object(f.b)(t,{type:"change"});g.a.trigger(e,n)}},_parseMask:function(){this._maskRules=Object(v.a)({},rt,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(t){var e=this.option("mask");if(t>=e.length)return new w;var i=e[t],n="\\"===i,a=n?new M({maskChar:e[t+1]}):this._getMaskRule(i);return a.next(this._parseMaskRule(t+1+n)),a},_getMaskRule:function(t){var e;return Object(p.a)(this._maskRules,(function(i,n){if(i===t)return e={pattern:i,allowedChars:n},!1})),Object(s.d)(e)?new E(Object(v.a)({maskChar:this.option("maskChar")},e)):new M({maskChar:t})},_renderMaskedValue:function(){if(this._maskRulesChain){var t=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var e={length:t.length};e[this._isMaskedValueMode()?"text":"value"]=t,this._handleChain(e),this._displayMask()}},_replaceSelectedText:function(t,e,i){return void 0===i?t:t.slice(0,e.start)+i+t.slice(e.end)},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(t){t=t||this._caret(),this._renderValue(),this._caret(t)},_isValueEmpty:function(){return Object(O.c)(this._value)},_shouldShowMask:function(){return"onFocus"!==this.option("showMaskMode")||(Object(b.b)(this._input())||!this._isValueEmpty())},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var t=this._maskRulesChain.text();this.option("text",t),"onFocus"===this.option("showMaskMode")&&this._renderDisplayText(t)}},_renderValue:function(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){var t=this._maskRulesChain.value(),e=Object(O.c)(t)?"":this._getPreparedValue();this._$hiddenElement.val(e)}return this.callBase()},_getPreparedValue:function(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler:function(t){this._maskRulesChain?(this._saveValueChangeEvent(t),this.option("value",this._getPreparedValue())):this.callBase.apply(this,arguments)},_isControlKeyFired:function(t){return this._isControlKey(Object(f.n)(t))||Object(f.i)(t)},_handleChain:function(t){var e=this._maskRulesChain.handle(this._normalizeChainArguments(t));return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),e},_normalizeChainArguments:function(t){return(t=t||{}).index=0,t.fullText=this._maskRulesChain.text(),t},_convertToValue:function(t){return t=this._isMaskedValueMode()?this._replaceMaskCharWithEmpty(t||this._textValue||""):t||this._value||""},_replaceMaskCharWithEmpty:function(t){return t.replace(new RegExp(this.option("maskChar"),"g")," ")},_maskKeyHandler:function(t,e){if(!this.option("readOnly")){this.setForwardDirection(),t.preventDefault(),this._handleSelection();var i=this._input().val(),n=()=>{i!==this._input().val()&&g.a.trigger(this._input(),"input")},a=e();a?a.then(n):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),n())}},_handleKey:function(t,e){this._direction(e||"forward"),this._adjustCaret(t),this._handleKeyChain(t),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var t=this._caret(),e=new Array(t.end-t.start+1).join(" ");this._handleKeyChain(e)}},_handleKeyChain:function(t){var e=this._caret(),i=this.isForwardDirection()?e.start:e.start-1,n=this.isForwardDirection()?e.end:e.end-1,a=i===n?1:n-i;this._handleChain({text:t,start:i,length:a})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var t=this._caret().start;return this._adjustCaret(),!t||t!==this._caret().start},_adjustCaret:function(t){var e=this._caret().start,i=this.isForwardDirection(),n=this._maskRulesChain.adjustedCaret(e,i,t);this._caret({start:n,end:n})},_moveCaret:function(){var t=this._caret().start,e=t+(this.isForwardDirection()?0:-1),i=this._maskRulesChain.isAccepted(e)?t+(this.isForwardDirection()?1:-1):t;this._caret({start:i,end:i})},_caret:function(t,e){var i=this._input();if(i.length)return arguments.length?void ot(i,t,e):ot(i)},_hasSelection:function(){var t=this._caret();return t.start!==t.end},_direction:function(t){if(!arguments.length)return this._typingDirection;this._typingDirection=t},setForwardDirection:function(){this._direction("forward")},setBackwardDirection:function(){this._direction("backward")},isForwardDirection:function(){return"forward"===this._direction()},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var t=Object(O.c)(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:t,validationError:t?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(t){if(!t){var e=this.option("value");this.option({text:e,isValid:!0}),this.validationRequest.fire({value:e,editor:this}),this._renderValue()}},_optionChanged:function(t){switch(t.name){case"mask":this._updateMaskOption(),this._processEmptyMask(t.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(t),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(t)}}});Object(n.a)("dxTextEditor",ct);e.a=ct}}]);