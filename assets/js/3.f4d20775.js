(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{285:function(t,e,i){"use strict";i.d(e,"a",(function(){return p})),i.d(e,"h",(function(){return m})),i.d(e,"i",(function(){return g})),i.d(e,"c",(function(){return v})),i.d(e,"b",(function(){return b})),i.d(e,"j",(function(){return y})),i.d(e,"d",(function(){return I})),i.d(e,"g",(function(){return S})),i.d(e,"f",(function(){return O})),i.d(e,"e",(function(){return x})),i.d(e,"m",(function(){return C})),i.d(e,"k",(function(){return j})),i.d(e,"l",(function(){return E}));var n,s,r,a,o=i(242),l=i(252),c=i(288),h=i(247),d=i(244),u=i(245),_=i(243),f=c.a.add,p="DEVEXTREME_XHR_ERROR_UNLOAD",m=function(t){return[t[0],t.length<3?"=":String(t[1]).toLowerCase(),t.length<2||t[t.length-1]]},g=function(t){return Array.isArray(t)||(t=[t]),Object(d.b)(t,(function(t){var e={selector:Object(o.h)(t)||"string"==typeof t?t:t.getter||t.field||t.selector,desc:!(!t.desc&&"d"!==String(t.dir).charAt(0).toLowerCase())};return t.compare&&(e.compare=t.compare),e}))},v=(s={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},f((function(){var t=Object(h.d)();l.default.listen(t,"beforeunload",(function(){n=!0}))})),function(t,e){return n?p:t.status<400?function(t){var e=s[t];return e||t}(e):t.statusText}),b={count:{seed:0,step:function(t){return 1+t}},sum:{seed:0,step:function(t,e){return t+e}},min:{step:function(t,e){return e<t?e:t}},max:{step:function(t,e){return e>t?e:t}},avg:{seed:[0,0],step:function(t,e){return[t[0]+e,t[1]+1]},finalize:function(t){return t[1]?t[0]/t[1]:NaN}}},y=(a=0,{obtain:function(){0===a&&(r=new u.a),a++},release:function(){--a<1&&r.resolve()},promise:function(){return(0===a?(new u.a).resolve():r).promise()},reset:function(){a=0,r&&r.resolve()}});function I(t){return/^(and|&&|&)$/i.test(t)}var S=function(t,e,i){if(Array.isArray(t)){for(var n,s=Object(d.b)(e,(function(t,e){return e})),r=0;r<s.length;r++)if(n=s[r],!Object(_.h)(e[n],i[n],{strict:!1}))return!1;return!0}return Object(_.h)(e,i,{strict:!1})};var O=function(t){return"!"===t[0]&&Array.isArray(t[1])},x=function(t){var e,i=t[0],n=t[1];return!!Array.isArray(i)||!(!Object(o.h)(i)||!Array.isArray(n)&&!Object(o.h)(n)&&"and"!==(e=n)&&"or"!==e)},C=function(){var t=new u.a;return t.resolve.apply(t,arguments).promise()},j=function(){var t=new u.a;return t.reject.apply(t,arguments).promise()};function E(t,e){var i=[],n=function(t,e){var i;return function(){return i||(i=setTimeout(()=>{i=void 0,t.call(this)},Object(o.h)(e)?e():e)),i}}((function(){t.call(this,i),i=[]}),e);return function(t){return Array.isArray(t)&&i.push(...t),n.call(this,i)}}},299:function(t,e,i){"use strict";var n=i(522);e.a=n.a},304:function(t,e,i){"use strict";var n=i(249),s=i(240),r=i(246),a=i(248),o=i(243),l=i(244),c=i(251),h=i(260),d=i(501),u=h.a.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=Object(s.a)(t.container()),this._$content=t.$content(),this._direction=t.option("direction"),this._useSimulatedScrollbar=t.option("useSimulatedScrollbar"),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t),this._isRtlNativeStrategy=t._isRtlNativeStrategy.bind(t)},render:function(){var t=c.a.real().platform;this._$element.addClass("dx-scrollable-native").addClass("dx-scrollable-native-"+t).toggleClass("dx-scrollable-scrollbars-hidden",!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition:function(t){t&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass("dx-scrollable-scrollbar-simulated"),this._renderScrollbar("vertical"),this._renderScrollbar("horizontal")},_renderScrollbar:function(t){this._isDirection(t)&&(this._scrollbars[t]=new d.a(Object(s.a)("<div>").appendTo(this._$element),{direction:t,expandable:this._component.option("scrollByThumb")}))},handleInit:o.n,handleStart:o.n,handleMove:function(t){this._isLocked()?t.cancel=!0:this._allowedDirection()&&(t.originalEvent.isScrollingEvent=!0)},handleEnd:o.n,handleCancel:o.n,handleStop:o.n,_eachScrollbar:function(t){t=t.bind(this),Object(l.a)(this._scrollbars||{},(function(e,i){t(i,e)}))},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var{left:t,top:e}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-t):this._isReachedLeft(t),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(t)):this._isReachedRight(t),reachedTop:this._isDirection("vertical")?Math.round(e)>=0:void 0,reachedBottom:this._isDirection("vertical")?Math.round(Math.abs(e)-this._getMaxOffset().top)>=0:void 0}},_getScrollOffset:function(){var{top:t,left:e}=this.location();return{top:-t,left:this._normalizeOffsetLeft(-e)}},_normalizeOffsetLeft(t){return this._isRtlNativeStrategy()?this._getMaxOffset().left+t:t},_isReachedLeft:function(t){return this._isDirection("horizontal")?Math.round(t)>=0:void 0},_isReachedRight:function(t){return this._isDirection("horizontal")?Math.round(Math.abs(t)-this._getMaxOffset().left)>=0:void 0},_isScrollbarVisible:function(){var{showScrollbar:t}=this.option();return"never"!==t&&!1!==t},handleScroll:function(t){this._eventForUserAction=t,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars:function(){var{top:t,left:e}=this._getScrollOffset();this._eachScrollbar((function(i){i.moveTo({top:-t,left:-e}),i.option("visible",!0)})),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(function(){this._eachScrollbar((function(t){t.option("visible",!1)}))}.bind(this),500)},location:function(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:o.n,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:Object(n.d)(this._$container),width:Object(n.l)(this._$container)},this._componentContentSize={height:Object(n.d)(this._component.$content()),width:Object(n.l)(this._component.$content())},this._contentSize={height:Object(n.d)(this._$content),width:Object(n.l)(this._$content)}},_updateScrollbars:function(){this._eachScrollbar((function(t,e){var i="vertical"===e?"height":"width";t.option({containerSize:this._containerSize[i],contentSize:this._componentContentSize[i]}),t.update()}))},_allowedDirections:function(){return{vertical:this._isDirection("vertical")&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection("horizontal")&&this._contentSize.width>this._containerSize.width}},dispose:function(){var t=this._$element.get(0).className,e=new RegExp("dx-scrollable-native\\S*","g");e.test(t)&&this._$element.removeClass(t.match(e).join(" ")),r.a.off(this._$element,".dxNativeScrollable"),r.a.off(this._$container,".dxNativeScrollable"),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar((function(t){t.$element().remove()}))},scrollBy:function(t){var e=this.location();this._$container.scrollTop(Math.round(-e.top-t.top)),this._$container.scrollLeft(Math.round(-e.left-t.left))},validate:function(t){return!this.option("disabled")&&((!Object(a.j)(t)||!this._isScrolledInMaxDirection(t))&&!!this._allowedDirection())},_isScrolledInMaxDirection(t){var e=this._$container.get(0);return t.delta>0?t.shiftKey?!e.scrollLeft:!e.scrollTop:t.shiftKey?e.scrollLeft>=this._getMaxOffset().left:e.scrollTop>=this._getMaxOffset().top},getDirection:function(){return this._allowedDirection()}});e.a=u},322:function(t,e,i){"use strict";var n=i(439),s={},r=i(330),a=i(244),o=i(242),l=i(245),c=function t(e,i,c){c=c||[],i=i||{};var h=function(t,e){return{name:t,args:e}},d=function(t){var d,u,_,f,p,m,g,v=new l.a,b=function(t){var e=i.errorHandler;e&&e(t),Object(r.b)(t),v.reject(t)};function y(t){switch(t.name){case"sortBy":return p=[t.args],!0;case"thenBy":if(!p)throw r.a.Error("E4004");return p.push(t.args),!0}return!1}try{d=i.adapter,Object(o.h)(d)||(d=s[d]),u=d(i),_=[].concat(c).concat(t);var I=u.optimize;for(I&&I(_);_.length;){if(!y(f=_[0])){if(p){_.unshift(h("multiSort",[p])),p=null;continue}if("enumerate"!==String(f.name)&&(!u[f.name]||!1===u[f.name].apply(u,f.args)))break}_.shift()}m=_[0],g=[],m&&"multiSort"===m.name&&(_.shift(),Object(a.a)(m.args[0],(function(){g.push(h(g.length?"thenBy":"sortBy",this))}))),_=g.concat(_),u.exec(e).done((function(t,e){if(_.length){var s=Object(n.a)(t,{errorHandler:i.errorHandler});Object(a.a)(_,(function(){s=s[this.name].apply(s,this.args)})),s.done(v.resolve).fail(v.reject)}else v.resolve(t,e)})).fail(b)}catch(t){b(t)}return v.promise()},u={};return Object(a.a)(["sortBy","thenBy","filter","slice","select","groupBy"],(function(){var n=String(this);u[n]=function(){return t(e,i,c.concat(h(n,arguments)))}})),Object(a.a)(["count","min","max","sum","avg","aggregate","enumerate"],(function(){var t=String(this);u[t]=function(){return d.call(this,h(t,arguments))}})),u},h={array:n.a,remote:c};e.a=function(){var t=Array.isArray(arguments[0])?"array":"remote";return h[t].apply(this,arguments)}},330:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o}));var n=i(464),s=i(269),r=Object(n.a)(s.a.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),a=null,o=function(t){var e;null===(e=a)||void 0===e||e(t)}},341:function(t,e,i){"use strict";i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return _})),i.d(e,"f",(function(){return m})),i.d(e,"d",(function(){return g})),i.d(e,"e",(function(){return v})),i.d(e,"c",(function(){return b}));var n=i(254),s=i(242),r=i(279),a=i(273),o=i(241),l=i(330),c=i(404),h=(i(263),i(285));function d(t,e,i,n){return n?function t(e,i,n,s){var r;if(s){for(var a=0;a<i.length;a++)if(r=t(e,i[a].items||i[a].collapsedItems||[]||[],n,s-1))return r}else if(b(e,i,n)>=0)return i}(t,e,i,n)||[]:e}function u(t,e,i){t._dataByKeyMap&&(t._dataByKeyMap[JSON.stringify(e)]=i,t._dataByKeyMapLength+=i?1:-1)}function _(t,e){var i=function t(e,i,r){r=r||new WeakMap;var a=e?Object.create(Object.getPrototypeOf(e)):{};e&&r.set(e,a);var o=Object(n.a)({},e);for(var l in Object(c.a)(a,o,!0,!0),o){var h=o[l],d=null==i?void 0:i[l];Object(s.j)(h)&&!Object(s.k)(h)&&Object(s.j)(d)&&!r.has(h)&&(a[l]=t(h,d,r))}for(var u in a){var _=a[u];Object(s.j)(_)&&r.has(_)&&(a[u]=r.get(_))}return a}(t,e);return Object(c.a)(i,e,!0,!0)}function f(t){var{keyInfo:e,data:i,changes:n,groupCount:r,useInsertIndex:a,immutable:o,disableCache:l,logError:c,skipCopying:h}=t,u=!0===o?[...i]:i;return n.forEach(t=>{var i="insert"===t.type?u:d(e,u,t.key,r);switch(!l&&function(t,e){if(t.key()&&(!e._dataByKeyMap||e._dataByKeyMapLength!==e.length)){for(var i={},n=e.length,s=0;s<n;s++)i[JSON.stringify(t.keyOf(e[s]))]=e[s];e._dataByKeyMap=i,e._dataByKeyMapLength=n}}(e,i),t.type){case"update":m(e,i,t.key,t.data,!0,o,c);break;case"insert":g(e,i,t.data,a&&Object(s.d)(t.index)?t.index:-1,!0,c,h);break;case"remove":v(e,i,t.key,!0,c)}}),u}function p(t,e,i){return t?e&&l.a.log(i):Object(h.k)(l.a.Error(i))}function m(t,e,i,n,a,o,l){var d,u=t.key();if(u){if(function(t,e){for(var i="string"==typeof e?e.split():e.slice();i.length;)if(i.shift()in t)return!0;return!1}(n,u)&&!Object(h.g)(u,i,t.keyOf(n)))return p(a,l,"E4017");if(!(d=function(t,e){if(t._dataByKeyMap)return t._dataByKeyMap[JSON.stringify(e)]}(e,i))){var f=b(t,e,i);if(f<0)return p(a,l,"E4009");if(d=e[f],!0===o&&Object(s.d)(d)){var m=_(d,n);return e[f]=m,!a&&Object(h.m)(m,i)}}}else d=i;if(Object(c.a)(d,n,!0),!a)return Object(r.a)().useLegacyStoreResult?Object(h.m)(i,n):Object(h.m)(d,i)}function g(t,e,i,n,c,d,_){var f,m=t.key(),g=Object(s.k)(i)&&!_?Object(o.a)({},i):i;if(m){if(void 0===(f=t.keyOf(g))||"object"==typeof f&&Object(s.e)(f)){if(Array.isArray(m))throw l.a.Error("E4007");f=g[m]=String(new a.a)}else if(void 0!==e[b(t,e,f)])return p(c,d,"E4008")}else f=g;if(n>=0?e.splice(n,0,g):e.push(g),u(e,f,g),!c)return Object(h.m)(Object(r.a)().useLegacyStoreResult?i:g,f)}function v(t,e,i,n,s){var r=b(t,e,i);return r>-1&&(e.splice(r,1),u(e,i,null)),n?r<0?p(n,s,"E4009"):void 0:Object(h.m)(i)}function b(t,e,i){var n=t.key();if(!function(t,e){return!t._dataByKeyMap||t._dataByKeyMap[JSON.stringify(e)]}(e,i))return-1;for(var s=0,r=e.length;s<r;s++)if(Object(h.g)(n,t.keyOf(e[s]),i))return s;return-1}},352:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i(254),s=i(260),r=i(241),a=i(243),o=i(244),l=i(242),c=i(285),h=i(341),d=i(457),u=i(422),_=i(330),f=i(269),p=i(245);function m(t){var e=[],i=!1;function n(){for(;e.length;){i=!0;var t=e.shift()();if(void 0!==t){if(t.then)return void Object(p.c)(t).always(n);throw f.a.Error("E0015")}}i=!1}return{add:function(s,r){t?(e[0]&&r&&r(e[0]),e=[s]):e.push(s),i||n()},busy:function(){return i}}}m().add;var g=i(353);class v{constructor(){this._counter=-1,this._deferreds={}}add(t){return this._counter++,this._deferreds[this._counter]=t,this._counter}remove(t){return delete this._deferreds[t]}cancel(t){return t in this._deferreds&&(this._deferreds[t].reject(g.a),!0)}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}var b=s.a.inherit({ctor(t){var e;if(t=Object(g.d)(t),this._eventsStrategy=new u.a(this,{syncStrategy:!0}),this._store=t.store,this._changedTime=0,0!==t.pushAggregationTimeout){var i,n,s=void 0===t.pushAggregationTimeout?()=>5*this._changedTime:t.pushAggregationTimeout,r=Object(c.l)(t=>{i.resolve(),Object(p.c)(...n).done(()=>this._onPush(t)),n=void 0,i=void 0},s);this._onPushHandler=t=>{this._aggregationTimeoutId=r(t.changes),i||(i=new p.a),n=t.waitFor,t.waitFor.push(i.promise())},this._store.on("beforePushAggregation",this._onPushHandler)}else this._onPushHandler=t=>this._onPush(t),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(t),this._mapFunc=t.map,this._postProcessFunc=t.postProcess,this._pageIndex=void 0!==t.pageIndex?t.pageIndex:0,this._pageSize=void 0!==t.pageSize?t.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in t?t.searchValue:null,this._searchOperation=t.searchOperation||"contains",this._searchExpr=t.searchExpr,this._paginate=t.paginate,this._reshapeOnPush=null!==(e=t.reshapeOnPush)&&void 0!==e&&e,Object(o.a)(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(e,i)=>{i in t&&this.on(i.substr(2,1).toLowerCase()+i.substr(3),t[i])}),this._operationManager=new v,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,Object(l.d)(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var t;this._store.off("beforePushAggregation",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),null===(t=this._delayedLoadTask)||void 0===t||t.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(t){var e={},i=["sort","filter","langParams","select","group","requireTotalCount"],n=this._store._customLoadOptions();return n&&(i=i.concat(n)),Object(o.a)(i,(function(){e[this]=t[this]})),e},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(t){if(!Object(l.i)(t))return this._pageIndex;this._pageIndex=t,this._isLastPage=!this._paginate},paginate(t){if(!Object(l.a)(t))return this._paginate;this._paginate!==t&&(this._paginate=t,this.pageIndex(0))},pageSize(t){if(!Object(l.i)(t))return this._pageSize;this._pageSize=t},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(t){return e=>{var i=Object(g.f)(e);if(void 0===i)return this._storeLoadOptions[t];this._storeLoadOptions[t]=i}},sort(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.generateStoreLoadOptionAccessor("sort")(e)},filter(){var t=Object(g.f)(arguments);if(void 0===t)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=t,this.pageIndex(0)},group(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.generateStoreLoadOptionAccessor("group")(e)},select(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.generateStoreLoadOptionAccessor("select")(e)},requireTotalCount(t){if(!Object(l.a)(t))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=t},searchValue(t){if(arguments.length<1)return this._searchValue;this._searchValue=t,this.pageIndex(0)},searchOperation(t){if(!Object(l.o)(t))return this._searchOperation;this._searchOperation=t,this.pageIndex(0)},searchExpr(t){var e=arguments.length;if(0===e)return this._searchExpr;e>1&&(t=[].slice.call(arguments)),this._searchExpr=t,this.pageIndex(0)},store(){return this._store},key(){var t;return null===(t=this._store)||void 0===t?void 0:t.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>m(),_changeLoadingCount(t){var e=this.isLoading();this._loadingCount+=t;var i=this.isLoading();e^i&&this._eventsStrategy.fireEvent("loadingChanged",[i])},_scheduleLoadCallbacks(t){this.beginLoading(),t.always(()=>{this.endLoading()})},_scheduleFailCallbacks(t){var e=this;t.fail((function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];i[0]!==g.a&&e._eventsStrategy.fireEvent("loadError",i)}))},_fireChanged(t){var e=new Date;this._eventsStrategy.fireEvent("changed",t),this._changedTime=new Date-e},_scheduleChangedCallbacks(t){t.done(()=>this._fireChanged())},loadSingle(t,e){var i=new p.a,n=this.key(),s=this._store,r=this._createStoreLoadOptions();return this._scheduleFailCallbacks(i),arguments.length<2&&(e=t,t=n),delete r.skip,delete r.group,delete r.refresh,delete r.pageIndex,delete r.searchString,(t===n||s instanceof d.a&&!s._byKeyViaLoad()?s.byKey(e,r):(r.take=1,r.filter=r.filter?[r.filter,[t,e]]:[t,e],s.load(r))).fail(i.reject).done(t=>{var e=Array.isArray(t)&&!t.length;!Object(l.d)(t)||e?i.reject(new _.a.Error("E4009")):(Array.isArray(t)||(t=[t]),i.resolve(this._applyMapFunction(t)[0]))}),i.promise()},load(){var t=new p.a,e=()=>{if(!this._disposed&&Object(g.b)(t))return this._loadFromStore(i,t)};this._scheduleLoadCallbacks(t),this._scheduleFailCallbacks(t),this._scheduleChangedCallbacks(t);var i=this._createLoadOperation(t);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[i]),this._loadQueue.add(()=>("number"==typeof i.delay?this._delayedLoadTask=Object(a.j)(e,i.delay):e(),t.promise())),t.promise({operationId:i.operationId})},_onPush(t){if(this._reshapeOnPush)this.load();else{var e={changes:t};this._eventsStrategy.fireEvent("changing",[e]);var i=this.group(),n=this.items(),s=0,r=this.paginate()||i?t.filter(t=>"update"===t.type):t;i&&(s=Array.isArray(i)?i.length:1),this._mapFunc&&r.forEach(t=>{"insert"===t.type&&(t.data=this._mapFunc(t.data))}),e.postProcessChanges&&(r=e.postProcessChanges(r)),Object(h.a)({keyInfo:this.store(),data:n,changes:r,groupCount:s,useInsertIndex:!0}),this._fireChanged([{changes:t}])}},_createLoadOperation(t){var e=this._operationManager.add(t),i=this._createStoreLoadOptions();return this._store&&!Object(l.e)(null==i?void 0:i.langParams)&&(this._store._langParams=Object(n.a)({},this._store._langParams,i.langParams)),t.always(()=>this._operationManager.remove(e)),{operationId:e,storeLoadOptions:i}},reload(){return this.store()._clearCache(),this._init(),this.load()},cancel(t){return this._operationManager.cancel(t)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(t){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(t):(t.searchOperation=this._searchOperation,t.searchValue=this._searchValue,t.searchExpr=this._searchExpr))},_createStoreLoadOptions(){var t=Object(r.a)({},this._storeLoadOptions);return this._addSearchOptions(t),this._paginate&&this._pageSize&&(t.skip=this._pageIndex*this._pageSize,t.take=this._pageSize),t.userData=this._userData,t},_addSearchFilter(t){var e=this._searchValue,i=this._searchOperation,n=this._searchExpr,s=[];e&&(n||(n="this"),Array.isArray(n)||(n=[n]),Object(o.a)(n,(function(t,n){s.length&&s.push("or"),s.push([n,i,e])})),t.filter?t.filter=[s,t.filter]:t.filter=s)},_loadFromStore(t,e){var i=(i,n)=>{if(!this._disposed&&Object(g.b)(e)){var s=Object(r.a)(Object(g.e)(i,n),t);this._eventsStrategy.fireEvent("customizeLoadResult",[s]),Object(p.c)(s.data).done(t=>{s.data=t,this._processStoreLoadResult(s,e)}).fail(e.reject)}};return t.data?(new p.a).resolve(t.data).done(i):this.store().load(t.storeLoadOptions).done(i).fail(e.reject)},_processStoreLoadResult(t,e){var i=t.data,n=t.extra,s=t.storeLoadOptions,r=()=>(this._isLoaded=!0,this._totalCount=isFinite(n.totalCount)?n.totalCount:-1,e.resolve(i,n));this._disposed||(i=this._applyPostProcessFunction(this._applyMapFunction(i)),Object(l.j)(n)||(n={}),this._items=i,(!i.length||!this._paginate||this._pageSize&&i.length<this._pageSize)&&(this._isLastPage=!0),s.requireTotalCount&&!isFinite(n.totalCount)?(()=>{this.store().totalCount(s).done((function(t){n.totalCount=t,r()})).fail(e.reject)})():r())},_applyMapFunction(t){return this._mapFunc?Object(g.c)(t,this._mapFunc,this.group()):t},_applyPostProcessFunction(t){return this._postProcessFunc?this._postProcessFunc(t):t},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}})},353:function(t,e,i){"use strict";i.d(e,"a",(function(){return w})),i.d(e,"b",(function(){return B})),i.d(e,"f",(function(){return T})),i.d(e,"c",(function(){return k})),i.d(e,"e",(function(){return F})),i.d(e,"d",(function(){return L}));var n=i(254),s=i(270),r=i(245),a=i(252),o=i(247),l=i(295),c=Object(o.d)(),h={getXhr:function(){return new c.XMLHttpRequest}},d=Object(l.a)(h),u=i(241),_=i(242),f=Object(o.d)(),p=function(t){var e=a.default.createElement("script");for(var i in t)e[i]=t[i];return e},m=function(t){t.parentNode.removeChild(t)},g=function(t){return a.default.getHead().appendChild(t)},v=function(t){var e=p({text:t});g(e),m(e)},b=function(t,e){var i=t.data,n="string"==typeof i,s=t.url||f.location.href;return n||t.cache||((i=i||{})._=Date.now()),i&&!t.upload&&(n||(i=function(t){var e=[];for(var i in t){var n=t[i];void 0!==n&&(null===n&&(n=""),"function"==typeof n&&(n=n()),e.push(encodeURIComponent(i)+"="+encodeURIComponent(n)))}return e.join("&")}(i)),"GET"===y(t)?(""!==i&&(s+=(s.indexOf("?")>-1?"&":"?")+i),i=null):e["Content-Type"]&&e["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(i=i.replace(/%20/g,"+"))),{url:s,parameters:i}};function y(t){return(t.method||"GET").toUpperCase()}var I=function(t){var e=t.headers||{};return e["Content-Type"]=e["Content-Type"]||function(t){var e;return t.data&&!t.upload&&"GET"!==y(t)&&(e="application/x-www-form-urlencoded;charset=utf-8"),t.contentType||e}(t),e.Accept=e.Accept||function(t){var e=t.dataType||"*",i="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",n={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:i,script:i};return Object(u.b)(n,t.accepts,!0),n[e]?n[e]+("*"!==e?", */*; q=0.01":""):n["*"]}(t),t.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e},S=Object(l.a)({sendRequest:function(t){var e,i=d.getXhr(),n=new r.a,s=n.promise(),l=!Object(_.d)(t.async)||t.async,c=t.dataType,h=t.timeout||0;t.crossDomain=function(t){if(!Object(o.f)())return!0;var e=!1,i=a.default.createElement("a"),n=a.default.createElement("a");i.href=f.location.href;try{n.href=t,n.href=n.href,e=i.protocol+"//"+i.host!=n.protocol+"//"+n.host}catch(t){e=!0}return e}(t.url);var u="jsonp"===c||"script"===c;void 0===t.cache&&(t.cache=!u);var S=function(t){if("jsonp"===t.dataType){var e=Math.random().toString().replace(/\D/g,""),i=t.jsonpCallback||"dxCallback"+Date.now()+"_"+e,n=t.jsonp||"callback";return t.data=t.data||{},t.data[n]=i,i}}(t),O=I(t),x=b(t,O),C=x.url,j=x.parameters;if(S&&(f[S]=function(t){n.resolve(t,"success",i)}),t.crossDomain&&u)return function(t){var e=p({src:t});return new Promise((function(t,i){var n={load:t,error:i},s=function(t){n[t.type](),m(e)};for(var r in n)a.default.listen(e,r,s);g(e)}))}(C).then((function(){"jsonp"!==c&&n.resolve(null,"success",i)}),(function(){n.reject(i,"error")})),s;if(t.crossDomain&&!("withCredentials"in i))return n.reject(i,"error"),s;if(i.open(y(t),C,l,t.username,t.password),l&&(i.timeout=h,e=function(t,e){return t&&setTimeout((function(){e.customStatus="timeout",e.abort()}),t)}(h,i)),i.onreadystatechange=function(t){var s;4===i.readyState&&(clearTimeout(e),200<=(s=i.status)&&s<300?function(t){return 204!==t}(i.status)?function(t,e,i){var n=function(t){return t.responseType&&"text"!==t.responseType||"string"!=typeof t.responseText?t.response:t.responseText}(e);switch(i){case"jsonp":v(n);break;case"script":v(n),t.resolve(n,"success",e);break;case"json":try{t.resolve(JSON.parse(n),"success",e)}catch(i){t.reject(e,"parsererror",i)}break;default:t.resolve(n,"success",e)}}(n,i,c):n.resolve(null,"nocontent",i):n.reject(i,i.customStatus||"error"))},t.upload&&(i.upload.onprogress=t.upload.onprogress,i.upload.onloadstart=t.upload.onloadstart,i.upload.onabort=t.upload.onabort),t.xhrFields)for(var E in t.xhrFields)i[E]=t.xhrFields[E];for(var D in"arraybuffer"===t.responseType&&(i.responseType=t.responseType),O)Object.prototype.hasOwnProperty.call(O,D)&&Object(_.d)(O[D])&&i.setRequestHeader(D,O[D]);return t.beforeSend&&t.beforeSend(i),i.send(j),s.abort=function(){i.abort()},s}}),O=i(438),x=i(424),C=i(244),j=i(457),E=i(285),D=["items"],w="canceled",B=t=>"pending"===t.state(),T=t=>{switch(t.length){case 0:return;case 1:return t[0]}return[].slice.call(t)},A=(t,e,i)=>Array.isArray(t)?e?((t,e,i)=>Object(C.b)(t,t=>{var r=Object(s.a)(t,D);return Object(n.a)({},r,{items:A(t.items,e-1,i)})}))(t,e,i):Object(C.b)(t,i):t,k=(t,e,i)=>{var n=i?Object(E.i)(i).length:0;return A(t,n,e)},F=(t,e)=>{var i;return null!==(i=t)&&void 0!==i&&i.data&&(e=t,t=t.data),Array.isArray(t)||(t=[t]),{data:t,extra:e}},H=t=>{var e={};return Object(C.a)(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],(function(){e[this]=t[this],delete t[this]})),new j.a(e)},R=(t,e)=>new j.a({load:()=>S.sendRequest({url:t,dataType:"json"}),loadMode:null==e?void 0:e.fromUrlLoadMode}),L=(t,e)=>{var i,n,s;return"string"==typeof t&&(t={paginate:!1,store:R(t,e)}),void 0===t&&(t=[]),void 0===(t=Array.isArray(t)||t instanceof O.a?{store:t}:Object(u.a)({},t)).store&&(t.store=[]),i=t.store,"load"in t?i=H(t):Array.isArray(i)?i=new x.a(i):Object(_.k)(i)&&(n=Object(u.a)({},i),s=n.type,delete n.type,i=O.a.create(s,n)),t.store=i,t}},361:function(t,e,i){"use strict";var n=i(243),s=i(241),r=i(244),a=i(439),o=i(285);function l(t,e){return t=t.groupBy(e[0].selector),e.length>1&&(t=t.select((function(t){return Object(s.a)({},t,{items:l(Object(a.a)(t.items),e.slice(1)).toArray()})}))),t}function c(t,e){var i=[];return Object(r.a)(t,(function(t,s){Object(n.m)(e,(function(t){return s.selector===t.selector})).length<1&&i.push(s)})),i.concat(e)}e.a={multiLevelGroup:l,arrangeSortingInfo:c,queryByOptions:function(t,e,i){var n,s,a,h=(e=e||{}).filter;if(null!==(n=e)&&void 0!==n&&n.langParams&&(null===(s=(a=t).setLangParams)||void 0===s||s.call(a,e.langParams)),h&&(t=t.filter(h)),i)return t;var d=e.sort,u=e.select,_=e.group,f=e.skip,p=e.take;return _&&((_=Object(o.i)(_)).keepInitialKeyOrder=!!e.group.keepInitialKeyOrder),(d||_)&&(d=Object(o.i)(d||[]),_&&!_.keepInitialKeyOrder&&(d=c(_,d)),Object(r.a)(d,(function(e){t=t[e?"thenBy":"sortBy"](this.selector,this.desc,this.compare)}))),u&&(t=t.select(u)),_&&(t=l(t,_)),(p||f)&&(t=t.slice(f||0,p)),t}}},362:function(t,e,i){"use strict";var n=i(248),s=i(429),r=i(323),a=Math.abs,o=s.a.inherit({start:function(t){this._startEventData=Object(n.c)(t),this._startTimer(t)},_startTimer:function(t){var e="timeout"in this?this.timeout:750;this._holdTimer=setTimeout(function(){this._requestAccept(t),this._fireEvent("dxhold",t,{target:t.target}),this._forgetAccept()}.bind(this),e)},move:function(t){this._touchWasMoved(t)&&this._cancel(t)},_touchWasMoved:function(t){var e=Object(n.d)(this._startEventData,Object(n.c)(t));return a(e.x)>5||a(e.y)>5},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});Object(r.a)({emitter:o,bubble:!0,events:["dxhold"]}),e.a={name:"dxhold"}},363:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i(240),s=i(406),r=i(246),a=i(357),o=i(242);class l extends s.a{constructor(t,e,i,n){super(),this._render=t,this._fields=e,this._fieldsMap=n||{},this._watchMethod=i}_renderCore(t){var e,i,s,l,c,h,d,u=Object(n.a)(t.container),_=(e=t.model,i=this._watchMethod,s=this._fields,l=this._fieldsMap,c=e=>{u.empty(),this._render(u,e,t.model)},d=((t,e,i)=>e(()=>t,i))(e,i,(function(t){h&&h(),Object(o.l)(t)?c(t):h=function(t,e,i,n,s){var r={},a=i.slice(),o=i.map((function(i){var o=n[i];return e(o?()=>o(t):()=>t[i],(function(t){if(r[i]=t,a.length){var e=a.indexOf(i);e>=0&&a.splice(e,1)}a.length||s(r)}))}));return function(){o.forEach(t=>t())}}(t,i,s,l,c)})),function(){h&&h(),d&&d()});return r.a.on(u,a.a,_),u.contents()}}},403:function(t,e,i){"use strict";var n=i(240),s=i(246),r=i(249),a=i(243),o=i(521),l=i(256),c=i(252),h=i(242),d=i(245),u=i(241),_=i(244),f=i(431),p=i(273),m=i(272),g=i(248),v=i(268),b=i(444),y=i(407),I=i(293),S=i(250),O=i(362),x=i(263),C=i(271),j=i(498),E=i(363),D="dx-item",w=/^([^.]+\[\d+\]\.)+([\w.]+)$/,B=m.a.inherit({_activeStateUnit:"."+D,_supportedKeys:function(){var t=function(t,e){Object(g.i)(e)||(e.preventDefault(),e.stopPropagation(),this._moveFocus(t,e))};return Object(u.a)(this.callBase(),{space:function(t){t.preventDefault(),this._enterKeyHandler(t)},enter:this._enterKeyHandler,leftArrow:t.bind(this,"left"),rightArrow:t.bind(this,"right"),upArrow:t.bind(this,"up"),downArrow:t.bind(this,"down"),pageUp:t.bind(this,"up"),pageDown:t.bind(this,"down"),home:t.bind(this,"first"),end:t.bind(this,"last")})},_enterKeyHandler:function(t){var e=Object(n.a)(this.option("focusedElement"));if(e.length){var i=this._getItemData(e);null!=i&&i.onClick&&this._itemEventHandlerByHandler(e,i.onClick,{event:t}),this._itemClickHandler(Object(u.a)({},t,{target:e.get(0),currentTarget:e.get(0)}))}},_getDefaultOptions:function(){return Object(u.a)(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:S.a.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,dataSource:null,_dataController:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(t){return t?t.disabled:void 0},visibleExpr:function(t){return t?t.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this._initDataController(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var t=this.option("displayExpr");this._displayGetter=t?Object(x.a)(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return"item"},_initDefaultItemTemplate:function(){var t=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new E.a(function(e,i){Object(h.k)(i)?this._prepareDefaultItemTemplate(i,e):(t&&Object(h.h)(t.text)&&(i=t.text(i)),e.text(String(Object(a.g)(i,""))))}.bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),t)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(t,e){Object(h.d)(t.text)&&e.text(t.text),Object(h.d)(t.html)&&e.html(t.html)},_initItemsFromMarkup:function(){var t=Object(o.c)(this.$element(),"dxItem");if(t.length&&!this.option("items").length){var e=t.map(t=>{var{element:e,options:i}=t;return/\S/.test(e.innerHTML)&&!i.template?i.template=this._prepareItemTemplate(e):Object(n.a)(e).remove(),i});this.option("items",e)}},_prepareItemTemplate:function(t){var e="tmpl-"+new p.a,i=Object(n.a)(t).detach().clone().removeAttr("data-options").addClass("dx-template-wrapper");return this._saveTemplate(e,i),e},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(t){if(this.callBase.apply(this,arguments),this._isFocusTarget(t.target)){var e=Object(n.a)(this.option("focusedElement"));if(e.length)this._setFocusedItem(e);else{var i=this._getActiveItem();i.length&&this.option("focusedElement",Object(l.a)(i))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var t=Object(n.a)(this.option("focusedElement"));this._updateFocusedItemState(t,!1)},_findActiveTarget(t){return t.find(this._activeStateUnit)},_getActiveItem:function(t){var e=Object(n.a)(this.option("focusedElement"));if(e.length)return e;var i=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,s=this._getActiveElement(),r=s.length-1;return i<0&&(i=t?r:0),s.eq(i)},_moveFocus:function(t){var e,i=this._getAvailableItems();switch(t){case"pageup":case"up":e=this._prevItem(i);break;case"pagedown":case"down":e=this._nextItem(i);break;case"right":e=this.option("rtlEnabled")?this._prevItem(i):this._nextItem(i);break;case"left":e=this.option("rtlEnabled")?this._nextItem(i):this._prevItem(i);break;case"first":e=i.first();break;case"last":e=i.last();break;default:return!1}0!==e.length&&this.option("focusedElement",Object(l.a)(e))},_getVisibleItems:function(t){return(t=t||this._itemElements()).filter(":visible")},_getAvailableItems:function(t){return this._getVisibleItems(t)},_prevItem:function(t){var e=this._getActiveItem(),i=t.index(e),s=t.last(),r=Object(n.a)(t[i-1]),a=this.option("loopItemFocus");return 0===r.length&&a&&(r=s),r},_nextItem:function(t){var e=this._getActiveItem(!0),i=t.index(e),s=t.first(),r=Object(n.a)(t[i+1]),a=this.option("loopItemFocus");return 0===r.length&&a&&(r=s),r},_selectFocusedItem:function(t){this.selectItem(t)},_updateFocusedItemState:function(t,e,i){var s=Object(n.a)(t);s.length&&(this._refreshActiveDescendant(),this._refreshItemId(s,i),this._toggleFocusClass(e,s)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(t){this.setAria("activedescendant",Object(h.d)(this.option("focusedElement"))?this.getFocusedItemId():null,t)},_refreshItemId:function(t,e){!e&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),t):this.setAria("id",null,t)},_isDisabled:t=>t&&"true"===Object(n.a)(t).attr("aria-disabled"),_setFocusedItem:function(t){if(t&&t.length){this._updateFocusedItemState(t,!0),this.onFocusedItemChanged(this.getFocusedItemId());var{selectOnFocus:e}=this.option(),i=this._isDisabled(t);e&&!i&&this._selectFocusedItem(t)}},_findItemElementByItem:function(t){var e=Object(n.a)(),i=this;return this.itemElements().each((function(){var s=Object(n.a)(this);if(s.data(i._itemDataKey())===t)return e=s,!1})),e},_getIndexByItem:function(t){return this.option("items").indexOf(t)},_itemOptionChanged:function(t,e,i,n){var s=this._findItemElementByItem(t);s.length&&(this.constructor.ItemClass.getInstance(s).setDataField(e,i)||this._refreshItem(s,t),"disabled"===e&&i&&this._resetItemFocus(s))},_resetItemFocus(t){t.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(t){var e=this._getItemData(t),i=t.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+i,e,null,t)},_updateParentActiveDescendant:a.n,_optionChanged:function(t){if("items"===t.name){var e=t.fullName.match(w);if(e&&e.length){var i=e[e.length-1],s=t.fullName.replace("."+i,""),r=this.option(s);return void this._itemOptionChanged(r,i,t.value,t.previousValue)}}switch(t.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":case"encodeNoDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(t.previousValue,!1,!0),this._setFocusedItem(Object(n.a)(t.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(t)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){return this._expectNextPageLoading(),this._dataController.loadNextPage()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&e&&this._shouldAppendItems()?(this._renderedItemsCount=e.length,this._isLastPage()&&-1===this._startIndexForAppendedItems||(this.option().items=e.concat(t.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",t.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return null!=this._startIndexForAppendedItems&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer(),this._inkRipple&&delete this._inkRipple,this._resetActiveState()},_cleanItemContainer:function(){Object(n.a)(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return D},_itemContentClass:function(){return this._itemClass()+"-content"},_selectedItemClass:function(){return"dx-item-selected"},_itemResponseWaitClass:function(){return"dx-item-response-wait"},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return"dxItemData"},_itemIndexKey:function(){return"dxItemIndex"},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass("dx-collection"),this._prepareContent()},_prepareContent:Object(a.d)((function(){this._renderContentImpl()})),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_getPointerEvent:()=>v.a.down,_attachClickEvent(){var t=this._itemSelector(),e=this._getPointerEvent(),i=Object(g.a)(C.a,this.NAME),r=Object(g.a)(e,this.NAME),a=new f.a(t=>{var{event:e}=t;this._itemPointerDownHandler(e)});s.a.off(this._itemContainer(),i,t),s.a.off(this._itemContainer(),r,t),s.a.on(this._itemContainer(),i,t,t=>this._itemClickHandler(t)),s.a.on(this._itemContainer(),r,t,t=>{a.execute({element:Object(n.a)(t.target),event:t})})},_itemClickHandler:function(t,e,i){this._itemDXEventHandler(t,"onItemClick",e,i)},_itemPointerDownHandler:function(t){this.option("focusStateEnabled")&&(this._itemFocusHandler=function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!t.isDefaultPrevented()){var e=Object(n.a)(t.target),i=e.closest(this._itemElements()),s=this._closestFocusable(e);i.length&&this._isFocusTarget(null==s?void 0:s.get(0))&&this.option("focusedElement",Object(l.a)(i))}}.bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(t){if(t.is(I.a))return t;for(t=t.parent();t.length&&!c.default.isDocument(t.get(0))&&!c.default.isDocumentFragment(t.get(0));){if(t.is(I.a))return t;t=t.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),i=Object(g.a)(O.a.name,this.NAME);s.a.off(t,i,e),s.a.on(t,i,e,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(t){this._shouldFireHoldEvent()?this._itemDXEventHandler(t,"onItemHold"):t.cancel=!0},_attachContextMenuEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),i=Object(g.a)(j.a,this.NAME);s.a.off(t,i,e),s.a.on(t,i,e,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(t){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(t,"onItemContextMenu"):t.cancel=!0},_renderContentImpl:function(){var t=this.option("items")||[];this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t)},_renderItems:function(t){t.length&&Object(_.a)(t,function(t,e){this._renderItem(this._renderedItemsCount+t,e)}.bind(this)),this._renderEmptyMessage()},_renderItem:function(t,e,i,n){var s,r=null!==(s=null==t?void 0:t.item)&&void 0!==s?s:t;i=i||this._itemContainer();var a=this._renderItemFrame(r,e,i,n);this._setElementData(a,e,r),a.attr(this.option("_itemAttributes")),this._attachItemClickEvent(e,a);var o=this._getItemContent(a),c=this._renderItemContent({index:r,itemData:e,container:Object(l.a)(o),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),h=this;return Object(d.c)(c).done((function(i){h._postprocessRenderItem({itemElement:a,itemContent:i,itemData:e,itemIndex:r}),h._executeItemRenderAction(t,e,Object(l.a)(a))})),a},_getItemContent:function(t){var e=t.find(".dx-item-content-placeholder");return e.removeClass("dx-item-content-placeholder"),e},_attachItemClickEvent:function(t,e){t&&t.onClick&&s.a.on(e,C.a,function(i){this._itemEventHandlerByHandler(e,t.onClick,{event:i})}.bind(this))},_renderItemContent:function(t){var e=this._getItemTemplateName(t),i=this._getTemplate(e);this._addItemContentClasses(t);var s=Object(n.a)(this._createItemByTemplate(i,t));return s.hasClass("dx-template-wrapper")?this._renderItemContentByNode(t,s):t.container},_renderItemContentByNode:function(t,e){return Object(n.a)(t.container).replaceWith(e),t.container=Object(l.a)(e),this._addItemContentClasses(t),e},_addItemContentClasses:function(t){var e=[D+"-content",t.contentClass];Object(n.a)(t.container).addClass(e.join(" "))},_appendItemToContainer:function(t,e,i){e.appendTo(t)},_renderItemFrame:function(t,e,i,s){var r=Object(n.a)("<div>");if(new this.constructor.ItemClass(r,this._itemOptions(),e||{}),s&&s.length?s.replaceWith(r):this._appendItemToContainer.call(this,i,r,t),this.option("useItemTextAsTitle")){var a=this._displayGetter?this._displayGetter(e):e;r.attr("title",a)}return r},_itemOptions:function(){var t=this;return{watchMethod:function(){return t.option("integrationOptions.watchMethod")},owner:t,fieldGetter:function(e){var i=t.option(e+"Expr");return Object(x.a)(i)}}},_postprocessRenderItem:a.n,_executeItemRenderAction:function(t,e,i){this._getItemRenderAction()({itemElement:i,itemIndex:t,itemData:e})},_setElementData:function(t,e,i){t.addClass([D,this._itemClass()].join(" ")).data(this._itemDataKey(),e).data(this._itemIndexKey(),i)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(t){var e=t.itemData,i=t.templateProperty||this.option("itemTemplateProperty");return e&&e[i]||t.defaultTemplateName},_createItemByTemplate:function(t,e){return t.render({model:e.itemData,container:e.container,index:e.index,onRendered:this._onItemTemplateRendered(t,e)})},_onItemTemplateRendered:function(){return a.n},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(t){t=t||this.option("items");var e=this.option("noDataText"),i=!e||t&&t.length||this._dataController.isLoading();i&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),i||(this._$noData=this._$noData||Object(n.a)("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()),this.option("encodeNoDataText")?this._$noData.text(e):this._$noData.html(e)),this.$element().toggleClass("dx-empty-collection",!i)},_itemDXEventHandler:function(t,e,i,n){this._itemEventHandler(t.target,e,Object(u.a)(i,{event:t}),n)},_itemEventHandler:function(t,e,i,n){var s=this._createActionByOption(e,Object(u.a)({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(t,s,i)},_itemEventHandlerByHandler:function(t,e,i,n){var s=this._createAction(e,Object(u.a)({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(t,s,i)},_itemEventHandlerImpl:function(t,e,i){var s=this._closestItemElement(Object(n.a)(t)),r=Object(u.a)({},i);return e(Object(u.a)(i,this._extendActionArgs(s),r))},_extendActionArgs:function(t){return{itemElement:Object(l.a)(t),itemIndex:this._itemElements().index(t),itemData:this._getItemData(t)}},_closestItemElement:function(t){return Object(n.a)(t).closest(this._itemSelector())},_getItemData:function(t){return Object(n.a)(t).data(this._itemDataKey())},_getSummaryItemsWidth:function(t,e){var i=0;return t&&Object(_.a)(t,(function(t,n){i+=Object(r.i)(n,e||!1)})),i},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new p.a),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(b.a);B.ItemClass=y.a;var T=B,A=i(259),k=i(465),F=i(352),H=i(353),R=i(519),L=function(t){return-1!==t},K=T.inherit({_setOptionsByReference:function(){this.callBase(),Object(u.a)(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return Object(u.a)(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:-1,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(t,e){this._userOptions=e||{},this.callBase(t,e)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=Object(x.a)(this.option("keyExpr"))},_getKeysByItems:function(t){return this._editStrategy.getKeysByItems(t)},_getItemsByKeys:function(t,e){return this._editStrategy.getItemsByKeys(t,e)},_getKeyByIndex:function(t){return this._editStrategy.getKeyByIndex(t)},_getIndexByKey:function(t){return this._editStrategy.getIndexByKey(t)},_getIndexByItemData:function(t){return this._editStrategy.getIndexByItemData(t)},_isKeySpecified:function(){return!!this._dataController.key()},_getCombinedFilter:function(){return this._dataController.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataController.key()},keyOf:function(t){var e=t;return this.option("keyExpr")?e=this._keyGetter(t):this._dataController.store()&&(e=this._dataController.keyOf(t)),e},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var t=this,e=t._editStrategy.itemsGetter;this._selection=new R.a({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(e){(e.addedItemKeys.length||e.removedItemKeys.length)&&(t.option("selectedItems",t._getItemsByKeys(e.selectedItemKeys,e.selectedItems)),t._updateSelectedItems(e))},filter:t._getCombinedFilter.bind(t),totalCount:function(){var e=t.option("items"),i=t._dataController.totalCount();return i>=0?i:t._getItemsCount(e)},key:t.key.bind(t),keyOf:t.keyOf.bind(t),load:function(e){var i,n=t._dataController;return e.customQueryParams=null===(i=n.loadOptions())||void 0===i?void 0:i.customQueryParams,e.userData=n.userData(),n.store()?n.loadFromStore(e).done((function(e){if(!t._disposed){var i=Object(H.e)(e).data;n.applyMapFunction(i)}})):(new d.a).resolve(this.plainItems())},dataFields:function(){return t._dataController.select()},plainItems:e.bind(t._editStrategy)})},_getItemsCount:function(t){return t.reduce((t,e)=>t+(e.items?this._getItemsCount(e.items):1),0)},_initEditStrategy:function(){var t=k.a;this._editStrategy=new t(this)},_getSelectedItemIndices:function(t){var e=this,i=[];return t=t||this._selection.getSelectedItemKeys(),e._editStrategy.beginCache(),Object(_.a)(t,(function(t,n){var s=e._getIndexByKey(n);L(s)&&i.push(s)})),e._editStrategy.endCache(),i},_initMarkup:function(){this._rendering=!0,this._dataController.isLoading()||this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(t){var e,i,n,s;switch(t=t||this._chooseSelectOption()){case"selectedIndex":e=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),Object(h.d)(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(i=(s=this.option("selectedItems")||[]).length?this._editStrategy.getIndexByItemData(s[0]):-1,this.option("selectionRequired")&&!L(i))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",s[0]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(s));break;case"selectedItem":if(e=this.option("selectedItem"),i=this._editStrategy.getIndexByItemData(e),this.option("selectionRequired")&&!L(i))return this._syncSelectionOptions("selectedIndex");Object(h.d)(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",-1));break;case"selectedItemKeys":if(n=this.option("selectedItemKeys"),this.option("selectionRequired")){var r=this._getIndexByKey(n[0]);if(!L(r))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(n)}return(new d.a).resolve().promise()},_chooseSelectOption:function(){var t="selectedIndex",e=function(t){var e=this.option(t);return Object(h.d)(e)&&e.length||t in this._userOptions}.bind(this);return e("selectedItems")?t="selectedItems":e("selectedItem")?t="selectedItem":e("selectedItemKeys")&&(t="selectedItemKeys"),t},_compareKeys:function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<e.length;i++)if(t[i]!==e[i])return!1;return!0},_normalizeSelectedItems:function(){if("none"===this.option("selectionMode"))this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if("single"===this.option("selectionMode")){var t=this.option("selectedItems");if(t.length>1||!t.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var e=this._selection.getSelectedItems(),i=void 0===t[0]?e[0]:t[0];return void 0===i&&(i=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&i&&i.items&&(i.items=[i.items[0]]),this._selection.setSelection(this._getKeysByItems([i])),this._setOptionWithoutOptionChange("selectedItems",[i]),this._syncSelectionOptions("selectedItems")}this._selection.setSelection(this._getKeysByItems(t))}else{var n=this._getKeysByItems(this.option("selectedItems")),s=this._selection.getSelectedItemKeys();this._compareKeys(s,n)||this._selection.setSelection(n)}return(new d.a).resolve().promise()},_itemClickHandler:function(t){var e=(new d.a).resolve(),i=this.callBase;this._createAction(function(t){var i;e=null!==(i=this._itemSelectHandler(t.event))&&void 0!==i?i:e}.bind(this),{validatingTargetName:"itemElement"})({itemElement:Object(n.a)(t.currentTarget),event:t}),e.always(()=>{i.apply(this,arguments)})},_itemSelectHandler:function(t){var e,i;if(this.option("selectByClick")){var n=t.currentTarget;return this.isItemSelected(n)?this.unselectItem(t.currentTarget):i=this.selectItem(t.currentTarget),null===(e=i)||void 0===e?void 0:e.promise()}},_selectedItemElement:function(t){return this._itemElements().eq(t)},_postprocessRenderItem:function(t){if("none"!==this.option("selectionMode")){var e=Object(n.a)(t.itemElement),i=this._editStrategy.getNormalizedIndex(e),s=this._isItemSelected(i);this._processSelectableItem(e,s)}},_processSelectableItem:function(t,e){t.toggleClass(this._selectedItemClass(),e),this._setAriaSelectionAttribute(t,String(e))},_updateSelectedItems:function(t){var e=this,i=t.addedItemKeys,n=t.removedItemKeys;if(e._rendered&&(i.length||n.length)){var s=e._selectionChangePromise;if(!e._rendering){var r,a=[],o=[];e._editStrategy.beginCache();for(var l=0;l<i.length;l++)r=e._getIndexByKey(i[l]),a.push(r),e._addSelection(r);for(var c=0;c<n.length;c++)r=e._getIndexByKey(n[c]),o.push(r),e._removeSelection(r);e._editStrategy.endCache(),e._updateSelection(a,o)}Object(d.c)(s).done((function(){e._fireSelectionChangeEvent(t.addedItems,t.removedItems)}))}},_fireSelectionChangeEvent:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:t,removedItems:e})},_updateSelection:a.n,_setAriaSelectionAttribute:function(t,e){this.setAria("selected",e,t)},_removeSelection:function(t){var e=this._editStrategy.getItemElement(t);L(t)&&(this._processSelectableItem(e,!1),s.a.triggerHandler(e,"stateChanged",!1))},_addSelection:function(t){var e=this._editStrategy.getItemElement(t);L(t)&&(this._processSelectableItem(e,!0),s.a.triggerHandler(e,"stateChanged",!0))},_isItemSelected:function(t){var e=this._getKeyByIndex(t);return this._selection.isItemSelected(e,{checkPending:!0})},_optionChanged:function(t){switch(t.name){case"selectionMode":this._invalidate();break;case"dataSource":(!t.value||Array.isArray(t.value)&&!t.value.length)&&this.option("selectedItemKeys",[]),this.callBase(t);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(t.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(t)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(t){if(t.data("dxItemDeleting"))return(new d.a).resolve().promise();t.data("dxItemDeleting",!0);var e=new d.a,i={cancel:!1},n=this._itemEventHandler(t,"onItemDeleting",i,{excludeValidators:["disabled","readOnly"]});return Object(d.c)(n).always(function(s){var r=!n,a=!r&&"resolved"===n.state(),o=!!arguments.length,l=r||a&&!o||a&&s;Object(d.c)(Object(d.b)(i.cancel)).always((function(){t.data("dxItemDeleting",!1)})).done((function(t){l&&!t?e.resolve():e.reject()})).fail(e.reject)}.bind(this)),e.promise()},_deleteItemFromDS:function(t){var e=this._dataController,i=new d.a,n=this.option("disabled"),s=e.store();if(!s)return(new d.a).resolve().promise();if(!s.remove)throw A.a.Error("E1011");return this.option("disabled",!0),s.remove(e.keyOf(this._getItemData(t))).done((function(t){void 0!==t?i.resolve():i.reject()})).fail((function(){i.reject()})),i.always(function(){this.option("disabled",n)}.bind(this)),i},_tryRefreshLastPage:function(){var t=new d.a;return this._isLastPage()||this.option("grouped")?t.resolve():this._refreshLastPage().done((function(){t.resolve()})),t.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataController.load()},_updateSelectionAfterDelete:function(t){var e=this._getKeyByIndex(t);this._selection.deselect([e])},_updateIndicesAfterIndex:function(t){for(var e=this._itemElements(),i=t+1;i<e.length;i++)Object(n.a)(e[i]).data(this._itemIndexKey(),i-1)},_simulateOptionChange:function(t){var e=this.option(t);e instanceof F.a||this._optionChangedAction({name:t,fullName:t,value:e})},isItemSelected:function(t){return this._isItemSelected(this._editStrategy.getNormalizedIndex(t))},selectItem:function(t){if("none"!==this.option("selectionMode")){var e=this._editStrategy.getNormalizedIndex(t);if(L(e)){var i=this._getKeyByIndex(e);if(!this._selection.isItemSelected(i)){if("single"===this.option("selectionMode"))return this._selection.setSelection([i]);var n=this.option("selectedItemKeys")||[];return this._selection.setSelection([...n,i],[i])}}}},unselectItem:function(t){var e=this._editStrategy.getNormalizedIndex(t);if(L(e)){var i=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&i.length<=1)){var n=this._getKeyByIndex(e);this._selection.isItemSelected(n,{checkPending:!0})&&this._selection.deselect([n])}}},_deleteItemElementByIndex:function(t){this._updateSelectionAfterDelete(t),this._updateIndicesAfterIndex(t),this._editStrategy.deleteItemAtIndex(t)},_afterItemElementDeleted:function(t,e){var i=this._dataController.getDataSource()?"dataSource":"items";this._simulateOptionChange(i),this._itemEventHandler(t,"onItemDeleted",e,{beforeExecute:function(){t.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(t){var e=this,i=new d.a,n=this._editStrategy.getItemElement(t),s=this._editStrategy.getNormalizedIndex(t),r=this._itemResponseWaitClass();return L(s)?this._waitDeletingPrepare(n).done((function(){n.addClass(r);var t=e._extendActionArgs(n);e._deleteItemFromDS(n).done((function(){e._deleteItemElementByIndex(s),e._afterItemElementDeleted(n,t),e._tryRefreshLastPage().done((function(){i.resolveWith(e)}))})).fail((function(){n.removeClass(r),i.rejectWith(e)}))})).fail((function(){i.rejectWith(e)})):i.rejectWith(e),i.promise()},reorderItem:function(t,e){var i=new d.a,n=this,s=this._editStrategy,r=s.getItemElement(t),a=s.getItemElement(e),o=s.getNormalizedIndex(t),l=s.getNormalizedIndex(e),c=this._dataController.getDataSource()?"dataSource":"items";return L(o)&&L(l)&&o!==l?i.resolveWith(this):i.rejectWith(this),i.promise().done((function(){a[s.itemPlacementFunc(o,l)](r),s.moveItemAtIndexToIndex(o,l),this._updateIndicesAfterIndex(o),n.option("selectedItems",n._getItemsByKeys(n._selection.getSelectedItemKeys(),n._selection.getSelectedItems())),"items"===c&&n._simulateOptionChange(c),n._itemEventHandler(r,"onItemReordered",{fromIndex:s.getIndex(o),toIndex:s.getIndex(l)},{excludeValidators:["disabled","readOnly"]})}))}});e.a=K},407:function(t,e,i){"use strict";var n=i(240),s=i(260),r=i(244),a=i(421),o=s.a.inherit({ctor:function(t,e,i){this._$element=t,this._options=e,this._rawData=i,Object(a.a)(t,this,this._dispose),this._render()},_render:function(){var t=Object(n.a)("<div>").addClass("dx-item-content-placeholder");this._$element.append(t),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(t,e){var i=this._rawData,n=this._options.fieldGetter(t),s=function(t,e,i){var n,s=function(t){n!==t&&(i(t,n),n=t)};return{dispose:t(e,s),force:function(){s(e())}}}(this._options.watchMethod(),(function(){return n(i)}),function(t,i){this._dirty=!0,e(t,i)}.bind(this));this._watchers.push(s)},setDataField:function(){if(this._dirty=!1,Object(r.a)(this._watchers,(function(t,e){e.force()})),this._dirty)return!0},_renderDisabled:function(t,e){this._$element.toggleClass("dx-state-disabled",!!t),this._$element.attr("aria-disabled",!!t),this._updateOwnerFocus(t)},_updateOwnerFocus:function(t){var e=this._options.owner;e&&t&&e._resetItemFocus(this._$element)},_renderVisible:function(t,e){this._$element.toggleClass("dx-state-invisible",void 0!==t&&!t)},_dispose:function(){Object(r.a)(this._watchers,(function(t,e){e.dispose()}))}});o.getInstance=function(t){return Object(a.b)(t,this)},e.a=o},408:function(t,e,i){"use strict";i.d(e,"a",(function(){return L})),i.d(e,"b",(function(){return K}));var n,s,r=i(249),a=i(240),o=i(252),l=i(246),c=i(283),h=i(241),d=i(247),u=i(244),_=i(242),f=i(276),p=i(266),m=i(260),g=i(500),v=i(248),b=i(243),y=i(501),I=i(245),S="horizontal",O=Math.round(1e3/60),x=400/O,C=(1-Math.pow(.92,x))/(1-.92),j="pageUp",E="pageDown",D="end",w="home",B="leftArrow",T="upArrow",A="rightArrow",k="downArrow",F="tab",H=g.a.inherit({ctor:function(t){this.callBase(),this.scroller=t},VELOCITY_LIMIT:1,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?.92:.5},_complete:function(){this.scroller._scrollComplete()}}),R=H.inherit({VELOCITY_LIMIT:.2,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return.92},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),L=m.a.inherit({ctor:function(t){this._initOptions(t),this._initAnimators(),this._initScrollbar()},_initOptions:function(t){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=t.direction===S?"x":"y",this._prop=t.direction===S?"left":"top",this._dimension=t.direction===S?"width":"height",this._scrollProp=t.direction===S?"scrollLeft":"scrollTop",Object(u.a)(t,(t,e)=>{this["_"+t]=e})},_initAnimators:function(){this._inertiaAnimator=new H(this),this._bounceAnimator=new R(this)},_initScrollbar:function(){this._scrollbar=new y.a(Object(a.a)("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(t){return!0===t?"onScroll":!1===t?"never":t},_scrollStep:function(t){var e=this._location;this._location+=t,this._suppressBounce(),this._move(),Math.abs(e-this._location)<1||l.a.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(t){return t=void 0!==t?t:this._location,Math.max(Math.min(t,this._maxOffset),this._minOffset)},_move:function(t){this._location=void 0!==t?t*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var t=this._location;this._$container[this._scrollProp](-t/this._getScaleRatio()),this._moveContentByTranslator(t)},_getScaleRatio:function(){if(Object(d.f)()&&!this._scaleRatio){var t=this._$element.get(0),e=this._getRealDimension(t,this._dimension),i=this._getBaseDimension(t,this._dimension);this._scaleRatio=Math.round(e/i*100)/100}return this._scaleRatio||1},_getRealDimension:function(t,e){return Math.round(Object(f.a)(t)[e])},_getBaseDimension:function(t,e){return t["offset"+Object(c.e)(e)]},_moveContentByTranslator:function(t){var e,i=-this._maxScrollPropValue;if(e=t>0?t:t<=i?t-i:t%1,this._translateOffset!==e){var n={};n[this._prop]=e,this._translateOffset=e,0!==e?Object(p.e)(this._$content,n):Object(p.g)(this._$content)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var t=(this._bounceLocation=this._boundLocation())-this._location;this._velocity=t/C},_inBounds:function(t){return t=void 0!==t?t:this._location,this._boundLocation(t)===t},_crossBoundOnNextStep:function(){var t=this._location,e=t+this._velocity;return t<this._minOffset&&e>=this._minOffset||t>this._maxOffset&&e<=this._maxOffset},_initHandler:function(t){this._stopScrolling(),this._prepareThumbScrolling(t)},_stopScrolling:Object(b.d)((function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()})),_prepareThumbScrolling:function(t){if(!Object(v.j)(t.originalEvent)){var e=Object(a.a)(t.originalEvent.target),i=this._isScrollbar(e);i&&this._moveToMouseLocation(t),this._thumbScrolling=i||this._isThumb(e),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(e),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(t){return this._isThumb(t)},_moveToMouseLocation:function(t){var e=t["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],i=this._location+e/this._containerToContentRatio()-Object(r.d)(this._$container)/2;this._scrollStep(-Math.round(i))},_startHandler:function(){this._showScrollbar()},_moveHandler:function(t){this._crossThumbScrolling||(this._thumbScrolling&&(t[this._axis]=-Math.round(t[this._axis]/this._containerToContentRatio())),this._scrollBy(t))},_scrollBy:function(t){t=t[this._axis],this._inBounds()||(t*=.5),this._scrollStep(t)},_scrollByHandler:function(t){this._scrollBy(t),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(t){return this._completeDeferred=new I.a,this._velocity=t[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){this._inertiaEnabled&&!this._thumbScrolling||(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){return this._stopScrolling(),Object(b.e)(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),Object(b.c)(()=>{this._moveScrollbar(),this._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(Object(p.d)(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:Object(b.f)((function(){var t=this._containerSize(),e=this._contentSize(),i=this._getBaseDimension(this._$container.get(0),this._dimension),n=this._getBaseDimension(this._$content.get(0),this._dimension);Object(b.c)(()=>{this._scrollbar.option({containerSize:t,contentSize:e,baseContainerSize:i,baseContentSize:n,scaleRatio:this._getScaleRatio()})})})),_moveToBounds:Object(b.d)(Object(b.f)(Object(b.d)((function(){var t=this._boundLocation(),e=t!==this._location;this._location=t,this._move(),e&&this._scrollAction()})))),_createActionsHandler:function(t){this._scrollAction=t.scroll,this._bounceAction=t.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var t="hidden"===this._$content.css("overflow"+this._axis.toUpperCase()),e=this._getRealDimension(this._$content.get(0),this._dimension);if(!t){var i=this._$content[0]["scroll"+Object(c.e)(this._dimension)]*this._getScaleRatio();e=Math.max(i,e)}return e},_validateEvent:function(t){var e=Object(a.a)(t.originalEvent.target);return this._isThumb(e)||this._isScrollbar(e)},_isThumb:function(t){return this._scrollByThumb&&this._scrollbar.isThumb(t)},_isScrollbar:function(t){return this._scrollByThumb&&t&&t.is(this._$scrollbar)},_reachedMin:function(){return Math.round(this._location-this._minOffset)<=0},_reachedMax:function(){return Math.round(this._location-this._maxOffset)>=0},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:b.n}),K=m.a.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=Object(a.a)(t.container()),this._$wrapper=t._$wrapper,this._$content=t.$content(),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t)},render:function(){this._$element.addClass("dx-scrollable-simulated"),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(S)&&this._createScroller(S),this._isDirection("vertical")&&this._createScroller("vertical"),this._$element.toggleClass("dx-scrollable-scrollbars-alwaysvisible","always"===this.option("showScrollbar"))},_createScroller:function(t){this._scrollers[t]=new L(this._scrollerOptions(t))},_scrollerOptions:function(t){return{direction:t,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(t){for(var e in this._scrollers){var i=this._getPropByDirection(e);if(Object(_.d)(t[i])){var n=this._scrollers[e];t[i]*=n._getScaleRatio()}}return t},_isAnyThumbScrolling:function(t){var e=!1;return this._eventHandler("isThumbScrolling",t).done((function(t,i){e=t||i})),e},handleInit:function(t){this._suppressDirections(t),this._eventForUserAction=t,this._eventHandler("init",t)},_suppressDirections:function(t){Object(v.j)(t.originalEvent)?this._prepareDirections(!0):(this._prepareDirections(),this._eachScroller((function(e,i){var n=Object(a.a)(t.originalEvent.target),s=e._validateEvent(t)||this.option("scrollByContent")&&this._isContent(n);this._validDirections[i]=s})))},_isContent:function(t){return!!t.closest(this._$element).length},_prepareDirections:function(t){t=t||!1,this._validDirections={},this._validDirections[S]=t,this._validDirections.vertical=t},_eachScroller:function(t){t=t.bind(this),Object(u.a)(this._scrollers,(function(e,i){t(i,e)}))},handleStart:function(t){this._eventForUserAction=t,this._eventHandler("start").done(this._startAction)},_saveActive:function(){s=this},_resetActive:function(){s===this&&(s=null)},handleMove:function(t){if(this._isLocked())return t.cancel=!0,void this._resetActive();this._saveActive(),t.preventDefault&&t.preventDefault(),this._adjustDistance(t,t.delta),this._eventForUserAction=t,this._eventHandler("move",t.delta)},_adjustDistance:function(t,e){e.x*=this._validDirections[S],e.y*=this._validDirections.vertical;var i=this._tryGetDevicePixelRatio();i&&Object(v.j)(t.originalEvent)&&(e.x=Math.round(e.x/i*100)/100,e.y=Math.round(e.y/i*100)/100)},_tryGetDevicePixelRatio:function(){if(Object(d.f)())return Object(d.d)().devicePixelRatio},handleEnd:function(t){return this._resetActive(),this._refreshCursorState(t.originalEvent&&t.originalEvent.target),this._adjustDistance(t,t.velocity),this._eventForUserAction=t,this._eventHandler("end",t.velocity).done(this._endAction)},handleCancel:function(t){return this._resetActive(),this._eventForUserAction=t,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler:function(){l.a.off(this._$element,".".concat("dxSimulatedScrollableKeyboard")),!this.option("disabled")&&this.option("useKeyboard")&&l.a.on(this._$element,Object(v.a)("keydown","dxSimulatedScrollableKeyboard"),this._keyDownHandler.bind(this))},_keyDownHandler:function(t){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{Object(v.n)(t)===F&&this._eachScroller(t=>{t._updateHandler()})}),this._$container.is(o.default.getActiveElement(this._$container.get(0)))){var e=!0;switch(Object(v.n)(t)){case k:this._scrollByLine({y:1});break;case T:this._scrollByLine({y:-1});break;case A:this._scrollByLine({x:1});break;case B:this._scrollByLine({x:-1});break;case E:this._scrollByPage(1);break;case j:this._scrollByPage(-1);break;case w:this._scrollToHome();break;case D:this._scrollToEnd();break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault())}},_scrollByLine:function(t){var e=this._tryGetDevicePixelRatio(),i=40;e&&(i=Math.abs(i/e*100)/100),this.scrollBy({top:(t.y||0)*-i,left:(t.x||0)*-i})},_scrollByPage:function(t){var e=this._wheelProp(),i={},n="width"===this._dimensionByProp(e)?r.l:r.d;i[e]=t*-n(this._$container),this.scrollBy(i)},_dimensionByProp:function(t){return"left"===t?"width":"height"},_getPropByDirection:function(t){return t===S?"left":"top"},_scrollToHome:function(){var t={};t[this._wheelProp()]=0,this._component.scrollTo(t)},_scrollToEnd:function(){var t=this._wheelProp(),e={},i="width"===this._dimensionByProp(t)?r.l:r.d;e[t]=i(this._$content)-i(this._$container),this._component.scrollTo(e)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(t){var e=this._createActionByOption(t);return()=>{e(Object(h.a)(this._createActionArgs(),arguments))}},_createActionArgs:function(){var{horizontal:t,vertical:e}=this._scrollers,i=this._getScrollOffset();return this._scrollOffset={top:e&&i.top,left:t&&i.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:t&&t._reachedMax(),reachedRight:t&&t._reachedMin(),reachedTop:e&&e._reachedMax(),reachedBottom:e&&e._reachedMin()}},_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}},_eventHandler:function(t){var e=[].slice.call(arguments).slice(1),i=Object(u.b)(this._scrollers,i=>i["_"+t+"Handler"].apply(i,e));return I.c.apply(a.a,i).promise()},location:function(){var t=Object(p.d)(this._$content);return t.top-=this._$container.scrollTop(),t.left-=this._$container.scrollLeft(),t},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){l.a.off(this._$element,".".concat("dxSimulatedScrollableCursor")),!this.option("disabled")&&this._isHoverMode()&&(l.a.on(this._$element,Object(v.a)("mouseenter","dxSimulatedScrollableCursor"),this._cursorEnterHandler.bind(this)),l.a.on(this._$element,Object(v.a)("mouseleave","dxSimulatedScrollableCursor"),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return"onHover"===this.option("showScrollbar")},_cursorEnterHandler:function(t){(t=t||{}).originalEvent=t.originalEvent||{},s||t.originalEvent._hoverHandled||(n&&n._cursorLeaveHandler(),n=this,this._eventHandler("cursorEnter"),t.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(t){n===this&&s!==n&&(this._eventHandler("cursorLeave"),n=null,this._refreshCursorState(t&&t.relatedTarget))},_refreshCursorState:function(t){if(this._isHoverMode()||t&&!s){var e=Object(a.a)(t).closest(".".concat("dx-scrollable-simulated",":not(.dx-state-disabled)")),i=e.length&&e.data("dxScrollableStrategy");n&&n!==i&&n._cursorLeaveHandler(),i&&i._cursorEnterHandler()}},update:function(){var t=this._eventHandler("update").done(this._updateAction);return Object(I.c)(t,Object(b.e)(()=>{var t=this._allowedDirections();return Object(b.c)(()=>{var e=t.vertical?"pan-x":"";e=t.horizontal?"pan-y":e,e=t.vertical&&t.horizontal?"none":e,this._$container.css("touchAction",e)}),Object(I.c)().promise()}))},_allowedDirections:function(){var t=this.option("bounceEnabled"),e=this._scrollers.vertical,i=this._scrollers[S];return{vertical:e&&(e._minOffset<0||t),horizontal:i&&(i._minOffset<0||t)}},_updateBounds:function(){this._scrollers[S]&&this._scrollers[S]._updateBounds()},_isHorizontalAndRtlEnabled:function(){return this.option("rtlEnabled")&&"vertical"!==this.option("direction")},updateRtlPosition:function(t){if(t&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()){var e=this._getMaxOffset().left-this._rtlConfig.scrollRight;e<=0&&(e=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),this._getScrollOffset().left!==e&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:e}),this._rtlConfig.skipUpdating=!1)}},_updateRtlConfig:function(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){var{clientWidth:t,scrollLeft:e}=this._$container.get(0),i=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===i&&this._rtlConfig.clientWidth===t&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-e),this._rtlConfig.clientWidth=t,this._rtlConfig.windowPixelRatio=i}},_getWindowDevicePixelRatio:function(){return Object(d.f)()?Object(d.d)().devicePixelRatio:1},scrollBy:function(t){var e=this._scrollers.vertical,i=this._scrollers[S];e&&(t.top=e._boundLocation(t.top+e._location)-e._location),i&&(t.left=i._boundLocation(t.left+i._location)-i._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:t.left,y:t.top}),this._endAction(),this._updateRtlConfig()},validate:function(t){return(!Object(v.j)(t)||!Object(v.i)(t))&&(!this.option("disabled")&&(!!this.option("bounceEnabled")||(Object(v.j)(t)?this._validateWheel(t):this._validateMove(t))))},_validateWheel:function(t){var e=this._scrollers[this._wheelDirection(t)],i=e._reachedMin(),n=e._reachedMax(),s=!i||!n,r=!i&&!n,a=i&&t.delta>0,o=n&&t.delta<0,l=s&&(r||a||o);return(l=l||void 0!==this._validateWheelTimer)&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},500)),l},_validateMove:function(t){return!(!this.option("scrollByContent")&&!Object(a.a)(t.target).closest(".".concat("dx-scrollable-scrollbar")).length)&&this._allowedDirection()},getDirection:function(t){return Object(v.j)(t)?this._wheelDirection(t):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===S?"left":"top"},_wheelDirection:function(t){switch(this.option("direction")){case S:return S;case"vertical":return"vertical";default:return t&&t.shiftKey?S:"vertical"}},dispose:function(){this._resetActive(),n===this&&(n=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass("dx-scrollable-simulated"),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){l.a.off(this._$element,".".concat("dxSimulatedScrollableCursor")),l.a.off(this._$container,".".concat("dxSimulatedScrollableKeyboard"))}})},409:function(t,e,i){"use strict";i.r(e);var n=i(249),s=i(240),r=i(278),a=i(241),o=i(251),l=i(252),c=i(253),h=i(266),d=i(291),u={move(t,e){Object(h.e)(t,{left:e})}},_={moveTo(t,e,i,n){d.a.animate(t,{type:"slide",to:{left:e},duration:i,complete:n})},complete(t){d.a.stop(t,!0)}},f=i(289),p=i(243),m=i(324),g=i(256),v=i(242),b=i(456),y=i(499),I=i(245),S=t=>+t,O=b.a.inherit({_activeStateUnit:".dx-multiview-item",_supportedKeys:function(){return Object(a.a)(this.callBase(),{pageUp:p.n,pageDown:p.n})},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===o.a.real().deviceType&&!o.a.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return"dx-multiview-item"},_itemDataKey:function(){return"dxMultiViewItemData"},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=Object(n.l)(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(t){var e=this._itemsCount();return t<0&&(t+=e),t>=e&&(t-=e),t},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var t=this.$element();t.addClass("dx-multiview"),this._$wrapper=Object(s.a)("<div>").addClass("dx-multiview-wrapper"),this._$wrapper.appendTo(t),this._$itemContainer=Object(s.a)("<div>").addClass("dx-multiview-item-container"),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._findBoundaryIndices(),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_afterItemElementDeleted:function(t,e){this.callBase(t,e),this._deferredItems&&this._deferredItems.splice(e.itemIndex,1)},_beforeItemElementInserted:function(t){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(t.index,0,null)},_executeItemRenderAction:function(t,e,i){t=(this.option("items")||[]).indexOf(e),this.callBase(t,e,i)},_renderItemContent:function(t){var e=new I.a,i=this,n=this.callBase,s=new I.a;return s.done((function(){var s=n.call(i,t);e.resolve(s)})),this._deferredItems[t.index]=s,this.option("deferRendering")||s.resolve(),e.promise()},_render:function(){this.callBase(),Object(p.c)(()=>{var t=this._getSelectedItemIndices();this._updateItems(t[0])})},_updateItems:function(t,e){this._updateItemsPosition(t,e),this._updateItemsVisibility(t,e)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_updateItemsPosition:function(t,e){var i=this._itemElements(),n=Object(v.d)(e)?-this._animationDirection(e,t):void 0,s=i.eq(t);u.move(s,0),Object(v.d)(e)&&u.move(i.eq(e),100*n+"%")},_updateItemsVisibility:function(t,e){this._itemElements().each(function(i,n){var r=Object(s.a)(n),a=i!==t&&i!==e;a||this._renderSpecificItem(i),r.toggleClass("dx-multiview-item-hidden",a),this.setAria("hidden",a||void 0,r)}.bind(this))},_renderSpecificItem:function(t){var e=this._itemElements().eq(t),i=e.find(this._itemContentClass()).length>0;Object(v.d)(t)&&!i&&(this._deferredItems[t].resolve(),Object(m.b)(e))},_refreshItem:function(t,e){this.callBase(t,e),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelectionAttribute:p.n,_updateSelection:function(t,e){var i=t[0],s=e[0];_.complete(this._$itemContainer),this._updateItems(s,i);var r=this._animationDirection(i,s);this._animateItemContainer(r*this._itemWidth(),function(){u.move(this._$itemContainer,0),this._updateItems(i),Object(n.l)(this._$itemContainer)}.bind(this))},_animateItemContainer:function(t,e){var i=this.option("animationEnabled")?200:0;_.moveTo(this._$itemContainer,t,i,e)},_animationDirection:function(t,e){var i,n=(i=this._$itemContainer,Object(h.d)(i).left),s=(e-t)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),r=0!==n?n:s;return Object(f.e)(r)},_getSwipeDisabledState(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable(){this._createComponent(this.$element(),y.a,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:t=>this._swipeStartHandler(t.event),onUpdated:t=>this._swipeUpdateHandler(t.event),onEnd:t=>this._swipeEndHandler(t.event)})},_findBoundaryIndices(){var t,e,i,n,s=this.option("items");s.forEach((t,e)=>{var s;Boolean(null==t?void 0:t.disabled)||(null!==(s=i)&&void 0!==s||(i=e),n=e)}),this._boundaryIndices={firstAvailableIndex:null!==(t=i)&&void 0!==t?t:0,lastAvailableIndex:null!==(e=n)&&void 0!==e?e:s.length-1,firstTrueIndex:0,lastTrueIndex:s.length-1}},_swipeStartHandler:function(t){_.complete(this._$itemContainer);var e=this.option("selectedIndex"),i=this.option("loop"),{firstAvailableIndex:n,lastAvailableIndex:s}=this._boundaryIndices,r=this.option("rtlEnabled");t.maxLeftOffset=S(i||(r?e>n:e<s)),t.maxRightOffset=S(i||(r?e<s:e>n)),this._swipeDirection=null},_swipeUpdateHandler:function(t){var e=t.offset,i=Object(f.e)(e)*this._getRTLSignCorrection();if(u.move(this._$itemContainer,e*this._itemWidth()),i!==this._swipeDirection){this._swipeDirection=i;var n=this.option("selectedIndex"),s=this._normalizeIndex(n-i);this._updateItems(n,s)}},_findNextAvailableIndex(t,e){var{items:i,loop:n}=this.option(),{firstAvailableIndex:s,lastAvailableIndex:r,firstTrueIndex:a,lastTrueIndex:o}=this._boundaryIndices,l=[a,s].includes(t),c=[o,r].includes(t);if(n){if(l&&e<0)return r;if(c&&e>0)return s}for(var h=t+e;h>=s&&h<=r;h+=e){if(!Boolean(i[h].disabled))return h}return t},_swipeEndHandler:function(t){var e=t.targetOffset*this._getRTLSignCorrection();if(e){var i=this._findNextAvailableIndex(this.option("selectedIndex"),-e);this.option("selectedIndex",i);var n=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",Object(g.a)(n))}else this._animateItemContainer(0,p.n)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.last()),e},_nextItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.first()),e},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(t){t&&this._dimensionChanged()},_updateSwipeDisabledState(){var t=this._getSwipeDisabledState();y.a.getInstance(this.$element()).option("disabled",t)},_dispose:function(){delete this._boundaryIndices,this.callBase()},_optionChanged:function(t){var e=t.value;switch(t.name){case"loop":this.option("loopItemFocus",e);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this._findBoundaryIndices(),this.callBase(t);break;default:this.callBase(t)}}});Object(c.a)("dxMultiView",O);var x=O,C=i(246),j=i(282),E=i(434),D=i(248),w=i(268),B=i(244),T=i(407),A=T.a.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(t){if(this._$element.children(".dx-badge").remove(),t){var e=Object(s.a)("<div>").addClass("dx-tabs-item-badge").addClass("dx-badge").text(t);this._$element.append(e)}}}),k=i(267),F=i(362),H=i(299),R=i(329),L=i(363);function K(t){return t.scrollWidth-t.clientWidth}i(504);function M(t,e){return Math.round(t)<=e}function P(t,e,i){return Math.round(K(t)-e)<=i}var $=b.a.inherit({_activeStateUnit:".dx-tab",_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(t){return t?t.badge:void 0},_itemAttributes:{role:"tab"}})},_defaultOptionsRules:function(){var t=Object(k.a)();return this.callBase().concat([{device:function(){return"desktop"!==o.a.real().deviceType},options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:function(){return"desktop"===o.a.real().deviceType&&!o.a.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Object(k.d)(t)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass("dx-tabs"),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=100},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new L.a(function(t,e){Object(v.k)(e)?this._prepareDefaultItemTemplate(e,t):t.text(String(e));var i=Object(R.a)(e.icon);i&&i.prependTo(t),t.wrapInner(Object(s.a)("<span>").addClass("dx-tab-text"))}.bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(t,e){var{itemData:i,container:n,index:s}=e;return this._deferredTemplates[s]=new I.a,t.render({model:i,container:n,index:s,onRendered:()=>this._deferredTemplates[s].resolve()})},_itemClass:function(){return"dx-tab"},_selectedItemClass:function(){return"dx-tab-selected"},_itemDataKey:function(){return"dxTabData"},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass("dx-overflow-hidden")},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling(){I.c.apply(this,this._deferredTemplates).done(()=>this._renderScrolling())},_renderScrolling:function(){var t=["dx-tabs-stretched","dx-tabs-expanded","dx-overflow-hidden"];if(this.$element().removeClass(t.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());var e=this.getScrollable();if(e.update(),this.option("rtlEnabled")){var i=K(Object(s.a)(this.getScrollable().container()).get(0));e.scrollTo({left:i})}this._updateNavButtonsVisibility(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass("dx-tabs-stretched"),this.$element().removeClass("dx-tabs-nav-buttons").addClass("dx-tabs-expanded"))},_isItemsWidthExceeded:function(){return this._getSummaryItemsWidth(this._getVisibleItems(),!0)-1>Object(n.l)(this.$element())},_needStretchItems:function(){var t=this._getVisibleItems(),e=Object(n.l)(this.$element()),i=[];return Object(B.a)(t,(t,e)=>{i.push(Object(n.i)(e,!0))}),Math.max.apply(null,i)>=e/t.length},_cleanNavButtons:function(){this._leftButton&&this._rightButton&&(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=Object(E.c)()},_getPointerEvent:()=>w.a.up,_toggleActiveState:function(t,e,i){if(this.callBase.apply(this,arguments),this._inkRipple){var n={element:t,event:i};e?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}},_renderMultiple:function(){"multiple"===this.option("selectionMode")&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=Object(s.a)("<div>").addClass("dx-tabs-wrapper"),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var t=this.$element().wrapInner(Object(s.a)("<div>").addClass("dx-tabs-scrollable")).children();this._scrollable=this._createComponent(t,H.a,{direction:"horizontal",showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:()=>{this._updateNavButtonsVisibility()}}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(t){if(this._scrollable){var e=this._editStrategy.getItemElement(t);this._scrollable.scrollToElement(e)}},_renderNavButtons:function(){if(this.$element().toggleClass("dx-tabs-nav-buttons",this.option("showNavButtons")),this.option("showNavButtons")){var t=this.option("rtlEnabled");this._leftButton=this._createNavButton(-30,t?"chevronnext":"chevronprev");var e=this._leftButton.$element();e.addClass("dx-tabs-nav-button-left"),this.$element().prepend(e),this._rightButton=this._createNavButton(30,t?"chevronprev":"chevronnext");var i=this._rightButton.$element();i.addClass("dx-tabs-nav-button-right"),this.$element().append(i)}},_updateNavButtonsVisibility:function(){var t=this.getScrollable();this._leftButton&&this._leftButton.option("disabled",M(t.scrollLeft(),1)),this._rightButton&&this._rightButton.option("disabled",P(Object(s.a)(t.container()).get(0),t.scrollLeft(),1))},_updateScrollPosition:function(t,e){this._scrollable.update(),this._scrollable.scrollBy(t/e)},_createNavButton:function(t,e){var i=this,n=i._createAction((function(){i._holdInterval=setInterval((function(){i._updateScrollPosition(t,5)}),5)})),r=Object(D.a)(F.a.name,"dxNavButton"),a=Object(D.a)(w.a.up,"dxNavButton"),o=Object(D.a)(w.a.out,"dxNavButton"),l=this._createComponent(Object(s.a)("<div>").addClass("dx-tabs-nav-button"),j.default,{focusStateEnabled:!1,icon:e,onClick:function(){i._updateScrollPosition(t,1)},integrationOptions:{}}),c=l.$element();return C.a.on(c,r,{timeout:300},function(t){n({event:t})}.bind(this)),C.a.on(c,a,(function(){i._clearInterval()})),C.a.on(c,o,(function(){i._clearInterval()})),l},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(t){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(t[0]),{left:1,right:1})},_visibilityChanged:function(t){t&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(t){"single"===this.option("selectionMode")&&this.isItemSelected(t.currentTarget)||this.callBase(t)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_toggleFocusedNextClass(t,e){this._itemElements().eq(t).toggleClass("dx-focused-next-tab",e)},_optionChanged:function(t){switch(t.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(t.name,t.value);break;case"width":this.callBase(t),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(t);break;case"badgeExpr":this._invalidate();break;case"focusedElement":var{selectedIndex:e}=this.option(),i=Object(s.a)(t.value).index();i!==e&&this._toggleFocusedNextClass(e,i===e+1),this.callBase(t),this._scrollToItem(t.value);break;default:this.callBase(t)}},_afterItemElementInserted(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted(t,e){this.callBase(t,e),this._renderScrolling()},getScrollable(){return this._scrollable}});$.ItemClass=A,Object(c.a)("dxTabs",$);var z=$;class N extends T.a{_renderWatchers(){return this._startWatcher("badge",p.n),super._renderWatchers()}}var W=i(247),q=x.inherit({_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===o.a.real().deviceType&&!o.a.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!r.touch},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.$element().addClass("dx-tabpanel"),this.setAria("role","tabpanel")},_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new L.a((function(t,e){if(Object(v.k)(e)){var i=Object(R.a)(e.icon);i&&t.append(i),Object(v.d)(e.title)&&!Object(v.k)(e.title)&&t.append(l.default.createTextNode(e.title))}else Object(v.d)(e)&&t.text(String(e));t.wrapInner(Object(s.a)("<span>").addClass("dx-tab-text"))}),["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderContent:function(){var t=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout((function(){t._updateLayout()}),0))},_renderLayout:function(){if(this._tabs)this._updateLayout();else{var t=this.$element();this._$tabContainer=Object(s.a)("<div>").addClass("dx-tabpanel-tabs").appendTo(t);var e=Object(s.a)("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(e,z,this._tabConfig()),this._$container=Object(s.a)("<div>").addClass("dx-tabpanel-container").appendTo(t),this._$container.append(this._$wrapper),this._updateLayout()}},_updateLayout:function(){if(Object(W.f)()){var t=Object(n.h)(this._$tabContainer);this._$container.css({marginTop:-t,paddingTop:t})}},_refreshActiveDescendant:function(){if(this._tabs){var t=this._tabs,e=t.itemElements(),i=Object(s.a)(e[t.option("selectedIndex")]),n=this.getFocusedItemId();this.setAria("controls",void 0,Object(s.a)(e)),this.setAria("controls",n,i)}},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:function(t){this.option("selectedIndex",t.component.option("selectedIndex")),this._refreshActiveDescendant()}.bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:function(t){if("focusedElement"===t.name)if(t.value){var e=Object(s.a)(t.value),i=this._itemElements().eq(e.index());this.option("focusedElement",Object(g.a)(i))}else this.option("focusedElement",t.value)}.bind(this),onFocusIn:function(t){this._focusInHandler(t.event)}.bind(this),onFocusOut:function(t){this._isFocusOutHandlerExecuting||this._focusOutHandler(t.event)}.bind(this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_toggleWrapperFocusedClass(t){this._toggleFocusClass(t,this._$wrapper)},_toggleDisabledFocusedClass(t){this._focusTarget().toggleClass("dx-disabled-focused-tab",t)},_updateFocusState:function(t,e){this.callBase(t,e);var i=t.target===this._tabs._focusTarget().get(0),n=t.target===this._focusTarget().get(0);if(i&&this._toggleFocusClass(e,this._focusTarget()),i||n){var s=this._isDisabled(this.option("focusedElement"));this._toggleWrapperFocusedClass(e&&!s),this._toggleDisabledFocusedClass(e&&s)}n&&this._toggleFocusClass(e,this._tabs.option("focusedElement"))},_focusOutHandler:function(t){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(t),this._isFocusOutHandlerExecuting=!1},_setTabsOption:function(t,e){this._tabs&&this._tabs.option(t,e)},_visibilityChanged:function(t){t&&(this._tabs._dimensionChanged(),this._updateLayout())},registerKeyHandler:function(t,e){this.callBase(t,e),this._tabs&&this._tabs.registerKeyHandler(t,e)},repaint:function(){this.callBase(),this._tabs.repaint()},_optionChanged:function(t){var e=t.name,i=t.value,n=t.fullName;switch(e){case"dataSource":this.callBase(t);break;case"items":this._setTabsOption(e,this.option(e)),this._updateLayout(),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(t);break;case"width":this.callBase(t),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(n,i),this.callBase(t),!0===this.option("focusStateEnabled")){var r=this.option("selectedIndex"),a=this._itemElements().eq(r);this.option("focusedElement",Object(g.a)(a))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(n,i),this.callBase(t);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(n,i);break;case"focusedElement":var o=i?Object(s.a)(i).index():i,l=i?this._tabs._itemElements().eq(o):i;this._setTabsOption("focusedElement",Object(g.a)(l));var c=this._isDisabled(i);this._toggleWrapperFocusedClass(!c),this._toggleDisabledFocusedClass(c),this.callBase(t);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",i);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}});q.ItemClass=N,Object(c.a)("dxTabPanel",q);e.default=q},424:function(t,e,i){"use strict";var n=i(285),s=i(322),r=i(330),a=i(438),o=i(341),l=a.a.inherit({ctor:function(t){t=Array.isArray(t)?{data:t}:t||{},this.callBase(t);var e=t.data;if(e&&!Array.isArray(e))throw r.a.Error("E4006");this._array=e||[]},createQuery:function(){return Object(s.a)(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(t){var e=Object(o.c)(this,this._array,t);return-1===e?Object(n.k)(r.a.Error("E4009")):Object(n.m)(this._array[e])},_insertImpl:function(t){return Object(o.d)(this,this._array,t)},_pushImpl:function(t){Object(o.a)({keyInfo:this,data:this._array,changes:t})},_updateImpl:function(t,e){return Object(o.f)(this,this._array,t,e)},_removeImpl:function(t){return Object(o.e)(this,this._array,t)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array");e.a=l},438:function(t,e,i){"use strict";var n,s=i(254),r=i(260),a=i(422),o=i(244),l=i(330),c=i(285),h=i(263),d=i(361),u=i(245),_=i(243),f=i(242),p=r.a.abstract,m=d.a.queryByOptions,g={},v=r.a.inherit({_langParams:{},ctor:function(t){var e=this;t=t||{},this._eventsStrategy=new a.a(this),Object(o.a)(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],(function(i,n){n in t&&e.on(n.slice(2).toLowerCase(),t[n])})),this._key=t.key,this._errorHandler=t.errorHandler,this._useDefaultSearch=!0},_clearCache:_.n,_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(t){return this._keyGetter||(this._keyGetter=Object(h.a)(this.key())),this._keyGetter(t)},_requireKey:function(){if(!this.key())throw l.a.Error("E4005")},load:function(t){var e=this;return t=t||{},this._eventsStrategy.fireEvent("loading",[t]),this._withLock(this._loadImpl(t)).done((function(i){e._eventsStrategy.fireEvent("loaded",[i,t])}))},_loadImpl:function(t){return Object(f.e)(this._langParams)||((t=t||{})._langParams=Object(s.a)({},this._langParams,t._langParams)),m(this.createQuery(t),t).enumerate()},_withLock:function(t){var e=new u.a;return t.done((function(){var t=this,i=arguments;c.j.promise().done((function(){e.resolveWith(t,i)}))})).fail((function(){e.rejectWith(this,arguments)})),e},createQuery:p,totalCount:function(t){return this._totalCountImpl(t)},_totalCountImpl:function(t){return m(this.createQuery(t),t,!0).count()},byKey:function(t,e){return this._addFailHandlers(this._withLock(this._byKeyImpl(t,e)))},_byKeyImpl:p,insert:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("inserting",[t]),e._addFailHandlers(e._insertImpl(t).done((function(t,i){e._eventsStrategy.fireEvent("inserted",[t,i]),e._eventsStrategy.fireEvent("modified")})))},_insertImpl:p,update:function(t,e){var i=this;return i._eventsStrategy.fireEvent("modifying"),i._eventsStrategy.fireEvent("updating",[t,e]),i._addFailHandlers(i._updateImpl(t,e).done((function(){i._eventsStrategy.fireEvent("updated",[t,e]),i._eventsStrategy.fireEvent("modified")})))},_updateImpl:p,push:function(t){var e={changes:t,waitFor:[]};this._eventsStrategy.fireEvent("beforePushAggregation",[e]),Object(u.c)(...e.waitFor).done(()=>{this._pushImpl(t),this._eventsStrategy.fireEvent("beforePush",[{changes:t}]),this._eventsStrategy.fireEvent("push",[t])})},_pushImpl:_.n,remove:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("removing",[t]),e._addFailHandlers(e._removeImpl(t).done((function(t){e._eventsStrategy.fireEvent("removed",[t]),e._eventsStrategy.fireEvent("modified")})))},_removeImpl:p,_addFailHandlers:function(t){return t.fail(this._errorHandler).fail(l.b)},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}});v.create=function(t,e){if(!(t in g))throw l.a.Error("E4020",t);return new g[t](e)},v.registerClass=function(t,e){return e&&(g[e]=t),t},v.inherit=(n=v.inherit,function(t,e){var i=n.apply(this,[t]);return v.registerClass(i,e),i}),e.a=v},439:function(t,e,i){"use strict";var n=i(260),s=i(242),r=i(244),a=i(263),o=i(245),l=i(330),c=i(285),h=n.a.inherit({toArray:function(){var t=[];for(this.reset();this.next();)t.push(this.current());return t},countable:function(){return!1}}),d=h.inherit({ctor:function(t){this.array=t,this.index=-1},next:function(){return this.index+1<this.array.length&&(this.index++,!0)},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),u=h.inherit({ctor:function(t){this.iter=t},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),_=u.inherit({ctor:function(t,e){this.callBase(t),this.index=-1,this.mapper=e},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var t=this.callBase();return t&&this.index++,t}}),f=h.inherit({ctor:function(t,e,i,n){this.langParams=t.langParams,t instanceof _||((t=new _(t,this._wrap)).langParams=this.langParams),this.iter=t,this.rules=[{getter:e,desc:i,compare:n,langParams:this.langParams}]},thenBy:function(t,e,i){var n=new f(this.sortedIter||this.iter,t,e,i);return this.sortedIter||(n.rules=this.rules.concat(n.rules)),n},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var t=this;t.sortedIter||(Object(r.a)(t.rules,(function(){this.getter=Object(a.a)(this.getter)})),t.sortedIter=new _(new d(this.iter.toArray().sort((function(e,i){return t._compare(e,i)}))),t._unwrap))},_wrap:function(t,e){return{index:e,value:t}},_unwrap:function(t){return t.value},_getDefaultCompare:t=>(e,i)=>function(t,e,i){return Object(s.o)(t)&&Object(s.o)(e)&&(null!=i&&i.locale||null!=i&&i.collatorOptions)?new Intl.Collator((null==i?void 0:i.locale)||void 0,(null==i?void 0:i.collatorOptions)||void 0).compare(t,e):(t=Object(a.d)(t,!1,i),e=Object(a.d)(e,!1,i),null===t&&null!==e?-1:null!==t&&null===e||void 0===t&&void 0!==e?1:void 0!==t&&void 0===e||t<e?-1:t>e?1:0)}(e,i,t),_compare:function(t,e){var i=t.index,n=e.index;if((t=t.value)===(e=e.value))return i-n;for(var s=0,r=this.rules.length;s<r;s++){var a=this.rules[s],o=a.getter(t),l=a.getter(e),c=(a.compare||this._getDefaultCompare(a.langParams))(o,l);if(c)return a.desc?-c:c}return i-n}}),p=function(){var t={},e=e=>Object(a.d)(e,!1,t),i=function(e){var i;return Object(s.d)(e)?null!==(i=t)&&void 0!==i&&i.locale?e.toLocaleString(t.locale):e.toString():""};function n(t,i,n){return function(s){s=e(t(s));var r=function(t){return""===t||0===t||!1===t}(i)?s===i:s==i;return n&&(r=!r),r}}return function(o,h){return t=h||{},Object(s.h)(o)?o:Object(c.e)(o)?function(e){var i=[],n=!1,a=!1;return Object(r.a)(e,(function(){if(Array.isArray(this)||Object(s.h)(this)){if(i.length>1&&n!==a)throw new l.a.Error("E4019");i.push(p(this,t)),n=a,a=!0}else a=Object(c.d)(this)})),function(t){for(var e=n,s=0;s<i.length;s++)if(i[s](t)!==n){e=!n;break}return e}}(o):Object(c.f)(o)?function(e){var i=e[0],n=p(e[1],t);if("!"===i)return function(t){return!n(t)};throw l.a.Error("E4003",i)}(o):function(t){t=Object(c.h)(t);var s=Object(a.a)(t[0]),r=t[1],o=t[2];o=e(o);var h=(t,i)=>(t=e(s(t)),(null!=o&&null!=t||o===t)&&i(t,o));switch(r.toLowerCase()){case"=":return n(s,o);case"<>":return n(s,o,!0);case">":return t=>h(t,(t,e)=>t>e);case"<":return t=>h(t,(t,e)=>t<e);case">=":return t=>h(t,(t,e)=>t>=e);case"<=":return t=>h(t,(t,e)=>t<=e);case"startswith":return function(t){return 0===e(i(s(t))).indexOf(o)};case"endswith":return function(t){var n=e(i(s(t))),r=i(o);if(n.length<r.length)return!1;var a=n.lastIndexOf(o);return-1!==a&&a===n.length-o.length};case"contains":return function(t){return e(i(s(t))).indexOf(o)>-1};case"notcontains":return function(t){return-1===e(i(s(t))).indexOf(o)}}throw l.a.Error("E4003",r)}(o)}}(),m=u.inherit({ctor:function(t,e){this.callBase(t),this.langParams=t.langParams,this.criteria=p(e,this.langParams)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),g=h.inherit({ctor:function(t,e){this.iter=t,this.getter=e},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var t={},e=[],i=this.iter,n=Object(a.a)(this.getter);for(i.reset();i.next();){var s=i.current(),o=n(s);o in t?t[o].push(s):(t[o]=[s],e.push(o))}this.groupedIter=new d(Object(r.b)(e,(function(e){return{key:e,items:t[e]}})))}}}),v=u.inherit({ctor:function(t,e){this.callBase(t),this.getter=Object(a.a)(e)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),b=u.inherit({ctor:function(t,e,i){this.callBase(t),this.skip=Math.max(0,e),this.take=Math.max(0,i),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}});e.a=function t(e,i){i=i||{},e instanceof h||(e=new d(e)),i.langParams&&(e.langParams=i.langParams);var n=function(t){var e=i.errorHandler;e&&e(t),Object(l.b)(t)},r=function(t){var i=(new o.a).fail(n),s=t.step,r=t.finalize;try{e.reset();for(var a=("seed"in t?t.seed:e.next()?e.current():NaN);e.next();)a=s(a,e.current());i.resolve(r?r(a):a)}catch(t){i.reject(t)}return i.promise()},u=function(t){return r(c.b[t])},_=function(t){return Object(s.h)(t)||Array.isArray(t)||(t=[].slice.call(arguments)),y(new v(e,t))},p=function(t){return _(Object(a.a)(t))};function y(e){return t(e,i)}return{toArray:function(){return e.toArray()},enumerate:function(){var t=(new o.a).fail(n);try{t.resolve(e.toArray())}catch(e){t.reject(e)}return t.promise()},setLangParams(t){e.langParams=t},sortBy:function(t,i,n){return y(new f(e,t,i,n))},thenBy:function(t,i,n){if(e instanceof f)return y(e.thenBy(t,i,n));throw l.a.Error("E4004")},filter:function(t){return Array.isArray(t)||(t=[].slice.call(arguments)),y(new m(e,t))},slice:function(t,i){return void 0===i&&(i=Number.MAX_VALUE),y(new b(e,t,i))},select:_,groupBy:function(t){return y(new g(e,t))},aggregate:function(t,e,i){return r(arguments.length<2?{step:arguments[0]}:{seed:t,step:e,finalize:i})},count:function(){if(e.countable()){var t=(new o.a).fail(n);try{t.resolve(e.count())}catch(e){t.reject(e)}return t.promise()}return u("count")},sum:function(t){return t?p(t).sum():u("sum")},min:function(t){return t?p(t).min():u("min")},max:function(t){return t?p(t).max():u("max")},avg:function(t){return t?p(t).avg():u("avg")}}}},444:function(t,e,i){"use strict";var n=i(352),s=i(241),r=i(353),a=i(243),o=i(245),l={load:()=>Object(o.a)().reject(),loadSingle:()=>Object(o.a)().reject(),loadFromStore:()=>Object(o.a)().reject(),loadNextPage:()=>Object(o.a)().reject(),loadOptions:a.n,userData:a.n,cancel:a.n,cancelAll:a.n,filter:a.n,addSearchFilter:a.n,group:a.n,paginate:a.n,pageSize:a.n,pageIndex:a.n,resetDataSourcePageIndex:a.n,totalCount:a.n,isLastPage:a.n,isLoading:a.n,isLoaded:a.n,searchValue:a.n,searchOperation:a.n,searchExpr:a.n,select:a.n,key:a.n,keyOf:a.n,store:a.n,items:a.n,applyMapFunction:a.n,getDataSource:a.n,reload:a.n,on:a.n,off:a.n};var c=class{constructor(t){if(!t)return l;this._dataSource=t}load(){return this._dataSource.load()}loadSingle(t,e){return arguments.length<2&&(e=t,t=this.key()),this._dataSource.loadSingle(t,e)}loadFromStore(t){return this.store().load(t)}loadNextPage(){return this.pageIndex(1+this.pageIndex()),this.load()}loadOptions(){return this._dataSource.loadOptions()}userData(){return this._dataSource._userData}cancel(t){this._dataSource.cancel(t)}cancelAll(){this._dataSource.cancelAll()}filter(t){return this._dataSource.filter(t)}addSearchFilter(t){this._dataSource._addSearchFilter(t)}group(t){return this._dataSource.group(t)}paginate(){return this._dataSource.paginate()}pageSize(){return this._dataSource._pageSize}pageIndex(t){return this._dataSource.pageIndex(t)}resetDataSourcePageIndex(){this.pageIndex()&&(this.pageIndex(0),this.load())}totalCount(){return this._dataSource.totalCount()}isLastPage(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}isLoading(){return this._dataSource.isLoading()}isLoaded(){return this._dataSource.isLoaded()}searchValue(t){return arguments.length?this._dataSource.searchValue(t):this._dataSource.searchValue()}searchOperation(t){return this._dataSource.searchOperation(t)}searchExpr(t){return arguments.length?this._dataSource.searchExpr(t):this._dataSource.searchExpr()}select(){return this._dataSource.select(...arguments)}key(){return this._dataSource.key()}keyOf(t){return this.store().keyOf(t)}store(){return this._dataSource.store()}items(){return this._dataSource.items()}applyMapFunction(t){return this._dataSource._applyMapFunction(t)}getDataSource(){return this._dataSource||null}reload(){return this._dataSource.reload()}on(t,e){this._dataSource.on(t,e)}off(t,e){this._dataSource.off(t,e)}},h={postCtor:function(){this.on("disposing",function(){this._disposeDataSource()}.bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var t,e,i="_getSpecificDataSourceOption"in this?this._getSpecificDataSourceOption():this.option("dataSource");this._disposeDataSource(),i&&(i instanceof n.a?(this._isSharedDataSource=!0,this._dataSource=i):(t="_dataSourceOptions"in this?this._dataSourceOptions():{},e=this._dataSourceType?this._dataSourceType():n.a,i=Object(r.d)(i,{fromUrlLoadMode:"_dataSourceFromUrlLoadMode"in this&&this._dataSourceFromUrlLoadMode()}),this._dataSource=new e(Object(s.a)(!0,{},t,i))),"_normalizeDataSource"in this&&(this._dataSource=this._normalizeDataSource(this._dataSource)),this._addDataSourceHandlers(),this._initDataController())},_initDataController:function(){var t,e=null===(t=this.option)||void 0===t?void 0:t.call(this,"_dataController"),i=this._dataSource;this._dataController=e||new c(i)},_addDataSourceHandlers:function(){"_dataSourceChangedHandler"in this&&this._addDataSourceChangeHandler(),"_dataSourceLoadErrorHandler"in this&&this._addDataSourceLoadErrorHandler(),"_dataSourceLoadingChangedHandler"in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",function(t){this._ready&&this._ready(!t)}.bind(this))},_addDataSourceChangeHandler:function(){var t=this._dataSource;this._proxiedDataSourceChangedHandler=function(e){this._dataSourceChangedHandler(t.items(),e)}.bind(this),t.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this._dataSourceLoadErrorHandler.bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this._dataSourceLoadingChangedHandler.bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){var t=this._dataSource;t&&(t.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():t.load())},_loadSingle:function(t,e){return t="this"===t?this._dataSource.key()||"this":t,this._dataSource.loadSingle(t,e)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}};e.a=h},456:function(t,e,i){"use strict";var n=i(240),s=i(403),r=i(241),a=i(244),o=i(341),l=i(285),c=i(245),h=i(458),d=i(252),u=i(243);e.a=s.a.inherit({_getDefaultOptions:function(){return Object(r.a)(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){var t;this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=t=>{this._dataController.getDataSource()&&!this._dataController.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&t.storeLoadOptions&&(t.storeLoadOptions.skip+=this._correctionIndex)},null===(t=this._dataController)||void 0===t||t.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(t){var e=Object(n.a)(),i=this.key();return this.itemElements().each((s,r)=>{var a=Object(n.a)(r),o=this._getItemData(a);if(i?Object(l.g)(i,this.keyOf(o),t):this._isItemEquals(o,t))return e=a,!1}),e},_dataSourceChangedHandler:function(t,e){null!=e&&e.changes?this._modifyByChanges(e.changes):(this.callBase(t,e),this._refreshItemsCache())},_isItemEquals:function(t,e){t&&t.__dx_key__&&(t=t.data);try{return JSON.stringify(t)===JSON.stringify(e)}catch(i){return t===e}},_isItemStrictEquals:function(t,e){return this._isItemEquals(t,e)},_shouldAddNewGroup:function(t,e){var i=!1;return this.option("grouped")&&(t.length||(i=!0),Object(a.a)(t,(t,n)=>{"insert"===n.type&&(i=!0,Object(a.a)(e,(t,e)=>{if(void 0!==n.data.key&&n.data.key===e.key)return i=!1,!1}))})),i},_partialRefresh:function(){if(this.option("repaintChangesOnly")){var t=Object(h.a)(this._itemsCache,this._editStrategy.itemsGetter(),t=>t&&void 0!==t.__dx_key__?t.__dx_key__:this.keyOf(t),this._isItemStrictEquals.bind(this));if(t&&this._itemsCache.length&&!this._shouldAddNewGroup(t,this._itemsCache))return this._modifyByChanges(t,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var t=this._editStrategy.itemsGetter();try{this._itemsCache=Object(r.a)(!0,[],t),this.key()||(this._itemsCache=this._itemsCache.map((e,i)=>({__dx_key__:t[i],data:e})))}catch(e){this._itemsCache=Object(r.a)([],t)}}},_dispose:function(){this._dataController.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(t,e,i,n){if(n)this._renderItem(i.index,i.data,null,this._findItemElementByKey(i.key));else{var s=e[Object(o.c)(t,e,i.key)];s&&Object(o.f)(t,e,i.key,i.data).done(()=>{this._renderItem(e.indexOf(s),s,null,this._findItemElementByKey(i.key))})}},_insertByChange:function(t,e,i,n){Object(c.c)(n||Object(o.d)(t,e,i.data,i.index)).done(()=>{var t;this._beforeItemElementInserted(i);var n=this._getItemContainer(i.data);this._renderItem(null!==(t=i.index)&&void 0!==t?t:e.length,i.data,n),this._afterItemElementInserted(),this._correctionIndex++})},_getItemContainer:function(t){return this._itemContainer()},_updateSelectionAfterRemoveByChange:function(t){var e=this.option("selectedIndex");e>t?this.option("selectedIndex",e-1):e===t&&1===this.option("selectedItems").length?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(t){var e=this.option("selectedIndex");t.index<=e&&this.option("selectedIndex",e+1)},_afterItemElementInserted:u.n,_removeByChange:function(t,e,i,n){var s=n?i.index:Object(o.c)(t,e,i.key);if(n?i.oldItem:e[s]){var r=this._findItemElementByKey(i.key),a=this._extendActionArgs(r);this._waitDeletingPrepare(r).done(()=>{n?(this._updateIndicesAfterIndex(s-1),this._afterItemElementDeleted(r,a),this._updateSelectionAfterRemoveByChange(s)):(this._deleteItemElementByIndex(s),this._afterItemElementDeleted(r,a))}),this._correctionIndex--}},_modifyByChanges:function(t,e){var i=this._editStrategy.itemsGetter(),n={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},s=this._dataController,r=s.paginate(),a=s.group();(r||a)&&(t=t.filter(t=>"insert"!==t.type||void 0!==t.index)),t.forEach(t=>this["_".concat(t.type,"ByChange")](n,i,t,e)),this._renderedItemsCount=i.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(t,e,i){var n=t.children(this._itemSelector()).get(i);d.default.insertElement(t.get(0),e.get(0),n)},_optionChanged:function(t){switch(t.name){case"items":this._partialRefresh(t.value)||this.callBase(t);break;case"dataSource":this.option("repaintChangesOnly")&&t.value||this.option("items",[]),this.callBase(t);break;case"repaintChangesOnly":break;default:this.callBase(t)}}})},457:function(t,e,i){"use strict";var n=i(240),s=i(285),r=i(341),a=i(242),o=i(279),l=i(330),c=i(438),h=i(439),d=i(361),u=i(245);function _(t){return t&&Object(a.h)(t.then)}function f(t){return(new u.a).resolve(t).promise()}function p(t,e){if(!Object(a.h)(e))throw l.a.Error("E4011",t)}function m(t){throw l.a.Error("E4012",t)}function g(t){function e(t){var e=t[0],i=t[1];return e&&e.getResponseHeader?Object(s.c)(e,i):null}return function(i){var n;(n=i instanceof Error?i:new Error(e(arguments)||i&&String(i)||"Unknown error")).message!==s.a&&t.reject(n)}}function v(t,e){var i,n=t._loadFunc;return p("load",n),i=n.apply(t,[e]),Array.isArray(i)?i=f(i):null==i?i=f([]):_(i)||m("load"),Object(u.b)(i)}function b(t,e,i,n){if(e.__rawData)n(e.__rawData);else{var s=e.__rawDataPromise||v(e,i);e._cacheRawData&&(e.__rawDataPromise=s),s.always((function(){delete e.__rawDataPromise})).done((function(t){e._cacheRawData&&(e.__rawData=t),n(t)})).fail(g(t))}}function y(t,e,i,s){var r={};"userData"in(i=i||{})&&(r.userData=i.userData),b(t,e,r,(function(r){var a,o,l,c,_=Object(h.a)(r,{errorHandler:e._errorHandler}),f=[];s||((a=d.a.queryByOptions(_,i))===_?l=r.slice(0):f.push(a.enumerate().done((function(t){l=t})))),(i.requireTotalCount||s)&&((o=d.a.queryByOptions(_,i,!0))===_?c=r.length:f.push(o.count().done((function(t){c=t})))),u.c.apply(n.a,f).done((function(){s?t.resolve(c):i.requireTotalCount?t.resolve(l,{totalCount:c}):t.resolve(l)})).fail((function(e){t.reject(e)}))}))}var I=c.a.inherit({ctor:function(t){t=t||{},this.callBase(t),this._useDefaultSearch=!!t.useDefaultSearch||"raw"===t.loadMode,this._loadMode=t.loadMode,this._cacheRawData=!1!==t.cacheRawData,this._loadFunc=t.load,this._totalCountFunc=t.totalCount,this._byKeyFunc=t.byKey,this._insertFunc=t.insert,this._updateFunc=t.update,this._removeFunc=t.remove},_clearCache(){delete this.__rawData},createQuery:function(){throw l.a.Error("E4010")},clearRawDataCache:function(){this._clearCache()},_totalCountImpl:function(t){var e=new u.a;return"raw"!==this._loadMode||this._totalCountFunc?(function(t,e){var i,n=t._totalCountFunc;if(!Object(a.h)(n))throw l.a.Error("E4021");return _(i=n.apply(t,[e]))||(i=Number(i),isFinite(i)||m("totalCount"),i=f(i)),Object(u.b)(i)}(this,t).done((function(t){e.resolve(Number(t))})).fail(g(e)),e=this._addFailHandlers(e)):y(e,this,t,!0),e.promise()},_pushImpl:function(t){this.__rawData&&Object(r.a)({keyInfo:this,data:this.__rawData,changes:t})},_loadImpl:function(t){var e=new u.a;return"raw"===this._loadMode?y(e,this,t,!1):(v(this,t).done((function(t,i){e.resolve(t,i)})).fail(g(e)),e=this._addFailHandlers(e)),e.promise()},_byKeyImpl:function(t,e){var i=new u.a;return this._byKeyViaLoad()?(this._requireKey(),function(t,e,i){b(t,e,{},(function(n){for(var r,a=e.key(),o=0,c=n.length;o<c;o++)if(r=n[o],Object(s.g)(a,e.keyOf(n[o]),i))return void t.resolve(r);t.reject(l.a.Error("E4009"))}))}(i,this,t)):function(t,e,i){var n,s=t._byKeyFunc;return p("byKey",s),_(n=s.apply(t,[e,i]))||(n=f(n)),Object(u.b)(n)}(this,t,e).done((function(t){i.resolve(t)})).fail(g(i)),i.promise()},_byKeyViaLoad:function(){return"raw"===this._loadMode&&!this._byKeyFunc},_insertImpl:function(t){var e,i=this,n=i._insertFunc,s=new u.a;return p("insert",n),_(e=n.apply(i,[t]))||(e=f(e)),Object(u.b)(e).done((function(e){Object(o.a)().useLegacyStoreResult?s.resolve(t,e):s.resolve(e||t,i.keyOf(e))})).fail(g(s)),s.promise()},_updateImpl:function(t,e){var i,n=this._updateFunc,s=new u.a;return p("update",n),_(i=n.apply(this,[t,e]))||(i=f(i)),Object(u.b)(i).done((function(i){Object(o.a)().useLegacyStoreResult?s.resolve(t,e):s.resolve(i||e,t)})).fail(g(s)),s.promise()},_removeImpl:function(t){var e,i=this._removeFunc,n=new u.a;return p("remove",i),_(e=i.apply(this,[t]))||(e=f()),Object(u.b)(e).done((function(){n.resolve(t)})).fail(g(n)),n.promise()}});e.a=I},458:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return o}));var n=i(242),s=function(t,e){var i=e(t);if(Object(n.j)(i))try{return JSON.stringify(i)}catch(t){return i}return i},r=function(t,e,i,n){return e[i[s(t,n)]]},a=function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<e.length;i++)if(t[i]!==e[i])return!1;return!0},o=function(t,e,i,n){var a={},o={},l=0,c=0,h=[];t.forEach((function(t,e){var n=s(t,i);a[n]=e})),e.forEach((function(t,e){var n=s(t,i);o[n]=e}));for(var d=Math.max(t.length,e.length),u=0;u<d+l;u++){var _=e[u],f=u-l+c,p=t[f];if(!_||p&&!r(p,e,o,i))p&&(h.push({type:"remove",key:i(p),index:u,oldItem:p}),c++,u--);else{var m=s(_,i),g=a[m],v=t[g];if(v){if(g!==f)return;n(v,_)||h.push({type:"update",data:_,key:i(_),index:u,oldItem:v})}else l++,h.push({type:"insert",data:_,index:u})}}return h}},459:function(t,e,i){"use strict";i.d(e,"c",(function(){return l})),i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return c}));var n=i(249),s=i(248),r=i(358),a=i(323),o="dxswipestart",l="dxswipe",c="dxswipeend",h={horizontal:{defaultItemSizeFunc:function(){return Object(n.l)(this.getElement())},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(t){return(Object(s.c)(t).x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=Object(s.c)(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.x-this._tickData.x)>=e.time-this._tickData.time}},vertical:{defaultItemSizeFunc:function(){return Object(n.d)(this.getElement())},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(t){return(Object(s.c)(t).y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=Object(s.c)(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.y-this._tickData.y)>=e.time-this._tickData.time}}},d=r.a.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(t){this.callBase(t),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return h[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(t){this._tickData=Object(s.c)(t)},_start:function(t){this._savedEventData=Object(s.c)(t),(t=this._fireEvent(o,t)).cancel||(this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset)},_move:function(t){var e=this._getStrategy(),i=Object(s.c)(t),n=e.calcOffsetRatio.call(this,t);n=this._fitOffset(n,this.elastic),i.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=i),this._fireEvent(l,t,{offset:n}),!1!==t.cancelable&&t.preventDefault()},_end:function(t){var e=this._getStrategy(),i=e.calcOffsetRatio.call(this,t),n=e.isFastSwipe.call(this,t),s=i,r=this._calcTargetOffset(i,n);s=this._fitOffset(s,this.elastic),r=this._fitOffset(r,!1),this._fireEvent(c,t,{offset:s,targetOffset:r})},_fitOffset:function(t,e){var i=this._getStrategy().getBounds.call(this);return t<-i[0]?e?(-2*i[0]+t)/3:-i[0]:t>i[1]?e?(2*i[1]+t)/3:i[1]:t},_calcTargetOffset:function(t,e){var i;return e?(i=Math.ceil(Math.abs(t)),t<0&&(i=-i)):i=Math.round(t),i}});Object(a.a)({emitter:d,events:[o,l,c]})},460:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return r})),i.d(e,"d",(function(){return a}));var n="vertical",s="horizontal",r="both",a="dx-scrollable-content"},465:function(t,e,i){"use strict";var n=i(240),s=i(260),r=i(243),a=i(252),o=i(242),l=s.a.abstract,c=s.a.inherit({ctor:function(t){this._collectionWidget=t},getIndexByItemData:l,getItemDataByIndex:l,getKeysByItems:l,getItemsByKeys:l,itemsGetter:l,getKeyByIndex:function(t){var e=this._denormalizeItemIndex(t);return this.getKeysByItems([this.getItemDataByIndex(e)])[0]},_equalKeys:function(t,e){return this._collectionWidget._isKeySpecified()?Object(r.h)(t,e):t===e},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:l,getNormalizedIndex:function(t){return this._isNormalizedItemIndex(t)?t:this._isItemIndex(t)?this._normalizeItemIndex(t):this._isNode(t)?this._getNormalizedItemIndex(t):this._normalizeItemIndex(this.getIndexByItemData(t))},getIndex:function(t){return this._isNormalizedItemIndex(t)?this._denormalizeItemIndex(t):this._isItemIndex(t)?t:this._isNode(t)?this._denormalizeItemIndex(this._getNormalizedItemIndex(t)):this.getIndexByItemData(t)},getItemElement:function(t){if(this._isNormalizedItemIndex(t))return this._getItemByNormalizedIndex(t);if(this._isItemIndex(t))return this._getItemByNormalizedIndex(this._normalizeItemIndex(t));if(this._isNode(t))return Object(n.a)(t);var e=this._normalizeItemIndex(this.getIndexByItemData(t));return this._getItemByNormalizedIndex(e)},_isNode:t=>a.default.isNode(t&&Object(o.n)(t)?t.get(0):t),deleteItemAtIndex:l,itemPlacementFunc:function(t,e){return this._itemsFromSameParent(t,e)&&t<e?"after":"before"},moveItemAtIndexToIndex:l,_isNormalizedItemIndex:function(t){return"number"==typeof t&&Math.round(t)===t},_isItemIndex:l,_getNormalizedItemIndex:l,_normalizeItemIndex:l,_denormalizeItemIndex:l,_getItemByNormalizedIndex:l,_itemsFromSameParent:l}).inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget);return e?this.getIndexByKey(e(t)):this._getPlainItems().indexOf(t)},getItemDataByIndex:function(t){return this._getPlainItems()[t]},deleteItemAtIndex:function(t){this._getPlainItems().splice(t,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget),i=t;if(e){i=[];for(var n=0;n<t.length;n++)i.push(e(t[n]))}return i},getIndexByKey:function(t){var e=this._cache,i=e&&e.keys||this.getKeysByItems(this._getPlainItems());if(e&&!e.keys&&(e.keys=i),"object"!=typeof t)return i.indexOf(t);for(var n=0,s=i.length;n<s;n++)if(this._equalKeys(t,i[n]))return n;return-1},getItemsByKeys:function(t,e){return(e||t).slice()},moveItemAtIndexToIndex:function(t,e){var i=this._getPlainItems(),n=i[t];i.splice(t,1),i.splice(e,0,n)},_isItemIndex:function(t){return"number"==typeof t&&Math.round(t)===t},_getNormalizedItemIndex:function(t){return this._collectionWidget._itemElements().index(t)},_normalizeItemIndex:function(t){return t},_denormalizeItemIndex:function(t){return t},_getItemByNormalizedIndex:function(t){return t>-1?this._collectionWidget._itemElements().eq(t):null},_itemsFromSameParent:function(){return!0}});e.a=c},498:function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n=i(240),s=i(246),r=i(278),a=i(251),o=i(260),l=i(297),c=i(248),h=i(362),d=Object(c.a)("contextmenu","dxContexMenu"),u=Object(c.a)(h.a.name,"dxContexMenu"),_=o.a.inherit({setup:function(t){var e=Object(n.a)(t);s.a.on(e,d,this._contextMenuHandler.bind(this)),(r.touch||a.a.isSimulator())&&s.a.on(e,u,this._holdHandler.bind(this))},_holdHandler:function(t){Object(c.k)(t)&&!a.a.isSimulator()||this._fireContextMenu(t)},_contextMenuHandler:function(t){this._fireContextMenu(t)},_fireContextMenu:function(t){return Object(c.f)({type:"dxcontextmenu",originalEvent:t})},teardown:function(t){s.a.off(t,".dxContexMenu")}});Object(l.a)("dxcontextmenu",new _);var f="dxcontextmenu"},499:function(t,e,i){"use strict";var n=i(459),s=i(246),r=i(349),a=i(244),o=i(248),l=i(241),c=i(421),h={onStart:n.b,onUpdated:n.c,onEnd:n.a,onCancel:"dxswipecancel"},d=r.a.inherit({_getDefaultOptions:function(){return Object(l.a)(this.callBase(),{elastic:!0,immediate:!1,immediateTimeout:180,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass("dx-swipeable"),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var t=this.NAME;this._createEventData(),Object(a.a)(h,function(e,i){var n=this._createActionByOption(e,{context:this});i=Object(o.a)(i,t),s.a.on(this.$element(),i,this._eventData,(function(t){return n({event:t})}))}.bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate"),immediateTimeout:this.option("immediateTimeout")}},_detachEventHandlers:function(){s.a.off(this.$element(),".dxSwipeable")},_optionChanged:function(t){switch(t.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(t)}},_useTemplates:function(){return!1}});Object(c.c)(d,"dxSwipeable"),e.a=d},500:function(t,e,i){"use strict";var n=i(243),s=i(260),r=i(430),a=s.a.abstract,o=s.a.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,Object(r.a)(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped())this._stop();else{if(this._isFinished())return this._finished=!0,void this._complete();this._step(),this._stepAnimationFrame=Object(r.b)(this._proxiedStepCore)}},_step:a,_isFinished:n.n,_stop:n.n,_complete:n.n,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}});e.a=o},501:function(t,e,i){"use strict";var n=i(240),s=i(252),r=i(246),a=i(288),o=i(266),l=i(272),c=i(248),h=i(243),d=i(242),u=i(241),_=i(268),f="".concat("dx-scrollable-scrollbar","-active"),p="onScroll",m="onHover",g="always",v="never",b=null,y=l.a.inherit({_getDefaultOptions:function(){return Object(u.a)(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:p,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass("dx-scrollbar-hoverable",this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=Object(n.a)("<div>").addClass("dx-scrollable-scroll"),Object(n.a)("<div>").addClass("dx-scrollable-scroll-content").appendTo(this._$thumb),this.$element().addClass("dx-scrollable-scrollbar").append(this._$thumb)},isThumb:function(t){return!!this.$element().find(t).length},_isHoverMode:function(){var t=this.option("visibilityMode");return(t===m||t===g)&&this.option("expandable")},_renderDirection:function(){var t=this.option("direction");this.$element().addClass("dx-scrollbar-"+t),this._dimension="horizontal"===t?"width":"height",this._prop="horizontal"===t?"left":"top"},_attachPointerDownHandler:function(){r.a.on(this._$thumb,Object(c.a)(_.a.down,"dxScrollbar"),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(f),b=this},feedbackOff:function(){this.$element().removeClass(f),b=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(t){this.option("visibilityMode")===p&&this._$thumb.css("opacity"),t=this._adjustVisibility(t),this.option().visible=t,this._$thumb.toggleClass("dx-state-invisible",!t)},_adjustVisibility:function(t){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case p:break;case m:t=t||!!this._isHovered;break;case v:t=!1;break;case g:t=!0}return t},moveTo:function(t){if(!this._isHidden()){Object(d.k)(t)&&(t=t[this._prop]||0);var e={};e[this._prop]=this._calculateScrollBarPosition(t),Object(o.e)(this._$thumb,e)}},_calculateScrollBarPosition:function(t){return-t*this._thumbRatio},_update:function(){var t=Math.round(this.option("containerSize")),e=Math.round(this.option("contentSize")),i=Math.round(this.option("baseContainerSize")),n=Math.round(this.option("baseContentSize"));isNaN(i)&&(i=t,n=e),this._baseContainerToContentRatio=n?i/n:i,this._realContainerToContentRatio=e?t/e:t;var s=Math.round(Math.max(Math.round(t*this._realContainerToContentRatio),15));this._thumbRatio=(t-s)/(this.option("scaleRatio")*(e-t)),this.option(this._dimension,s/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===v},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(t){return Object(d.k)(t)?t[this._dimension]||0:t},_clean:function(){this.callBase(),this===b&&(b=null),r.a.off(this._$thumb,".dxScrollbar")},_optionChanged:function(t){if(!this._isHidden())switch(t.name){case"containerSize":case"contentSize":this.option()[t.name]=this._normalizeSize(t.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:Object(h.d)((function(){this._adjustVisibility()&&this.option("visible",!0)}))});a.a.add((function(){r.a.subscribeGlobal(s.default.getDocument(),Object(c.a)(_.a.up,"dxScrollbar"),(function(){b&&b.feedbackOff()}))})),e.a=y},502:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i(251),s=i(278),r=function(){return[{device:function(){return!s.nativeScrolling},options:{useNative:!1}},{device:function(t){return!n.a.isSimulator()&&"desktop"===n.a.real().deviceType&&"generic"===t.platform},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:s.touch,showScrollbar:"onHover"}}]}},503:function(t,e,i){"use strict";function n(t,e){for(var i={left:0,top:0},n=e;null!==(s=n)&&void 0!==s&&s.offsetParent&&!n.classList.contains(t);){var s,r=n.offsetParent,a=n.getBoundingClientRect(),o=r.getBoundingClientRect();i.left+=a.left-o.left,i.top+=a.top-o.top,n=n.offsetParent}return i}i.d(e,"a",(function(){return n}))},504:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i(460);class s{constructor(t){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=null!=t?t:n.c}get isHorizontal(){return this.direction===n.b||this.direction===n.a}get isVertical(){return this.direction===n.c||this.direction===n.a}get isBoth(){return this.direction===n.a}}},519:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i(242),s=i(322),r=i(243),a=i(245);class o{constructor(t){this.options=t,this._setOption("disabledItemKeys",[]),this._clearItemKeys()}_clearItemKeys(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])}validate(){}_setOption(t,e){this.options[t]=e}onSelectionChanged(){var t=this.options.addedItemKeys,e=this.options.removedItemKeys,i=this.options.addedItems,n=this.options.removedItems,s=this.options.selectedItems,a=this.options.selectedItemKeys,o=this.options.onSelectionChanged||r.n;this._clearItemKeys(),o({selectedItems:s,selectedItemKeys:a,addedItemKeys:t,removedItemKeys:e,addedItems:i,removedItems:n})}equalKeys(t,e){return this.options.equalByReference&&Object(n.j)(t)&&Object(n.j)(e)?t===e:Object(r.h)(t,e)}getSelectableItems(t){return t.filter((function(t){return!(null!=t&&t.disabled)}))}_clearSelection(t,e,i,n){return t=t||[],t=Array.isArray(t)?t:[t],this.validate(),this.selectedItemKeys(t,e,i,n)}_removeTemplateProperty(t){return Array.isArray(t)?t.map(t=>this._removeTemplateProperty(t)):(Object(n.j)(t)&&delete t.template,t)}_loadFilteredData(t,e,i,r){var o=encodeURI(JSON.stringify(this._removeTemplateProperty(t))).length,l=this.options.maxFilterLengthInRequest&&o>this.options.maxFilterLengthInRequest,c=new a.a,h={filter:l?void 0:t,select:l?this.options.dataFields():i||this.options.dataFields()};return t&&0===t.length?c.resolve([]):this.options.load(h).done((function(i){var a=Object(n.k)(i)?i.data:i;e&&!r?a=a.filter(e):l&&(a=Object(s.a)(a).filter(t).toArray()),c.resolve(a)})).fail(c.reject.bind(c)),c}updateSelectedItemKeyHash(t){for(var e=0;e<t.length;e++){var i=Object(r.l)(t[e]);if(!Object(n.j)(i))this.options.keyHashIndices[i]=this.options.keyHashIndices[i]||[],this.options.keyHashIndices[i].push(e)}}_isAnyItemSelected(t){for(var e=0;e<t.length;e++)if(this.options.isItemSelected(t[e]))return;return!1}_getFullSelectAllState(){var t=this.options.plainItems(),e=this.options.filter(),i=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(t=>!(null!=t&&t.disabled));e&&(i=Object(s.a)(i).filter(e).toArray());var n=i.length,r=t.length-this.getSelectableItems(t).length;return n?n>=this.options.totalCount()-r||void 0:this._isAnyItemSelected(t)}_getVisibleSelectAllState(){for(var t=this.getSelectableItems(this.options.plainItems()),e=!1,i=!1,n=0;n<t.length;n++){var s=t[n],r=this.options.getItemData(s),a=this.options.keyOf(r);this.options.isSelectableItem(s)&&(this.isItemKeySelected(a)?e=!0:i=!0)}return!!e&&(!i||void 0)}}var l=i(259);class c extends o{getSelectedItems(){return this._loadFilteredData(this.options.selectionFilter)}getSelectedItemKeys(){var t=new a.a,e=this,i=this.options.key(),s=Object(n.o)(i)?[i]:i;return this._loadFilteredData(this.options.selectionFilter,null,s).done((function(i){var n=i.map((function(t){return e.options.keyOf(t)}));t.resolve(n)})).fail(t.reject),t.promise()}selectedItemKeys(t,e,i,n){if(n){var s=this.options.filter();!s||JSON.stringify(s)===JSON.stringify(this.options.selectionFilter)&&i?this._setOption("selectionFilter",i?[]:null):this._addSelectionFilter(i,s,n)}else{e||this._setOption("selectionFilter",[]);for(var r=0;r<t.length;r++)i?this.removeSelectedItem(t[r]):this.addSelectedItem(t[r],n,!e)}return this.onSelectionChanged(),(new a.a).resolve()}setSelectedItems(t){this._setOption("selectionFilter",null);for(var e=0;e<t.length;e++)this.addSelectedItem(t[e])}isItemDataSelected(t){return this.isItemKeySelected(t)}isItemKeySelected(t){var e=this.options.selectionFilter;return!e||!!Object(s.a)([t]).filter(e).toArray().length}_getKeyExpr(){var t=this.options.key();return Array.isArray(t)&&1===t.length?t[0]:t}_normalizeKey(t){var e=this.options.key();return Array.isArray(e)&&1===e.length?t[e[0]]:t}_getFilterByKey(t){var e=this._getKeyExpr(),i=[e,"=",this._normalizeKey(t)];if(Array.isArray(e)){i=[];for(var n=0;n<e.length;n++)i.push([e[n],"=",t[e[n]]]),n!==e.length-1&&i.push("and")}return i}addSelectedItem(t,e,i){var n=this._getFilterByKey(t);this._addSelectionFilter(!1,n,e,i)}removeSelectedItem(t){var e=this._getFilterByKey(t);this._addSelectionFilter(!0,e)}validate(){var t=this.options.key;if(t&&void 0===t())throw l.a.Error("E1042","Deferred selection")}_findSubFilter(t,e){if(!t)return-1;for(var i=JSON.stringify(e),n=0;n<t.length;n++){var s=t[n];if(s&&JSON.stringify(s)===i)return n}return-1}_isLastSubFilter(t,e){return!(!t||!e)&&(this._findSubFilter(t,e)===t.length-1||0===this._findSubFilter([t],e))}_addFilterOperator(t,e){return t.length>1&&Object(n.o)(t[1])&&t[1]!==e&&(t=[t]),t.length&&t.push(e),t}_denormalizeFilter(t){return t&&Object(n.o)(t[0])&&(t=[t]),t}_isOnlyNegativeFiltersLeft(t){return t.every((t,e)=>e%2==0?Array.isArray(t)&&"!"===t[0]:"and"===t)}_addSelectionFilter(t,e,i,n){var s,r=t?["!",e]:e,a=t?"and":"or",o=!0,l=this.options.selectionFilter||[];if(null!==(s=l=this._denormalizeFilter(l))&&void 0!==s&&s.length&&!n){var c=this._removeSameFilter(l,e,t,i),h=this._removeSameFilter(l,e,!t);t&&(-1!==c||-1!==h)&&this._isOnlyNegativeFiltersLeft(l)&&(l=[]);var d=this._isKeyFilter(e)&&this._hasKeyFiltersOnlyStartingFromIndex(l,h);o=e.length&&!d}o&&(l=this._addFilterOperator(l,a)).push(r),l=this._normalizeFilter(l),this._setOption("selectionFilter",t||l.length?l:null)}_normalizeFilter(t){return t&&1===t.length&&(t=t[0]),t}_removeFilterByIndex(t,e,i){var n=t[1];e>0?t.splice(e-1,2):t.splice(e,2),i&&"and"===n&&t.splice(0,t.length)}_isSimpleKeyFilter(t,e){return 3===t.length&&t[0]===e&&"="===t[1]}_isKeyFilter(t){if(2===t.length&&"!"===t[0])return this._isKeyFilter(t[1]);var e=this._getKeyExpr();if(Array.isArray(e)){if(t.length!==2*e.length-1)return!1;for(var i=0;i<e.length;i++){if(i>0&&"and"!==t[2*i-1])return!1;if(!this._isSimpleKeyFilter(t[2*i],e[i]))return!1}return!0}return this._isSimpleKeyFilter(t,e)}_hasKeyFiltersOnlyStartingFromIndex(t,e){if(e>=0){for(var i=e;i<t.length;i++)if("string"!=typeof t[i]&&!this._isKeyFilter(t[i]))return!1;return!0}return!1}_removeSameFilter(t,e,i,n){if(e=i?["!",e]:e,JSON.stringify(e)===JSON.stringify(t))return t.splice(0,t.length),0;var s=this._findSubFilter(t,e);if(s>=0)return this._removeFilterByIndex(t,s,n),s;for(var r=0;r<t.length;r++)if(Array.isArray(t[r])&&t[r].length>2){var a=this._removeSameFilter(t[r],e,!1,n);if(a>=0)return t[r].length?1===t[r].length&&(t[r]=t[r][0]):this._removeFilterByIndex(t,r,n),a}return-1}getSelectAllState(){var t=this.options.filter(),e=this.options.selectionFilter;return!e||!!e.length&&(t&&t.length?(e=this._denormalizeFilter(e),!!this._isLastSubFilter(e,t)||!this._isLastSubFilter(e,["!",t])&&void 0):void 0)}loadSelectedItemsWithFilter(){var t=this.options.filter(),e=this.options.selectionFilter,i=t?[t,"and",e]:e;return this._loadFilteredData(i)}}var h=i(338),d=i(458),u=function(t,e){var i;this.getLocalFilter=function(t,e,i,n){return e=void 0===e?r.h:e,s.bind(this,e,t,i,n)},this.getExpr=function(i){var s;if(i)return t.forEach((function(t,r){var o;s=s||[],r>0&&s.push(e?"and":"or"),o=Object(n.o)(i)?a(i,t):function(t,i){for(var n=[],s=0,r=t.length;s<r;s++){var o=t[s],l=a(o,i&&i[o]);if(!l)break;s>0&&n.push(e?"or":"and"),n.push(l)}return n}(i,t),s.push(o)})),s&&1===s.length&&(s=s[0]),s},this.getCombinedFilter=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=this.getExpr(t),r=s;return(n||e)&&i&&(s?((r=[]).push(s),r.push(i)):r=i),r};function s(s,a,o,l,c){var h,d,u=a(c);if(!o&&(h=Object(r.l)(u),!Object(n.j)(h)))return function(e,n){if(!i){i={};for(var s=function(t,e,i){return Array.isArray(i)?t.map(t=>e(t)):t}(t,e,n),a=0;a<s.length;a++)i[Object(r.l)(s[a])]=!0}return i}(a,l)[h]?!e:!!e;for(d=0;d<t.length;d++)if(s(t[d],u))return!e;return!!e}function a(t,i){if(void 0!==i)return[t,e?"<>":"=",i]}};class _ extends o{constructor(t){super(t),this._initSelectedItemKeyHash()}_initSelectedItemKeyHash(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})}getSelectedItemKeys(){return this.options.selectedItemKeys.slice(0)}getSelectedItems(){return this.options.selectedItems.slice(0)}_preserveSelectionUpdate(t,e){var i,n,s,r=this.options.keyOf;if(r){var a=e&&t.length>1&&!this.options.equalByReference;for(a&&(i={}),s=0;s<t.length;s++){var o=t[s],l=r(o);e?(n=this.removeSelectedItem(l,i,null==o?void 0:o.disabled),i&&n>=0&&(i[n]=!0)):this.addSelectedItem(l,o)}a&&this._batchRemoveSelectedItems(i)}}_batchRemoveSelectedItems(t){var e=this.options.selectedItemKeys.slice(0),i=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var n=0;n<e.length;n++)t[n]||(this.options.selectedItemKeys.push(e[n]),this.options.selectedItems.push(i[n]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_loadSelectedItemsCore(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=new a.a,l=this.options.key();if(!t.length&&!i)return o.resolve([]),o;if(i&&e&&!n)return o.resolve(this.getSelectedItems()),o;var c=new u(t,i),h=c.getCombinedFilter(l,n,r),d=[];if(e){var _=this.options.selectedItems;d=h&&t.length!==_.length?Object(s.a)(_).filter(h).toArray():_.slice(0)}var f=d.length?d:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),p=c.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,l);return f=f.filter(p),d.length||!i&&f.length===t.length?o.resolve(f):o=this._loadFilteredData(h,p,null,i),o}_replaceSelectionUpdate(t){var e=[],i=this.options.keyOf;if(i){for(var n=0;n<t.length;n++){var s=i(t[n]);e.push(s)}this.setSelectedItems(e,t)}}_warnOnIncorrectKeys(t){for(var e=this.options.allowNullValue,i=0;i<t.length;i++){var n=t[i];e&&null===n||this.isItemKeySelected(n)||l.a.log("W1002",n)}}_isMultiSelectEnabled(){var t=this.options.mode;return"all"===t||"multiple"===t}_requestInProgress(){var t;return"pending"===(null===(t=this._lastLoadDeferred)||void 0===t?void 0:t.state())}_concatRequestsItems(t,e,i,n){var s,r=e?t:[];return s=n||Object(h.d)(t,this.options.selectedItemKeys),{addedItems:i.added.concat(s),removedItems:i.removed.concat(r),keys:t}}_collectLastRequestData(t,e,i,n){var s=e&&i,r={added:[],removed:[]},a=this._isMultiSelectEnabled(),o=a?this._lastRequestData:{};return a&&(this._shouldMergeWithLastRequest&&(s?(this._lastLoadDeferred.reject(),o={}):Object(d.b)(t,this.options.selectedItemKeys)||(r.added=o.addedItems,r.removed=o.removedItems,e||this._lastLoadDeferred.reject())),o=this._concatRequestsItems(t,e,r,this._shouldMergeWithLastRequest?void 0:n)),o}_updateKeysByLastRequestData(t,e,i){var n,s,r=t;this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!e&&!i&&(r=Object(h.d)(t.concat(null===(n=this._lastRequestData)||void 0===n?void 0:n.addedItems),null===(s=this._lastRequestData)||void 0===s?void 0:s.removedItems),r=Object(h.a)(r));return r}_loadSelectedItems(t,e,i,n){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this,o=new a.a,l=r.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(t,e,i,n),Object(a.c)(r._lastLoadDeferred).always((function(){var n=r._updateKeysByLastRequestData(t,e,i);r._shouldMergeWithLastRequest=!1,r._loadSelectedItemsCore(n,e,i,l,s).done(o.resolve).fail(o.reject)})),r._lastLoadDeferred=o,o}selectedItemKeys(t,e,i,n,s){var r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=this,o=a._loadSelectedItems(t,i,n,s,r);return o.done((function(t){e?a._preserveSelectionUpdate(t,i):a._replaceSelectionUpdate(t),a.onSelectionChanged()})),o}addSelectedItem(t,e){if(Object(n.d)(e)&&!this.options.ignoreDisabledItems&&e.disabled)-1===this.options.disabledItemKeys.indexOf(t)&&this.options.disabledItemKeys.push(t);else{var i=this._getKeyHash(t);-1===this._indexOfSelectedItemKey(i)&&(!Object(n.j)(i)&&this.options.keyHashIndices&&(this.options.keyHashIndices[i]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(t),this.options.addedItemKeys.push(t),this.options.addedItems.push(e),this.options.selectedItems.push(e))}}_getSelectedIndexByKey(t,e){for(var i=this.options.selectedItemKeys,n=0;n<i.length;n++)if((!e||!e[n])&&this.equalKeys(i[n],t))return n;return-1}_getSelectedIndexByHash(t,e){var i=this.options.keyHashIndices[t];return i&&i.length>1&&e&&(i=i.filter((function(t){return!e[t]}))),i&&i[0]>=0?i[0]:-1}_indexOfSelectedItemKey(t,e){return this.options.equalByReference?this.options.selectedItemKeys.indexOf(t):Object(n.j)(t)?this._getSelectedIndexByKey(t,e):this._getSelectedIndexByHash(t,e)}_shiftSelectedKeyIndices(t){for(var e=t;e<this.options.selectedItemKeys.length;e++){var i=this.options.selectedItemKeys[e],n=Object(r.l)(i),s=this.options.keyHashIndices[n];if(s)for(var a=0;a<s.length;a++)s[a]>t&&s[a]--}}removeSelectedItem(t,e,i){if(this.options.ignoreDisabledItems||!i){var s=this._getKeyHash(t),r=!!e,a=this._indexOfSelectedItemKey(s,e);if(a<0)return a;if(this.options.removedItemKeys.push(t),this.options.removedItems.push(this.options.selectedItems[a]),r)return a;if(this.options.selectedItemKeys.splice(a,1),this.options.selectedItems.splice(a,1),Object(n.j)(s)||!this.options.keyHashIndices)return a;var o=this.options.keyHashIndices[s];return o?(o.shift(),o.length||delete this.options.keyHashIndices[s],this._shiftSelectedKeyIndices(a),a):a}}_updateAddedItemKeys(t,e){for(var i=0;i<t.length;i++)this.isItemKeySelected(t[i])||(this.options.addedItemKeys.push(t[i]),this.options.addedItems.push(e[i]))}_updateRemovedItemKeys(t,e,i){for(var n=0;n<e.length;n++)this.isItemKeySelected(e[n])||(this.options.removedItemKeys.push(e[n]),this.options.removedItems.push(i[n]))}_isItemSelectionInProgress(t,e){var i;return!!(e&&this._lastRequestData&&this._requestInProgress())&&(null!==(i=this._lastRequestData.addedItems)&&void 0!==i?i:[]).includes(t)}_getKeyHash(t){return this.options.equalByReference?t:Object(r.l)(t)}setSelectedItems(t,e){this._updateAddedItemKeys(t,e);var i=this.options.selectedItemKeys,n=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(t)),this._setOption("selectedItemKeys",t),this._setOption("selectedItems",e),this._updateRemovedItemKeys(t,i,n)}isItemDataSelected(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.options.keyOf(t);return this.isItemKeySelected(i,e)}isItemKeySelected(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this._isItemSelectionInProgress(t,e.checkPending);if(!i){var n=this._getKeyHash(t);i=-1!==this._indexOfSelectedItemKey(n)}return i}getSelectAllState(t){return t?this._getVisibleSelectAllState():this._getFullSelectAllState()}loadSelectedItemsWithFilter(){var t=this.options.key(),e=this.getSelectedItemKeys(),i=this.options.filter();if(!e.length)return Object(a.a)().resolve([]);var n=new u(e).getCombinedFilter(t,i,!0);return this._loadFilteredData(n)}}var f=i(241);class p{constructor(t){this.options=Object(f.a)(this._getDefaultOptions(),t,{selectedItemKeys:t.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new c(this.options):new _(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_getDefaultOptions(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:r.n,key:r.n,keyOf:function(t){return t},load:function(){return(new a.a).resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(t){return t},dataFields:r.n,filter:r.n}}validate(){this._selectionStrategy.validate()}getSelectedItemKeys(){return this._selectionStrategy.getSelectedItemKeys()}getSelectedItems(){return this._selectionStrategy.getSelectedItems()}selectionFilter(t){if(void 0===t)return this.options.selectionFilter;var e=this.options.selectionFilter!==t&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(t);this.options.selectionFilter=t,e&&this.onSelectionChanged()}setSelection(t,e){return this.selectedItemKeys(t,!1,!1,!1,e)}select(t){return this.selectedItemKeys(t,!0)}deselect(t){return this.selectedItemKeys(t,!0,!0)}selectedItemKeys(t,e,i,n,s){var r;return t=null!==(r=t)&&void 0!==r?r:[],t=Array.isArray(t)?t:[t],this.validate(),this._selectionStrategy.selectedItemKeys(t,e,i,n,s)}clearSelection(){return this.selectedItemKeys([])}_addSelectedItem(t,e){this._selectionStrategy.addSelectedItem(e,t)}_removeSelectedItem(t){this._selectionStrategy.removeSelectedItem(t)}_setSelectedItems(t,e){this._selectionStrategy.setSelectedItems(t,e)}onSelectionChanged(){this._selectionStrategy.onSelectionChanged()}changeItemSelection(t,e,i){var s,r,o,l,c,h=this.options.plainItems(),d=h[t],u=!1,_=!1,f=t=>t>=0&&!h.filter(e=>e.loadIndex===t).length;if((null===(s=(r=this.options).allowLoadByRange)||void 0===s?void 0:s.call(r))&&Object(n.d)(d)&&(c=d.loadIndex-t,t=d.loadIndex,u=f(this._focusedItemIndex),Object(n.d)(this._shiftFocusedItemIndex)&&(_=f(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(d))return!1;var p=this.options.getItemData(d),m=this.options.keyOf(p);if((e=e||{}).shift&&"multiple"===this.options.mode&&this._focusedItemIndex>=0)u||_?(o=t!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex)&&(l=this.changeItemSelectionWhenShiftKeyInVirtualPaging(t)):o=this.changeItemSelectionWhenShiftKeyPressed(t,h,c);else if(e.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!i){var g=this._selectionStrategy.isItemDataSelected(p);"single"===this.options.mode&&this.clearSelectedItems(),g?this._removeSelectedItem(m):this._addSelectedItem(p,m)}o=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var v=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],m);1===this.options.selectedItemKeys.length&&v||(this._setSelectedItems([m],[p]),o=!0)}return o?(Object(a.c)(l).done(()=>{this._focusedItemIndex=t,!i&&this.onSelectionChanged()}),!0):void 0}isDataItem(t){return this.options.isSelectableItem(t)}isSelectable(){return"single"===this.options.mode||"multiple"===this.options.mode}isItemDataSelected(t){return this._selectionStrategy.isItemDataSelected(t,{checkPending:!0})}isItemSelected(t,e){return this._selectionStrategy.isItemKeySelected(t,e)}_resetItemSelectionWhenShiftKeyPressed(){delete this._shiftFocusedItemIndex}_resetFocusedItemIndex(){this._focusedItemIndex=-1}changeItemSelectionWhenShiftKeyInVirtualPaging(t){var e=this.options.getLoadOptions(t,this._focusedItemIndex,this._shiftFocusedItemIndex),i=new a.a,n=e.skip;return this.options.load(e).done(e=>{this.changeItemSelectionWhenShiftKeyPressed(t,e,n),i.resolve()}),i.promise()}changeItemSelectionWhenShiftKeyPressed(t,e,i){var s,r,a,o,l,c=!1,h=Object(n.d)(i),d=h?this._focusedItemIndex-i:this._focusedItemIndex,u=this.options.keyOf,_=e[d],f=this.options.getItemData(_),p=u(f),m=_&&this.isItemDataSelected(f);if(Object(n.d)(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex),this._shiftFocusedItemIndex!==this._focusedItemIndex)for(s=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,o=h?this._focusedItemIndex-i:this._focusedItemIndex,l=h?this._shiftFocusedItemIndex-i:this._shiftFocusedItemIndex,d=o;d!==l;d+=s)(h||this.isDataItem(e[d]))&&(a=u(this.options.getItemData(e[d])),this._removeSelectedItem(a),c=!0);if(t!==this._shiftFocusedItemIndex)for(s=t<this._shiftFocusedItemIndex?1:-1,o=h?t-i:t,l=h?this._shiftFocusedItemIndex-i:this._shiftFocusedItemIndex,d=o;d!==l;d+=s)(h||this.isDataItem(e[d]))&&(a=u(r=this.options.getItemData(e[d])),this._addSelectedItem(r,a),c=!0);return!h&&!this.isDataItem(_)||m||(this._addSelectedItem(f,p),c=!0),c}clearSelectedItems(){this._setSelectedItems([],[])}selectAll(t){return this._resetFocusedItemIndex(),t?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)}deselectAll(t){return this._resetFocusedItemIndex(),t?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)}_onePageSelectAll(t){for(var e=this._selectionStrategy.getSelectableItems(this.options.plainItems()),i=0;i<e.length;i++){var n=e[i];if(this.isDataItem(n)){var s=this.options.getItemData(n),r=this.options.keyOf(s),o=this.isItemSelected(r);o||t||this._addSelectedItem(s,r),o&&t&&this._removeSelectedItem(r)}}return this.onSelectionChanged(),(new a.a).resolve()}getSelectAllState(t){return this._selectionStrategy.getSelectAllState(t)}loadSelectedItemsWithFilter(){return this._selectionStrategy.loadSelectedItemsWithFilter()}}},522:function(t,e,i){"use strict";var n=i(249),s=i(240),r=i(246),a=i(278),o=i(274),l=i(243),c=i(242),h=i(241),d=i(256),u=i(247),_=i(251),f=i(253),p=i(349),m=i(248),g=i(450),v=i(408),b=i(304),y=i(502),I=i(245),S=i(254),O=i(283),x=i(503),C=i(460);var j="dxScrollable",E=p.a.inherit({_getDefaultOptions:function(){return Object(h.a)(this.callBase(),{disabled:!1,onScroll:null,direction:"vertical",showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(Object(y.a)(),[{device:function(){return a.nativeScrolling&&"android"===_.a.real().platform&&!o.a.mozilla},options:{useSimulatedScrollbar:!0}}])},_initOptions:function(t){this.callBase(t),"useSimulatedScrollbar"in t||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(t){t?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var t=this.$element().addClass("dx-scrollable"),e=this._$container=Object(s.a)("<div>").addClass("dx-scrollable-container"),i=this._$wrapper=Object(s.a)("<div>").addClass("dx-scrollable-wrapper");(this._$content=Object(s.a)("<div>").addClass("dx-scrollable-content")).append(t.contents()).appendTo(e),e.appendTo(i),i.appendTo(t)},_dimensionChanged:function(){this.update(),this._updateRtlPosition()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition:function(t){this._strategy.updateRtlPosition(t)},_getMaxOffset:function(){var{scrollWidth:t,clientWidth:e,scrollHeight:i,clientHeight:n}=Object(s.a)(this.container()).get(0);return{left:t-e,top:i-n}},_attachEventHandlers:function(){var t=this._strategy,e={getDirection:t.getDirection.bind(t),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};r.a.off(this._$wrapper,"."+j),r.a.on(this._$wrapper,Object(m.a)(g.a.init,j),e,this._initHandler.bind(this)),r.a.on(this._$wrapper,Object(m.a)(g.a.start,j),t.handleStart.bind(t)),r.a.on(this._$wrapper,Object(m.a)(g.a.move,j),t.handleMove.bind(t)),r.a.on(this._$wrapper,Object(m.a)(g.a.end,j),t.handleEnd.bind(t)),r.a.on(this._$wrapper,Object(m.a)(g.a.cancel,j),t.handleCancel.bind(t)),r.a.on(this._$wrapper,Object(m.a)(g.a.stop,j),t.handleStop.bind(t)),r.a.off(this._$container,"."+j),r.a.on(this._$container,Object(m.a)("scroll",j),t.handleScroll.bind(t))},_validate:function(t){return!this._isLocked()&&(this._updateIfNeed(),this._moveIsAllowed(t))},_moveIsAllowed(t){return this._strategy.validate(t)},handleMove(t){this._strategy.handleMove(t)},_prepareDirections(t){this._strategy._prepareDirections(t)},_initHandler:function(){var t=this._strategy;t.handleInit.apply(t,arguments)},_renderDisabledState:function(){this.$element().toggleClass("dx-scrollable-disabled",this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-horizontal").removeClass("dx-scrollable-vertical").removeClass("dx-scrollable-both").addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data("dxScrollableStrategy",this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new b.a(this):new v.b(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(t){switch(t.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":case"scrollByContent":break;case"width":this.callBase(t),this._updateRtlPosition();break;default:this.callBase(t)}},_resetInactiveDirection:function(){var t=this._getInactiveProp();if(t&&Object(u.f)()){var e=this.scrollOffset();e[t]=0,this.scrollTo(e)}},_getInactiveProp:function(){var t=this.option("direction");return"vertical"===t?"left":"horizontal"===t?"top":void 0},_location:function(){return this._strategy.location()},_normalizeLocation:function(t){if(Object(c.k)(t)){var e=Object(l.g)(t.left,t.x),i=Object(l.g)(t.top,t.y);return{left:Object(c.d)(e)?-e:void 0,top:Object(c.d)(i)?-i:void 0}}var n=this.option("direction");return{left:"vertical"!==n?-t:void 0,top:"horizontal"!==n?-t:void 0}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(t){var e=this.option("direction");return"vertical"===t?"horizontal"!==e:"horizontal"===t?"vertical"!==e:e===t},_updateAllowedDirection:function(){var t=this._strategy._allowedDirections();this._isDirection("both")&&t.vertical&&t.horizontal?this._allowedDirectionValue="both":this._isDirection("horizontal")&&t.horizontal?this._allowedDirectionValue="horizontal":this._isDirection("vertical")&&t.vertical?this._allowedDirectionValue="vertical":this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},$content:function(){return this._$content},content:function(){return Object(d.a)(this._$content)},container:function(){return Object(d.a)(this._$container)},scrollOffset:function(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy:function(){var{useNative:t,rtlEnabled:e}=this.option();return t&&e},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return Object(n.d)(this._$container)},scrollHeight:function(){return Object(n.h)(this.$content())},clientWidth:function(){return Object(n.l)(this._$container)},scrollWidth:function(){return Object(n.i)(this.$content())},update:function(){if(this._strategy)return Object(I.c)(this._strategy.update()).done(function(){this._updateAllowedDirection()}.bind(this))},scrollBy:function(t){((t=this._normalizeLocation(t)).top||t.left)&&(this._updateIfNeed(),this._strategy.scrollBy(t))},scrollTo:function(t){t=this._normalizeLocation(t),this._updateIfNeed();var e=this._location();this.option("useNative")||(t=this._strategy._applyScaleRatio(t),e=this._strategy._applyScaleRatio(e)),this._isRtlNativeStrategy()&&(e.left=e.left-this._getMaxOffset().left);var i=this._normalizeLocation({left:e.left-Object(l.g)(t.left,e.left),top:e.top-Object(l.g)(t.top,e.top)});(i.top||i.left)&&this._strategy.scrollBy(i)},scrollToElement:function(t,e){var i=Object(s.a)(t),n=this.$content().find(t).length,r=i.parents(".dx-scrollable").length-i.parents(".dx-scrollable-content").length==0;if(n&&r){var a={top:0,left:0},o=this.option("direction");"vertical"!==o&&(a.left=this.getScrollElementPosition(i,"horizontal",e)),"horizontal"!==o&&(a.top=this.getScrollElementPosition(i,"vertical",e)),this.scrollTo(a)}},getScrollElementPosition:function(t,e,i){var n=this.scrollOffset();return function(t,e,i,n,s){var r=Object(S.a)({top:0,left:0,right:0,bottom:0},s),a=e===C.c,o=a?"top":"left",l=a?"bottom":"right",c=a?"height":"width",h=i["offset".concat(Object(O.e)(c))],d=i["client".concat(Object(O.e)(c))],u=i.getBoundingClientRect()[c],_=t.getBoundingClientRect()[c],f=1;Math.abs(u-h)>1&&(f=u/h);var p=Object(x.a)(C.d,t)[o]/f,m=n[o],g=m-p+r[o],v=m-p-_/f+d-r[l];return g<=0&&v>=0?m:m-(Math.abs(g)>Math.abs(v)?v:g)}(t.get(0),e,Object(s.a)(this.container()).get(0),n,i)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1},isRenovated:function(){return!!E.IS_RENOVATED_WIDGET}});Object(f.a)(j,E);e.a=E}}]);